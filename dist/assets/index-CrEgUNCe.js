function vR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var _R=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dE={exports:{}},Gh={},fE={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ll=Symbol.for("react.element"),wR=Symbol.for("react.portal"),ER=Symbol.for("react.fragment"),TR=Symbol.for("react.strict_mode"),IR=Symbol.for("react.profiler"),SR=Symbol.for("react.provider"),AR=Symbol.for("react.context"),CR=Symbol.for("react.forward_ref"),RR=Symbol.for("react.suspense"),kR=Symbol.for("react.memo"),PR=Symbol.for("react.lazy"),r_=Symbol.iterator;function xR(t){return t===null||typeof t!="object"?null:(t=r_&&t[r_]||t["@@iterator"],typeof t=="function"?t:null)}var pE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gE=Object.assign,mE={};function pa(t,e,n){this.props=t,this.context=e,this.refs=mE,this.updater=n||pE}pa.prototype.isReactComponent={};pa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};pa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function yE(){}yE.prototype=pa.prototype;function tm(t,e,n){this.props=t,this.context=e,this.refs=mE,this.updater=n||pE}var nm=tm.prototype=new yE;nm.constructor=tm;gE(nm,pa.prototype);nm.isPureReactComponent=!0;var i_=Array.isArray,vE=Object.prototype.hasOwnProperty,rm={current:null},_E={key:!0,ref:!0,__self:!0,__source:!0};function wE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)vE.call(e,r)&&!_E.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var c=Array(u),h=0;h<u;h++)c[h]=arguments[h+2];i.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:ll,type:t,key:s,ref:o,props:i,_owner:rm.current}}function NR(t,e){return{$$typeof:ll,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function im(t){return typeof t=="object"&&t!==null&&t.$$typeof===ll}function DR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var s_=/\/+/g;function If(t,e){return typeof t=="object"&&t!==null&&t.key!=null?DR(""+t.key):e.toString(36)}function Pc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ll:case wR:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+If(o,0):r,i_(i)?(n="",t!=null&&(n=t.replace(s_,"$&/")+"/"),Pc(i,e,n,"",function(h){return h})):i!=null&&(im(i)&&(i=NR(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(s_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",i_(t))for(var u=0;u<t.length;u++){s=t[u];var c=r+If(s,u);o+=Pc(s,e,n,c,i)}else if(c=xR(t),typeof c=="function")for(t=c.call(t),u=0;!(s=t.next()).done;)s=s.value,c=r+If(s,u++),o+=Pc(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Jl(t,e,n){if(t==null)return t;var r=[],i=0;return Pc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function OR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vn={current:null},xc={transition:null},bR={ReactCurrentDispatcher:vn,ReactCurrentBatchConfig:xc,ReactCurrentOwner:rm};Ve.Children={map:Jl,forEach:function(t,e,n){Jl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Jl(t,function(){e++}),e},toArray:function(t){return Jl(t,function(e){return e})||[]},only:function(t){if(!im(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ve.Component=pa;Ve.Fragment=ER;Ve.Profiler=IR;Ve.PureComponent=tm;Ve.StrictMode=TR;Ve.Suspense=RR;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bR;Ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=gE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=rm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)vE.call(e,c)&&!_E.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:ll,type:t.type,key:i,ref:s,props:r,_owner:o}};Ve.createContext=function(t){return t={$$typeof:AR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:SR,_context:t},t.Consumer=t};Ve.createElement=wE;Ve.createFactory=function(t){var e=wE.bind(null,t);return e.type=t,e};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(t){return{$$typeof:CR,render:t}};Ve.isValidElement=im;Ve.lazy=function(t){return{$$typeof:PR,_payload:{_status:-1,_result:t},_init:OR}};Ve.memo=function(t,e){return{$$typeof:kR,type:t,compare:e===void 0?null:e}};Ve.startTransition=function(t){var e=xc.transition;xc.transition={};try{t()}finally{xc.transition=e}};Ve.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ve.useCallback=function(t,e){return vn.current.useCallback(t,e)};Ve.useContext=function(t){return vn.current.useContext(t)};Ve.useDebugValue=function(){};Ve.useDeferredValue=function(t){return vn.current.useDeferredValue(t)};Ve.useEffect=function(t,e){return vn.current.useEffect(t,e)};Ve.useId=function(){return vn.current.useId()};Ve.useImperativeHandle=function(t,e,n){return vn.current.useImperativeHandle(t,e,n)};Ve.useInsertionEffect=function(t,e){return vn.current.useInsertionEffect(t,e)};Ve.useLayoutEffect=function(t,e){return vn.current.useLayoutEffect(t,e)};Ve.useMemo=function(t,e){return vn.current.useMemo(t,e)};Ve.useReducer=function(t,e,n){return vn.current.useReducer(t,e,n)};Ve.useRef=function(t){return vn.current.useRef(t)};Ve.useState=function(t){return vn.current.useState(t)};Ve.useSyncExternalStore=function(t,e,n){return vn.current.useSyncExternalStore(t,e,n)};Ve.useTransition=function(){return vn.current.useTransition()};Ve.version="18.2.0";fE.exports=Ve;var $=fE.exports;const Dn=hE($),LR=vR({__proto__:null,default:Dn},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VR=$,MR=Symbol.for("react.element"),UR=Symbol.for("react.fragment"),FR=Object.prototype.hasOwnProperty,jR=VR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$R={key:!0,ref:!0,__self:!0,__source:!0};function EE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)FR.call(e,r)&&!$R.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:MR,type:t,key:s,ref:o,props:i,_owner:jR.current}}Gh.Fragment=UR;Gh.jsx=EE;Gh.jsxs=EE;dE.exports=Gh;var W=dE.exports,Sp={},TE={exports:{}},$n={},IE={exports:{}},SE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ne,pe){var we=ne.length;ne.push(pe);e:for(;0<we;){var Ge=we-1>>>1,Je=ne[Ge];if(0<i(Je,pe))ne[Ge]=pe,ne[we]=Je,we=Ge;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var pe=ne[0],we=ne.pop();if(we!==pe){ne[0]=we;e:for(var Ge=0,Je=ne.length,zn=Je>>>1;Ge<zn;){var un=2*(Ge+1)-1,qr=ne[un],ln=un+1,rr=ne[ln];if(0>i(qr,we))ln<Je&&0>i(rr,qr)?(ne[Ge]=rr,ne[ln]=we,Ge=ln):(ne[Ge]=qr,ne[un]=we,Ge=un);else if(ln<Je&&0>i(rr,we))ne[Ge]=rr,ne[ln]=we,Ge=ln;else break e}}return pe}function i(ne,pe){var we=ne.sortIndex-pe.sortIndex;return we!==0?we:ne.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var c=[],h=[],g=1,v=null,w=3,A=!1,S=!1,C=!1,D=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(ne){for(var pe=n(h);pe!==null;){if(pe.callback===null)r(h);else if(pe.startTime<=ne)r(h),pe.sortIndex=pe.expirationTime,e(c,pe);else break;pe=n(h)}}function b(ne){if(C=!1,k(ne),!S)if(n(c)!==null)S=!0,wt(q);else{var pe=n(h);pe!==null&&He(b,pe.startTime-ne)}}function q(ne,pe){S=!1,C&&(C=!1,E(ie),ie=-1),A=!0;var we=w;try{for(k(pe),v=n(c);v!==null&&(!(v.expirationTime>pe)||ne&&!Te());){var Ge=v.callback;if(typeof Ge=="function"){v.callback=null,w=v.priorityLevel;var Je=Ge(v.expirationTime<=pe);pe=t.unstable_now(),typeof Je=="function"?v.callback=Je:v===n(c)&&r(c),k(pe)}else r(c);v=n(c)}if(v!==null)var zn=!0;else{var un=n(h);un!==null&&He(b,un.startTime-pe),zn=!1}return zn}finally{v=null,w=we,A=!1}}var X=!1,f=null,ie=-1,z=5,F=-1;function Te(){return!(t.unstable_now()-F<z)}function ye(){if(f!==null){var ne=t.unstable_now();F=ne;var pe=!0;try{pe=f(!0,ne)}finally{pe?Z():(X=!1,f=null)}}else X=!1}var Z;if(typeof T=="function")Z=function(){T(ye)};else if(typeof MessageChannel<"u"){var qe=new MessageChannel,ht=qe.port2;qe.port1.onmessage=ye,Z=function(){ht.postMessage(null)}}else Z=function(){D(ye,0)};function wt(ne){f=ne,X||(X=!0,Z())}function He(ne,pe){ie=D(function(){ne(t.unstable_now())},pe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_continueExecution=function(){S||A||(S=!0,wt(q))},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(ne){switch(w){case 1:case 2:case 3:var pe=3;break;default:pe=w}var we=w;w=pe;try{return ne()}finally{w=we}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ne,pe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var we=w;w=ne;try{return pe()}finally{w=we}},t.unstable_scheduleCallback=function(ne,pe,we){var Ge=t.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?Ge+we:Ge):we=Ge,ne){case 1:var Je=-1;break;case 2:Je=250;break;case 5:Je=1073741823;break;case 4:Je=1e4;break;default:Je=5e3}return Je=we+Je,ne={id:g++,callback:pe,priorityLevel:ne,startTime:we,expirationTime:Je,sortIndex:-1},we>Ge?(ne.sortIndex=we,e(h,ne),n(c)===null&&ne===n(h)&&(C?(E(ie),ie=-1):C=!0,He(b,we-Ge))):(ne.sortIndex=Je,e(c,ne),S||A||(S=!0,wt(q))),ne},t.unstable_shouldYield=Te,t.unstable_wrapCallback=function(ne){var pe=w;return function(){var we=w;w=pe;try{return ne.apply(this,arguments)}finally{w=we}}}})(SE);IE.exports=SE;var BR=IE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE=$,Fn=BR;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var CE=new Set,Au={};function Xs(t,e){Xo(t,e),Xo(t+"Capture",e)}function Xo(t,e){for(Au[t]=e,t=0;t<e.length;t++)CE.add(e[t])}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ap=Object.prototype.hasOwnProperty,zR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,o_={},a_={};function qR(t){return Ap.call(a_,t)?!0:Ap.call(o_,t)?!1:zR.test(t)?a_[t]=!0:(o_[t]=!0,!1)}function HR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function WR(t,e,n,r){if(e===null||typeof e>"u"||HR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _n(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Gt[t]=new _n(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Gt[e]=new _n(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Gt[t]=new _n(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Gt[t]=new _n(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Gt[t]=new _n(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Gt[t]=new _n(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Gt[t]=new _n(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Gt[t]=new _n(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Gt[t]=new _n(t,5,!1,t.toLowerCase(),null,!1,!1)});var sm=/[\-:]([a-z])/g;function om(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(sm,om);Gt[e]=new _n(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(sm,om);Gt[e]=new _n(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(sm,om);Gt[e]=new _n(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Gt[t]=new _n(t,1,!1,t.toLowerCase(),null,!1,!1)});Gt.xlinkHref=new _n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Gt[t]=new _n(t,1,!1,t.toLowerCase(),null,!0,!0)});function am(t,e,n,r){var i=Gt.hasOwnProperty(e)?Gt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(WR(e,n,i,r)&&(n=null),r||i===null?qR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var fi=AE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zl=Symbol.for("react.element"),So=Symbol.for("react.portal"),Ao=Symbol.for("react.fragment"),um=Symbol.for("react.strict_mode"),Cp=Symbol.for("react.profiler"),RE=Symbol.for("react.provider"),kE=Symbol.for("react.context"),lm=Symbol.for("react.forward_ref"),Rp=Symbol.for("react.suspense"),kp=Symbol.for("react.suspense_list"),cm=Symbol.for("react.memo"),Ei=Symbol.for("react.lazy"),PE=Symbol.for("react.offscreen"),u_=Symbol.iterator;function La(t){return t===null||typeof t!="object"?null:(t=u_&&t[u_]||t["@@iterator"],typeof t=="function"?t:null)}var pt=Object.assign,Sf;function Ga(t){if(Sf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Sf=e&&e[1]||""}return`
`+Sf+t}var Af=!1;function Cf(t,e){if(!t||Af)return"";Af=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=u);break}}}finally{Af=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ga(t):""}function KR(t){switch(t.tag){case 5:return Ga(t.type);case 16:return Ga("Lazy");case 13:return Ga("Suspense");case 19:return Ga("SuspenseList");case 0:case 2:case 15:return t=Cf(t.type,!1),t;case 11:return t=Cf(t.type.render,!1),t;case 1:return t=Cf(t.type,!0),t;default:return""}}function Pp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ao:return"Fragment";case So:return"Portal";case Cp:return"Profiler";case um:return"StrictMode";case Rp:return"Suspense";case kp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case kE:return(t.displayName||"Context")+".Consumer";case RE:return(t._context.displayName||"Context")+".Provider";case lm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cm:return e=t.displayName||null,e!==null?e:Pp(t.type)||"Memo";case Ei:e=t._payload,t=t._init;try{return Pp(t(e))}catch{}}return null}function GR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pp(e);case 8:return e===um?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ki(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function QR(t){var e=xE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ec(t){t._valueTracker||(t._valueTracker=QR(t))}function NE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=xE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Xc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xp(t,e){var n=e.checked;return pt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function l_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ki(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function DE(t,e){e=e.checked,e!=null&&am(t,"checked",e,!1)}function Np(t,e){DE(t,e);var n=Ki(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Dp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Dp(t,e.type,Ki(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function c_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Dp(t,e,n){(e!=="number"||Xc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qa=Array.isArray;function Fo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ki(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Op(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return pt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function h_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(Qa(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ki(n)}}function OE(t,e){var n=Ki(e.value),r=Ki(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function d_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function bE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?bE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var tc,LE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(tc=tc||document.createElement("div"),tc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=tc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Cu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ou={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XR=["Webkit","ms","Moz","O"];Object.keys(ou).forEach(function(t){XR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ou[e]=ou[t]})});function VE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ou.hasOwnProperty(t)&&ou[t]?(""+e).trim():e+"px"}function ME(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=VE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var YR=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lp(t,e){if(e){if(YR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function Vp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mp=null;function hm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Up=null,jo=null,$o=null;function f_(t){if(t=dl(t)){if(typeof Up!="function")throw Error(J(280));var e=t.stateNode;e&&(e=Zh(e),Up(t.stateNode,t.type,e))}}function UE(t){jo?$o?$o.push(t):$o=[t]:jo=t}function FE(){if(jo){var t=jo,e=$o;if($o=jo=null,f_(t),e)for(t=0;t<e.length;t++)f_(e[t])}}function jE(t,e){return t(e)}function $E(){}var Rf=!1;function BE(t,e,n){if(Rf)return t(e,n);Rf=!0;try{return jE(t,e,n)}finally{Rf=!1,(jo!==null||$o!==null)&&($E(),FE())}}function Ru(t,e){var n=t.stateNode;if(n===null)return null;var r=Zh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var Fp=!1;if(oi)try{var Va={};Object.defineProperty(Va,"passive",{get:function(){Fp=!0}}),window.addEventListener("test",Va,Va),window.removeEventListener("test",Va,Va)}catch{Fp=!1}function JR(t,e,n,r,i,s,o,u,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(g){this.onError(g)}}var au=!1,Yc=null,Jc=!1,jp=null,ZR={onError:function(t){au=!0,Yc=t}};function ek(t,e,n,r,i,s,o,u,c){au=!1,Yc=null,JR.apply(ZR,arguments)}function tk(t,e,n,r,i,s,o,u,c){if(ek.apply(this,arguments),au){if(au){var h=Yc;au=!1,Yc=null}else throw Error(J(198));Jc||(Jc=!0,jp=h)}}function Ys(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function zE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function p_(t){if(Ys(t)!==t)throw Error(J(188))}function nk(t){var e=t.alternate;if(!e){if(e=Ys(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return p_(i),t;if(s===r)return p_(i),e;s=s.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=s;break}if(u===r){o=!0,r=i,n=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===n){o=!0,n=s,r=i;break}if(u===r){o=!0,r=s,n=i;break}u=u.sibling}if(!o)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function qE(t){return t=nk(t),t!==null?HE(t):null}function HE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=HE(t);if(e!==null)return e;t=t.sibling}return null}var WE=Fn.unstable_scheduleCallback,g_=Fn.unstable_cancelCallback,rk=Fn.unstable_shouldYield,ik=Fn.unstable_requestPaint,Tt=Fn.unstable_now,sk=Fn.unstable_getCurrentPriorityLevel,dm=Fn.unstable_ImmediatePriority,KE=Fn.unstable_UserBlockingPriority,Zc=Fn.unstable_NormalPriority,ok=Fn.unstable_LowPriority,GE=Fn.unstable_IdlePriority,Qh=null,Nr=null;function ak(t){if(Nr&&typeof Nr.onCommitFiberRoot=="function")try{Nr.onCommitFiberRoot(Qh,t,void 0,(t.current.flags&128)===128)}catch{}}var hr=Math.clz32?Math.clz32:ck,uk=Math.log,lk=Math.LN2;function ck(t){return t>>>=0,t===0?32:31-(uk(t)/lk|0)|0}var nc=64,rc=4194304;function Xa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function eh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var u=o&~i;u!==0?r=Xa(u):(s&=o,s!==0&&(r=Xa(s)))}else o=n&~i,o!==0?r=Xa(o):s!==0&&(r=Xa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-hr(e),i=1<<n,r|=t[n],e&=~i;return r}function hk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-hr(s),u=1<<o,c=i[o];c===-1?(!(u&n)||u&r)&&(i[o]=hk(u,e)):c<=e&&(t.expiredLanes|=u),s&=~u}}function $p(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function QE(){var t=nc;return nc<<=1,!(nc&4194240)&&(nc=64),t}function kf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function cl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hr(e),t[e]=n}function fk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-hr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function fm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-hr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Xe=0;function XE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var YE,pm,JE,ZE,eT,Bp=!1,ic=[],Li=null,Vi=null,Mi=null,ku=new Map,Pu=new Map,Ii=[],pk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function m_(t,e){switch(t){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":ku.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pu.delete(e.pointerId)}}function Ma(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=dl(e),e!==null&&pm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function gk(t,e,n,r,i){switch(e){case"focusin":return Li=Ma(Li,t,e,n,r,i),!0;case"dragenter":return Vi=Ma(Vi,t,e,n,r,i),!0;case"mouseover":return Mi=Ma(Mi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ku.set(s,Ma(ku.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pu.set(s,Ma(Pu.get(s)||null,t,e,n,r,i)),!0}return!1}function tT(t){var e=Ts(t.target);if(e!==null){var n=Ys(e);if(n!==null){if(e=n.tag,e===13){if(e=zE(n),e!==null){t.blockedOn=e,eT(t.priority,function(){JE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Mp=r,n.target.dispatchEvent(r),Mp=null}else return e=dl(n),e!==null&&pm(e),t.blockedOn=n,!1;e.shift()}return!0}function y_(t,e,n){Nc(t)&&n.delete(e)}function mk(){Bp=!1,Li!==null&&Nc(Li)&&(Li=null),Vi!==null&&Nc(Vi)&&(Vi=null),Mi!==null&&Nc(Mi)&&(Mi=null),ku.forEach(y_),Pu.forEach(y_)}function Ua(t,e){t.blockedOn===e&&(t.blockedOn=null,Bp||(Bp=!0,Fn.unstable_scheduleCallback(Fn.unstable_NormalPriority,mk)))}function xu(t){function e(i){return Ua(i,t)}if(0<ic.length){Ua(ic[0],t);for(var n=1;n<ic.length;n++){var r=ic[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Li!==null&&Ua(Li,t),Vi!==null&&Ua(Vi,t),Mi!==null&&Ua(Mi,t),ku.forEach(e),Pu.forEach(e),n=0;n<Ii.length;n++)r=Ii[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ii.length&&(n=Ii[0],n.blockedOn===null);)tT(n),n.blockedOn===null&&Ii.shift()}var Bo=fi.ReactCurrentBatchConfig,th=!0;function yk(t,e,n,r){var i=Xe,s=Bo.transition;Bo.transition=null;try{Xe=1,gm(t,e,n,r)}finally{Xe=i,Bo.transition=s}}function vk(t,e,n,r){var i=Xe,s=Bo.transition;Bo.transition=null;try{Xe=4,gm(t,e,n,r)}finally{Xe=i,Bo.transition=s}}function gm(t,e,n,r){if(th){var i=zp(t,e,n,r);if(i===null)Uf(t,e,r,nh,n),m_(t,r);else if(gk(i,t,e,n,r))r.stopPropagation();else if(m_(t,r),e&4&&-1<pk.indexOf(t)){for(;i!==null;){var s=dl(i);if(s!==null&&YE(s),s=zp(t,e,n,r),s===null&&Uf(t,e,r,nh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Uf(t,e,r,null,n)}}var nh=null;function zp(t,e,n,r){if(nh=null,t=hm(r),t=Ts(t),t!==null)if(e=Ys(t),e===null)t=null;else if(n=e.tag,n===13){if(t=zE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return nh=t,null}function nT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sk()){case dm:return 1;case KE:return 4;case Zc:case ok:return 16;case GE:return 536870912;default:return 16}default:return 16}}var xi=null,mm=null,Dc=null;function rT(){if(Dc)return Dc;var t,e=mm,n=e.length,r,i="value"in xi?xi.value:xi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Dc=i.slice(t,1<r?1-r:void 0)}function Oc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sc(){return!0}function v_(){return!1}function Bn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sc:v_,this.isPropagationStopped=v_,this}return pt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sc)},persist:function(){},isPersistent:sc}),e}var ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ym=Bn(ga),hl=pt({},ga,{view:0,detail:0}),_k=Bn(hl),Pf,xf,Fa,Xh=pt({},hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fa&&(Fa&&t.type==="mousemove"?(Pf=t.screenX-Fa.screenX,xf=t.screenY-Fa.screenY):xf=Pf=0,Fa=t),Pf)},movementY:function(t){return"movementY"in t?t.movementY:xf}}),__=Bn(Xh),wk=pt({},Xh,{dataTransfer:0}),Ek=Bn(wk),Tk=pt({},hl,{relatedTarget:0}),Nf=Bn(Tk),Ik=pt({},ga,{animationName:0,elapsedTime:0,pseudoElement:0}),Sk=Bn(Ik),Ak=pt({},ga,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ck=Bn(Ak),Rk=pt({},ga,{data:0}),w_=Bn(Rk),kk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xk[t])?!!e[t]:!1}function vm(){return Nk}var Dk=pt({},hl,{key:function(t){if(t.key){var e=kk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Oc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Pk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vm,charCode:function(t){return t.type==="keypress"?Oc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Oc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ok=Bn(Dk),bk=pt({},Xh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E_=Bn(bk),Lk=pt({},hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vm}),Vk=Bn(Lk),Mk=pt({},ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uk=Bn(Mk),Fk=pt({},Xh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jk=Bn(Fk),$k=[9,13,27,32],_m=oi&&"CompositionEvent"in window,uu=null;oi&&"documentMode"in document&&(uu=document.documentMode);var Bk=oi&&"TextEvent"in window&&!uu,iT=oi&&(!_m||uu&&8<uu&&11>=uu),T_=" ",I_=!1;function sT(t,e){switch(t){case"keyup":return $k.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Co=!1;function zk(t,e){switch(t){case"compositionend":return oT(e);case"keypress":return e.which!==32?null:(I_=!0,T_);case"textInput":return t=e.data,t===T_&&I_?null:t;default:return null}}function qk(t,e){if(Co)return t==="compositionend"||!_m&&sT(t,e)?(t=rT(),Dc=mm=xi=null,Co=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return iT&&e.locale!=="ko"?null:e.data;default:return null}}var Hk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Hk[t.type]:e==="textarea"}function aT(t,e,n,r){UE(r),e=rh(e,"onChange"),0<e.length&&(n=new ym("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var lu=null,Nu=null;function Wk(t){vT(t,0)}function Yh(t){var e=Po(t);if(NE(e))return t}function Kk(t,e){if(t==="change")return e}var uT=!1;if(oi){var Df;if(oi){var Of="oninput"in document;if(!Of){var A_=document.createElement("div");A_.setAttribute("oninput","return;"),Of=typeof A_.oninput=="function"}Df=Of}else Df=!1;uT=Df&&(!document.documentMode||9<document.documentMode)}function C_(){lu&&(lu.detachEvent("onpropertychange",lT),Nu=lu=null)}function lT(t){if(t.propertyName==="value"&&Yh(Nu)){var e=[];aT(e,Nu,t,hm(t)),BE(Wk,e)}}function Gk(t,e,n){t==="focusin"?(C_(),lu=e,Nu=n,lu.attachEvent("onpropertychange",lT)):t==="focusout"&&C_()}function Qk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yh(Nu)}function Xk(t,e){if(t==="click")return Yh(e)}function Yk(t,e){if(t==="input"||t==="change")return Yh(e)}function Jk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fr=typeof Object.is=="function"?Object.is:Jk;function Du(t,e){if(fr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ap.call(e,i)||!fr(t[i],e[i]))return!1}return!0}function R_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function k_(t,e){var n=R_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=R_(n)}}function cT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?cT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hT(){for(var t=window,e=Xc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Xc(t.document)}return e}function wm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Zk(t){var e=hT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&cT(n.ownerDocument.documentElement,n)){if(r!==null&&wm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=k_(n,s);var o=k_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var eP=oi&&"documentMode"in document&&11>=document.documentMode,Ro=null,qp=null,cu=null,Hp=!1;function P_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hp||Ro==null||Ro!==Xc(r)||(r=Ro,"selectionStart"in r&&wm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cu&&Du(cu,r)||(cu=r,r=rh(qp,"onSelect"),0<r.length&&(e=new ym("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ro)))}function oc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ko={animationend:oc("Animation","AnimationEnd"),animationiteration:oc("Animation","AnimationIteration"),animationstart:oc("Animation","AnimationStart"),transitionend:oc("Transition","TransitionEnd")},bf={},dT={};oi&&(dT=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function Jh(t){if(bf[t])return bf[t];if(!ko[t])return t;var e=ko[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in dT)return bf[t]=e[n];return t}var fT=Jh("animationend"),pT=Jh("animationiteration"),gT=Jh("animationstart"),mT=Jh("transitionend"),yT=new Map,x_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zi(t,e){yT.set(t,e),Xs(e,[t])}for(var Lf=0;Lf<x_.length;Lf++){var Vf=x_[Lf],tP=Vf.toLowerCase(),nP=Vf[0].toUpperCase()+Vf.slice(1);Zi(tP,"on"+nP)}Zi(fT,"onAnimationEnd");Zi(pT,"onAnimationIteration");Zi(gT,"onAnimationStart");Zi("dblclick","onDoubleClick");Zi("focusin","onFocus");Zi("focusout","onBlur");Zi(mT,"onTransitionEnd");Xo("onMouseEnter",["mouseout","mouseover"]);Xo("onMouseLeave",["mouseout","mouseover"]);Xo("onPointerEnter",["pointerout","pointerover"]);Xo("onPointerLeave",["pointerout","pointerover"]);Xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ya="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ya));function N_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,tk(r,e,void 0,t),t.currentTarget=null}function vT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var u=r[o],c=u.instance,h=u.currentTarget;if(u=u.listener,c!==s&&i.isPropagationStopped())break e;N_(i,u,h),s=c}else for(o=0;o<r.length;o++){if(u=r[o],c=u.instance,h=u.currentTarget,u=u.listener,c!==s&&i.isPropagationStopped())break e;N_(i,u,h),s=c}}}if(Jc)throw t=jp,Jc=!1,jp=null,t}function nt(t,e){var n=e[Xp];n===void 0&&(n=e[Xp]=new Set);var r=t+"__bubble";n.has(r)||(_T(e,t,2,!1),n.add(r))}function Mf(t,e,n){var r=0;e&&(r|=4),_T(n,t,r,e)}var ac="_reactListening"+Math.random().toString(36).slice(2);function Ou(t){if(!t[ac]){t[ac]=!0,CE.forEach(function(n){n!=="selectionchange"&&(rP.has(n)||Mf(n,!1,t),Mf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ac]||(e[ac]=!0,Mf("selectionchange",!1,e))}}function _T(t,e,n,r){switch(nT(e)){case 1:var i=yk;break;case 4:i=vk;break;default:i=gm}n=i.bind(null,e,n,t),i=void 0,!Fp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Uf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;u!==null;){if(o=Ts(u),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}u=u.parentNode}}r=r.return}BE(function(){var h=s,g=hm(n),v=[];e:{var w=yT.get(t);if(w!==void 0){var A=ym,S=t;switch(t){case"keypress":if(Oc(n)===0)break e;case"keydown":case"keyup":A=Ok;break;case"focusin":S="focus",A=Nf;break;case"focusout":S="blur",A=Nf;break;case"beforeblur":case"afterblur":A=Nf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=__;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=Ek;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=Vk;break;case fT:case pT:case gT:A=Sk;break;case mT:A=Uk;break;case"scroll":A=_k;break;case"wheel":A=jk;break;case"copy":case"cut":case"paste":A=Ck;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=E_}var C=(e&4)!==0,D=!C&&t==="scroll",E=C?w!==null?w+"Capture":null:w;C=[];for(var T=h,k;T!==null;){k=T;var b=k.stateNode;if(k.tag===5&&b!==null&&(k=b,E!==null&&(b=Ru(T,E),b!=null&&C.push(bu(T,b,k)))),D)break;T=T.return}0<C.length&&(w=new A(w,S,null,n,g),v.push({event:w,listeners:C}))}}if(!(e&7)){e:{if(w=t==="mouseover"||t==="pointerover",A=t==="mouseout"||t==="pointerout",w&&n!==Mp&&(S=n.relatedTarget||n.fromElement)&&(Ts(S)||S[ai]))break e;if((A||w)&&(w=g.window===g?g:(w=g.ownerDocument)?w.defaultView||w.parentWindow:window,A?(S=n.relatedTarget||n.toElement,A=h,S=S?Ts(S):null,S!==null&&(D=Ys(S),S!==D||S.tag!==5&&S.tag!==6)&&(S=null)):(A=null,S=h),A!==S)){if(C=__,b="onMouseLeave",E="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(C=E_,b="onPointerLeave",E="onPointerEnter",T="pointer"),D=A==null?w:Po(A),k=S==null?w:Po(S),w=new C(b,T+"leave",A,n,g),w.target=D,w.relatedTarget=k,b=null,Ts(g)===h&&(C=new C(E,T+"enter",S,n,g),C.target=k,C.relatedTarget=D,b=C),D=b,A&&S)t:{for(C=A,E=S,T=0,k=C;k;k=mo(k))T++;for(k=0,b=E;b;b=mo(b))k++;for(;0<T-k;)C=mo(C),T--;for(;0<k-T;)E=mo(E),k--;for(;T--;){if(C===E||E!==null&&C===E.alternate)break t;C=mo(C),E=mo(E)}C=null}else C=null;A!==null&&D_(v,w,A,C,!1),S!==null&&D!==null&&D_(v,D,S,C,!0)}}e:{if(w=h?Po(h):window,A=w.nodeName&&w.nodeName.toLowerCase(),A==="select"||A==="input"&&w.type==="file")var q=Kk;else if(S_(w))if(uT)q=Yk;else{q=Qk;var X=Gk}else(A=w.nodeName)&&A.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(q=Xk);if(q&&(q=q(t,h))){aT(v,q,n,g);break e}X&&X(t,w,h),t==="focusout"&&(X=w._wrapperState)&&X.controlled&&w.type==="number"&&Dp(w,"number",w.value)}switch(X=h?Po(h):window,t){case"focusin":(S_(X)||X.contentEditable==="true")&&(Ro=X,qp=h,cu=null);break;case"focusout":cu=qp=Ro=null;break;case"mousedown":Hp=!0;break;case"contextmenu":case"mouseup":case"dragend":Hp=!1,P_(v,n,g);break;case"selectionchange":if(eP)break;case"keydown":case"keyup":P_(v,n,g)}var f;if(_m)e:{switch(t){case"compositionstart":var ie="onCompositionStart";break e;case"compositionend":ie="onCompositionEnd";break e;case"compositionupdate":ie="onCompositionUpdate";break e}ie=void 0}else Co?sT(t,n)&&(ie="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(ie="onCompositionStart");ie&&(iT&&n.locale!=="ko"&&(Co||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&Co&&(f=rT()):(xi=g,mm="value"in xi?xi.value:xi.textContent,Co=!0)),X=rh(h,ie),0<X.length&&(ie=new w_(ie,t,null,n,g),v.push({event:ie,listeners:X}),f?ie.data=f:(f=oT(n),f!==null&&(ie.data=f)))),(f=Bk?zk(t,n):qk(t,n))&&(h=rh(h,"onBeforeInput"),0<h.length&&(g=new w_("onBeforeInput","beforeinput",null,n,g),v.push({event:g,listeners:h}),g.data=f))}vT(v,e)})}function bu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function rh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ru(t,n),s!=null&&r.unshift(bu(t,s,i)),s=Ru(t,e),s!=null&&r.push(bu(t,s,i))),t=t.return}return r}function mo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function D_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var u=n,c=u.alternate,h=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&h!==null&&(u=h,i?(c=Ru(n,s),c!=null&&o.unshift(bu(n,c,u))):i||(c=Ru(n,s),c!=null&&o.push(bu(n,c,u)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var iP=/\r\n?/g,sP=/\u0000|\uFFFD/g;function O_(t){return(typeof t=="string"?t:""+t).replace(iP,`
`).replace(sP,"")}function uc(t,e,n){if(e=O_(e),O_(t)!==e&&n)throw Error(J(425))}function ih(){}var Wp=null,Kp=null;function Gp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qp=typeof setTimeout=="function"?setTimeout:void 0,oP=typeof clearTimeout=="function"?clearTimeout:void 0,b_=typeof Promise=="function"?Promise:void 0,aP=typeof queueMicrotask=="function"?queueMicrotask:typeof b_<"u"?function(t){return b_.resolve(null).then(t).catch(uP)}:Qp;function uP(t){setTimeout(function(){throw t})}function Ff(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),xu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xu(e)}function Ui(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function L_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ma=Math.random().toString(36).slice(2),Ar="__reactFiber$"+ma,Lu="__reactProps$"+ma,ai="__reactContainer$"+ma,Xp="__reactEvents$"+ma,lP="__reactListeners$"+ma,cP="__reactHandles$"+ma;function Ts(t){var e=t[Ar];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ai]||n[Ar]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=L_(t);t!==null;){if(n=t[Ar])return n;t=L_(t)}return e}t=n,n=t.parentNode}return null}function dl(t){return t=t[Ar]||t[ai],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Po(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function Zh(t){return t[Lu]||null}var Yp=[],xo=-1;function es(t){return{current:t}}function at(t){0>xo||(t.current=Yp[xo],Yp[xo]=null,xo--)}function et(t,e){xo++,Yp[xo]=t.current,t.current=e}var Gi={},on=es(Gi),kn=es(!1),Vs=Gi;function Yo(t,e){var n=t.type.contextTypes;if(!n)return Gi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Pn(t){return t=t.childContextTypes,t!=null}function sh(){at(kn),at(on)}function V_(t,e,n){if(on.current!==Gi)throw Error(J(168));et(on,e),et(kn,n)}function wT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,GR(t)||"Unknown",i));return pt({},n,r)}function oh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gi,Vs=on.current,et(on,t),et(kn,kn.current),!0}function M_(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=wT(t,e,Vs),r.__reactInternalMemoizedMergedChildContext=t,at(kn),at(on),et(on,t)):at(kn),et(kn,n)}var Yr=null,ed=!1,jf=!1;function ET(t){Yr===null?Yr=[t]:Yr.push(t)}function hP(t){ed=!0,ET(t)}function ts(){if(!jf&&Yr!==null){jf=!0;var t=0,e=Xe;try{var n=Yr;for(Xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Yr=null,ed=!1}catch(i){throw Yr!==null&&(Yr=Yr.slice(t+1)),WE(dm,ts),i}finally{Xe=e,jf=!1}}return null}var No=[],Do=0,ah=null,uh=0,Qn=[],Xn=0,Ms=null,Zr=1,ei="";function ys(t,e){No[Do++]=uh,No[Do++]=ah,ah=t,uh=e}function TT(t,e,n){Qn[Xn++]=Zr,Qn[Xn++]=ei,Qn[Xn++]=Ms,Ms=t;var r=Zr;t=ei;var i=32-hr(r)-1;r&=~(1<<i),n+=1;var s=32-hr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Zr=1<<32-hr(e)+i|n<<i|r,ei=s+t}else Zr=1<<s|n<<i|r,ei=t}function Em(t){t.return!==null&&(ys(t,1),TT(t,1,0))}function Tm(t){for(;t===ah;)ah=No[--Do],No[Do]=null,uh=No[--Do],No[Do]=null;for(;t===Ms;)Ms=Qn[--Xn],Qn[Xn]=null,ei=Qn[--Xn],Qn[Xn]=null,Zr=Qn[--Xn],Qn[Xn]=null}var Un=null,Ln=null,lt=!1,lr=null;function IT(t,e){var n=Jn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function U_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Un=t,Ln=Ui(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Un=t,Ln=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ms!==null?{id:Zr,overflow:ei}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Jn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Un=t,Ln=null,!0):!1;default:return!1}}function Jp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Zp(t){if(lt){var e=Ln;if(e){var n=e;if(!U_(t,e)){if(Jp(t))throw Error(J(418));e=Ui(n.nextSibling);var r=Un;e&&U_(t,e)?IT(r,n):(t.flags=t.flags&-4097|2,lt=!1,Un=t)}}else{if(Jp(t))throw Error(J(418));t.flags=t.flags&-4097|2,lt=!1,Un=t}}}function F_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Un=t}function lc(t){if(t!==Un)return!1;if(!lt)return F_(t),lt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Gp(t.type,t.memoizedProps)),e&&(e=Ln)){if(Jp(t))throw ST(),Error(J(418));for(;e;)IT(t,e),e=Ui(e.nextSibling)}if(F_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ln=Ui(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ln=null}}else Ln=Un?Ui(t.stateNode.nextSibling):null;return!0}function ST(){for(var t=Ln;t;)t=Ui(t.nextSibling)}function Jo(){Ln=Un=null,lt=!1}function Im(t){lr===null?lr=[t]:lr.push(t)}var dP=fi.ReactCurrentBatchConfig;function ar(t,e){if(t&&t.defaultProps){e=pt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var lh=es(null),ch=null,Oo=null,Sm=null;function Am(){Sm=Oo=ch=null}function Cm(t){var e=lh.current;at(lh),t._currentValue=e}function eg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function zo(t,e){ch=t,Sm=Oo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Rn=!0),t.firstContext=null)}function tr(t){var e=t._currentValue;if(Sm!==t)if(t={context:t,memoizedValue:e,next:null},Oo===null){if(ch===null)throw Error(J(308));Oo=t,ch.dependencies={lanes:0,firstContext:t}}else Oo=Oo.next=t;return e}var Is=null;function Rm(t){Is===null?Is=[t]:Is.push(t)}function AT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Rm(e)):(n.next=i.next,i.next=n),e.interleaved=n,ui(t,r)}function ui(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ti=!1;function km(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ii(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Be&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ui(t,n)}return i=r.interleaved,i===null?(e.next=e,Rm(r)):(e.next=i.next,i.next=e),r.interleaved=e,ui(t,n)}function bc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fm(t,n)}}function j_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function hh(t,e,n,r){var i=t.updateQueue;Ti=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,h=c.next;c.next=null,o===null?s=h:o.next=h,o=c;var g=t.alternate;g!==null&&(g=g.updateQueue,u=g.lastBaseUpdate,u!==o&&(u===null?g.firstBaseUpdate=h:u.next=h,g.lastBaseUpdate=c))}if(s!==null){var v=i.baseState;o=0,g=h=c=null,u=s;do{var w=u.lane,A=u.eventTime;if((r&w)===w){g!==null&&(g=g.next={eventTime:A,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var S=t,C=u;switch(w=e,A=n,C.tag){case 1:if(S=C.payload,typeof S=="function"){v=S.call(A,v,w);break e}v=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=C.payload,w=typeof S=="function"?S.call(A,v,w):S,w==null)break e;v=pt({},v,w);break e;case 2:Ti=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,w=i.effects,w===null?i.effects=[u]:w.push(u))}else A={eventTime:A,lane:w,tag:u.tag,payload:u.payload,callback:u.callback,next:null},g===null?(h=g=A,c=v):g=g.next=A,o|=w;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;w=u,u=w.next,w.next=null,i.lastBaseUpdate=w,i.shared.pending=null}}while(!0);if(g===null&&(c=v),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=g,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Fs|=o,t.lanes=o,t.memoizedState=v}}function $_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var RT=new AE.Component().refs;function tg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:pt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var td={isMounted:function(t){return(t=t._reactInternals)?Ys(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=yn(),i=$i(t),s=ii(r,i);s.payload=e,n!=null&&(s.callback=n),e=Fi(t,s,i),e!==null&&(dr(e,t,i,r),bc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=yn(),i=$i(t),s=ii(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Fi(t,s,i),e!==null&&(dr(e,t,i,r),bc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=yn(),r=$i(t),i=ii(n,r);i.tag=2,e!=null&&(i.callback=e),e=Fi(t,i,r),e!==null&&(dr(e,t,r,n),bc(e,t,r))}};function B_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Du(n,r)||!Du(i,s):!0}function kT(t,e,n){var r=!1,i=Gi,s=e.contextType;return typeof s=="object"&&s!==null?s=tr(s):(i=Pn(e)?Vs:on.current,r=e.contextTypes,s=(r=r!=null)?Yo(t,i):Gi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=td,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function z_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&td.enqueueReplaceState(e,e.state,null)}function ng(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=RT,km(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=tr(s):(s=Pn(e)?Vs:on.current,i.context=Yo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(tg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&td.enqueueReplaceState(i,i.state,null),hh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ja(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var u=i.refs;u===RT&&(u=i.refs={}),o===null?delete u[s]:u[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function cc(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function q_(t){var e=t._init;return e(t._payload)}function PT(t){function e(E,T){if(t){var k=E.deletions;k===null?(E.deletions=[T],E.flags|=16):k.push(T)}}function n(E,T){if(!t)return null;for(;T!==null;)e(E,T),T=T.sibling;return null}function r(E,T){for(E=new Map;T!==null;)T.key!==null?E.set(T.key,T):E.set(T.index,T),T=T.sibling;return E}function i(E,T){return E=Bi(E,T),E.index=0,E.sibling=null,E}function s(E,T,k){return E.index=k,t?(k=E.alternate,k!==null?(k=k.index,k<T?(E.flags|=2,T):k):(E.flags|=2,T)):(E.flags|=1048576,T)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function u(E,T,k,b){return T===null||T.tag!==6?(T=Kf(k,E.mode,b),T.return=E,T):(T=i(T,k),T.return=E,T)}function c(E,T,k,b){var q=k.type;return q===Ao?g(E,T,k.props.children,b,k.key):T!==null&&(T.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Ei&&q_(q)===T.type)?(b=i(T,k.props),b.ref=ja(E,T,k),b.return=E,b):(b=jc(k.type,k.key,k.props,null,E.mode,b),b.ref=ja(E,T,k),b.return=E,b)}function h(E,T,k,b){return T===null||T.tag!==4||T.stateNode.containerInfo!==k.containerInfo||T.stateNode.implementation!==k.implementation?(T=Gf(k,E.mode,b),T.return=E,T):(T=i(T,k.children||[]),T.return=E,T)}function g(E,T,k,b,q){return T===null||T.tag!==7?(T=Ns(k,E.mode,b,q),T.return=E,T):(T=i(T,k),T.return=E,T)}function v(E,T,k){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Kf(""+T,E.mode,k),T.return=E,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Zl:return k=jc(T.type,T.key,T.props,null,E.mode,k),k.ref=ja(E,null,T),k.return=E,k;case So:return T=Gf(T,E.mode,k),T.return=E,T;case Ei:var b=T._init;return v(E,b(T._payload),k)}if(Qa(T)||La(T))return T=Ns(T,E.mode,k,null),T.return=E,T;cc(E,T)}return null}function w(E,T,k,b){var q=T!==null?T.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return q!==null?null:u(E,T,""+k,b);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Zl:return k.key===q?c(E,T,k,b):null;case So:return k.key===q?h(E,T,k,b):null;case Ei:return q=k._init,w(E,T,q(k._payload),b)}if(Qa(k)||La(k))return q!==null?null:g(E,T,k,b,null);cc(E,k)}return null}function A(E,T,k,b,q){if(typeof b=="string"&&b!==""||typeof b=="number")return E=E.get(k)||null,u(T,E,""+b,q);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Zl:return E=E.get(b.key===null?k:b.key)||null,c(T,E,b,q);case So:return E=E.get(b.key===null?k:b.key)||null,h(T,E,b,q);case Ei:var X=b._init;return A(E,T,k,X(b._payload),q)}if(Qa(b)||La(b))return E=E.get(k)||null,g(T,E,b,q,null);cc(T,b)}return null}function S(E,T,k,b){for(var q=null,X=null,f=T,ie=T=0,z=null;f!==null&&ie<k.length;ie++){f.index>ie?(z=f,f=null):z=f.sibling;var F=w(E,f,k[ie],b);if(F===null){f===null&&(f=z);break}t&&f&&F.alternate===null&&e(E,f),T=s(F,T,ie),X===null?q=F:X.sibling=F,X=F,f=z}if(ie===k.length)return n(E,f),lt&&ys(E,ie),q;if(f===null){for(;ie<k.length;ie++)f=v(E,k[ie],b),f!==null&&(T=s(f,T,ie),X===null?q=f:X.sibling=f,X=f);return lt&&ys(E,ie),q}for(f=r(E,f);ie<k.length;ie++)z=A(f,E,ie,k[ie],b),z!==null&&(t&&z.alternate!==null&&f.delete(z.key===null?ie:z.key),T=s(z,T,ie),X===null?q=z:X.sibling=z,X=z);return t&&f.forEach(function(Te){return e(E,Te)}),lt&&ys(E,ie),q}function C(E,T,k,b){var q=La(k);if(typeof q!="function")throw Error(J(150));if(k=q.call(k),k==null)throw Error(J(151));for(var X=q=null,f=T,ie=T=0,z=null,F=k.next();f!==null&&!F.done;ie++,F=k.next()){f.index>ie?(z=f,f=null):z=f.sibling;var Te=w(E,f,F.value,b);if(Te===null){f===null&&(f=z);break}t&&f&&Te.alternate===null&&e(E,f),T=s(Te,T,ie),X===null?q=Te:X.sibling=Te,X=Te,f=z}if(F.done)return n(E,f),lt&&ys(E,ie),q;if(f===null){for(;!F.done;ie++,F=k.next())F=v(E,F.value,b),F!==null&&(T=s(F,T,ie),X===null?q=F:X.sibling=F,X=F);return lt&&ys(E,ie),q}for(f=r(E,f);!F.done;ie++,F=k.next())F=A(f,E,ie,F.value,b),F!==null&&(t&&F.alternate!==null&&f.delete(F.key===null?ie:F.key),T=s(F,T,ie),X===null?q=F:X.sibling=F,X=F);return t&&f.forEach(function(ye){return e(E,ye)}),lt&&ys(E,ie),q}function D(E,T,k,b){if(typeof k=="object"&&k!==null&&k.type===Ao&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Zl:e:{for(var q=k.key,X=T;X!==null;){if(X.key===q){if(q=k.type,q===Ao){if(X.tag===7){n(E,X.sibling),T=i(X,k.props.children),T.return=E,E=T;break e}}else if(X.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Ei&&q_(q)===X.type){n(E,X.sibling),T=i(X,k.props),T.ref=ja(E,X,k),T.return=E,E=T;break e}n(E,X);break}else e(E,X);X=X.sibling}k.type===Ao?(T=Ns(k.props.children,E.mode,b,k.key),T.return=E,E=T):(b=jc(k.type,k.key,k.props,null,E.mode,b),b.ref=ja(E,T,k),b.return=E,E=b)}return o(E);case So:e:{for(X=k.key;T!==null;){if(T.key===X)if(T.tag===4&&T.stateNode.containerInfo===k.containerInfo&&T.stateNode.implementation===k.implementation){n(E,T.sibling),T=i(T,k.children||[]),T.return=E,E=T;break e}else{n(E,T);break}else e(E,T);T=T.sibling}T=Gf(k,E.mode,b),T.return=E,E=T}return o(E);case Ei:return X=k._init,D(E,T,X(k._payload),b)}if(Qa(k))return S(E,T,k,b);if(La(k))return C(E,T,k,b);cc(E,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,T!==null&&T.tag===6?(n(E,T.sibling),T=i(T,k),T.return=E,E=T):(n(E,T),T=Kf(k,E.mode,b),T.return=E,E=T),o(E)):n(E,T)}return D}var Zo=PT(!0),xT=PT(!1),fl={},Dr=es(fl),Vu=es(fl),Mu=es(fl);function Ss(t){if(t===fl)throw Error(J(174));return t}function Pm(t,e){switch(et(Mu,e),et(Vu,t),et(Dr,fl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bp(e,t)}at(Dr),et(Dr,e)}function ea(){at(Dr),at(Vu),at(Mu)}function NT(t){Ss(Mu.current);var e=Ss(Dr.current),n=bp(e,t.type);e!==n&&(et(Vu,t),et(Dr,n))}function xm(t){Vu.current===t&&(at(Dr),at(Vu))}var dt=es(0);function dh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $f=[];function Nm(){for(var t=0;t<$f.length;t++)$f[t]._workInProgressVersionPrimary=null;$f.length=0}var Lc=fi.ReactCurrentDispatcher,Bf=fi.ReactCurrentBatchConfig,Us=0,ft=null,Nt=null,Lt=null,fh=!1,hu=!1,Uu=0,fP=0;function Xt(){throw Error(J(321))}function Dm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fr(t[n],e[n]))return!1;return!0}function Om(t,e,n,r,i,s){if(Us=s,ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Lc.current=t===null||t.memoizedState===null?yP:vP,t=n(r,i),hu){s=0;do{if(hu=!1,Uu=0,25<=s)throw Error(J(301));s+=1,Lt=Nt=null,e.updateQueue=null,Lc.current=_P,t=n(r,i)}while(hu)}if(Lc.current=ph,e=Nt!==null&&Nt.next!==null,Us=0,Lt=Nt=ft=null,fh=!1,e)throw Error(J(300));return t}function bm(){var t=Uu!==0;return Uu=0,t}function Sr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?ft.memoizedState=Lt=t:Lt=Lt.next=t,Lt}function nr(){if(Nt===null){var t=ft.alternate;t=t!==null?t.memoizedState:null}else t=Nt.next;var e=Lt===null?ft.memoizedState:Lt.next;if(e!==null)Lt=e,Nt=t;else{if(t===null)throw Error(J(310));Nt=t,t={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Lt===null?ft.memoizedState=Lt=t:Lt=Lt.next=t}return Lt}function Fu(t,e){return typeof e=="function"?e(t):e}function zf(t){var e=nr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=Nt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var u=o=null,c=null,h=s;do{var g=h.lane;if((Us&g)===g)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var v={lane:g,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(u=c=v,o=r):c=c.next=v,ft.lanes|=g,Fs|=g}h=h.next}while(h!==null&&h!==s);c===null?o=r:c.next=u,fr(r,e.memoizedState)||(Rn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ft.lanes|=s,Fs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function qf(t){var e=nr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);fr(s,e.memoizedState)||(Rn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function DT(){}function OT(t,e){var n=ft,r=nr(),i=e(),s=!fr(r.memoizedState,i);if(s&&(r.memoizedState=i,Rn=!0),r=r.queue,Lm(VT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Lt!==null&&Lt.memoizedState.tag&1){if(n.flags|=2048,ju(9,LT.bind(null,n,r,i,e),void 0,null),Vt===null)throw Error(J(349));Us&30||bT(n,e,i)}return i}function bT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function LT(t,e,n,r){e.value=n,e.getSnapshot=r,MT(e)&&UT(t)}function VT(t,e,n){return n(function(){MT(e)&&UT(t)})}function MT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fr(t,n)}catch{return!0}}function UT(t){var e=ui(t,1);e!==null&&dr(e,t,1,-1)}function H_(t){var e=Sr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fu,lastRenderedState:t},e.queue=t,t=t.dispatch=mP.bind(null,ft,t),[e.memoizedState,t]}function ju(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function FT(){return nr().memoizedState}function Vc(t,e,n,r){var i=Sr();ft.flags|=t,i.memoizedState=ju(1|e,n,void 0,r===void 0?null:r)}function nd(t,e,n,r){var i=nr();r=r===void 0?null:r;var s=void 0;if(Nt!==null){var o=Nt.memoizedState;if(s=o.destroy,r!==null&&Dm(r,o.deps)){i.memoizedState=ju(e,n,s,r);return}}ft.flags|=t,i.memoizedState=ju(1|e,n,s,r)}function W_(t,e){return Vc(8390656,8,t,e)}function Lm(t,e){return nd(2048,8,t,e)}function jT(t,e){return nd(4,2,t,e)}function $T(t,e){return nd(4,4,t,e)}function BT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function zT(t,e,n){return n=n!=null?n.concat([t]):null,nd(4,4,BT.bind(null,e,t),n)}function Vm(){}function qT(t,e){var n=nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function HT(t,e){var n=nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function WT(t,e,n){return Us&21?(fr(n,e)||(n=QE(),ft.lanes|=n,Fs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Rn=!0),t.memoizedState=n)}function pP(t,e){var n=Xe;Xe=n!==0&&4>n?n:4,t(!0);var r=Bf.transition;Bf.transition={};try{t(!1),e()}finally{Xe=n,Bf.transition=r}}function KT(){return nr().memoizedState}function gP(t,e,n){var r=$i(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},GT(t))QT(e,n);else if(n=AT(t,e,n,r),n!==null){var i=yn();dr(n,t,r,i),XT(n,e,r)}}function mP(t,e,n){var r=$i(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(GT(t))QT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,u=s(o,n);if(i.hasEagerState=!0,i.eagerState=u,fr(u,o)){var c=e.interleaved;c===null?(i.next=i,Rm(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=AT(t,e,i,r),n!==null&&(i=yn(),dr(n,t,r,i),XT(n,e,r))}}function GT(t){var e=t.alternate;return t===ft||e!==null&&e===ft}function QT(t,e){hu=fh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function XT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fm(t,n)}}var ph={readContext:tr,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},yP={readContext:tr,useCallback:function(t,e){return Sr().memoizedState=[t,e===void 0?null:e],t},useContext:tr,useEffect:W_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Vc(4194308,4,BT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Vc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Vc(4,2,t,e)},useMemo:function(t,e){var n=Sr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Sr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gP.bind(null,ft,t),[r.memoizedState,t]},useRef:function(t){var e=Sr();return t={current:t},e.memoizedState=t},useState:H_,useDebugValue:Vm,useDeferredValue:function(t){return Sr().memoizedState=t},useTransition:function(){var t=H_(!1),e=t[0];return t=pP.bind(null,t[1]),Sr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ft,i=Sr();if(lt){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),Vt===null)throw Error(J(349));Us&30||bT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,W_(VT.bind(null,r,s,t),[t]),r.flags|=2048,ju(9,LT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Sr(),e=Vt.identifierPrefix;if(lt){var n=ei,r=Zr;n=(r&~(1<<32-hr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Uu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=fP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},vP={readContext:tr,useCallback:qT,useContext:tr,useEffect:Lm,useImperativeHandle:zT,useInsertionEffect:jT,useLayoutEffect:$T,useMemo:HT,useReducer:zf,useRef:FT,useState:function(){return zf(Fu)},useDebugValue:Vm,useDeferredValue:function(t){var e=nr();return WT(e,Nt.memoizedState,t)},useTransition:function(){var t=zf(Fu)[0],e=nr().memoizedState;return[t,e]},useMutableSource:DT,useSyncExternalStore:OT,useId:KT,unstable_isNewReconciler:!1},_P={readContext:tr,useCallback:qT,useContext:tr,useEffect:Lm,useImperativeHandle:zT,useInsertionEffect:jT,useLayoutEffect:$T,useMemo:HT,useReducer:qf,useRef:FT,useState:function(){return qf(Fu)},useDebugValue:Vm,useDeferredValue:function(t){var e=nr();return Nt===null?e.memoizedState=t:WT(e,Nt.memoizedState,t)},useTransition:function(){var t=qf(Fu)[0],e=nr().memoizedState;return[t,e]},useMutableSource:DT,useSyncExternalStore:OT,useId:KT,unstable_isNewReconciler:!1};function ta(t,e){try{var n="",r=e;do n+=KR(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Hf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function rg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var wP=typeof WeakMap=="function"?WeakMap:Map;function YT(t,e,n){n=ii(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){mh||(mh=!0,fg=r),rg(t,e)},n}function JT(t,e,n){n=ii(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){rg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){rg(t,e),typeof r!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function K_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new wP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=bP.bind(null,t,e,n),e.then(t,t))}function G_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Q_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ii(-1,1),e.tag=2,Fi(n,e,1))),n.lanes|=1),t)}var EP=fi.ReactCurrentOwner,Rn=!1;function fn(t,e,n,r){e.child=t===null?xT(e,null,n,r):Zo(e,t.child,n,r)}function X_(t,e,n,r,i){n=n.render;var s=e.ref;return zo(e,i),r=Om(t,e,n,r,s,i),n=bm(),t!==null&&!Rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,li(t,e,i)):(lt&&n&&Em(e),e.flags|=1,fn(t,e,r,i),e.child)}function Y_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!qm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,ZT(t,e,s,r,i)):(t=jc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Du,n(o,r)&&t.ref===e.ref)return li(t,e,i)}return e.flags|=1,t=Bi(s,r),t.ref=e.ref,t.return=e,e.child=t}function ZT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Du(s,r)&&t.ref===e.ref)if(Rn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Rn=!0);else return e.lanes=t.lanes,li(t,e,i)}return ig(t,e,n,r,i)}function e1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Lo,bn),bn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,et(Lo,bn),bn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,et(Lo,bn),bn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,et(Lo,bn),bn|=r;return fn(t,e,i,n),e.child}function t1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ig(t,e,n,r,i){var s=Pn(n)?Vs:on.current;return s=Yo(e,s),zo(e,i),n=Om(t,e,n,r,s,i),r=bm(),t!==null&&!Rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,li(t,e,i)):(lt&&r&&Em(e),e.flags|=1,fn(t,e,n,i),e.child)}function J_(t,e,n,r,i){if(Pn(n)){var s=!0;oh(e)}else s=!1;if(zo(e,i),e.stateNode===null)Mc(t,e),kT(e,n,r),ng(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var c=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=tr(h):(h=Pn(n)?Vs:on.current,h=Yo(e,h));var g=n.getDerivedStateFromProps,v=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function";v||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||c!==h)&&z_(e,o,r,h),Ti=!1;var w=e.memoizedState;o.state=w,hh(e,r,o,i),c=e.memoizedState,u!==r||w!==c||kn.current||Ti?(typeof g=="function"&&(tg(e,n,g,r),c=e.memoizedState),(u=Ti||B_(e,n,u,r,w,c,h))?(v||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=h,r=u):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,CT(t,e),u=e.memoizedProps,h=e.type===e.elementType?u:ar(e.type,u),o.props=h,v=e.pendingProps,w=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=tr(c):(c=Pn(n)?Vs:on.current,c=Yo(e,c));var A=n.getDerivedStateFromProps;(g=typeof A=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==v||w!==c)&&z_(e,o,r,c),Ti=!1,w=e.memoizedState,o.state=w,hh(e,r,o,i);var S=e.memoizedState;u!==v||w!==S||kn.current||Ti?(typeof A=="function"&&(tg(e,n,A,r),S=e.memoizedState),(h=Ti||B_(e,n,h,r,w,S,c)||!1)?(g||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=c,r=h):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),r=!1)}return sg(t,e,n,r,s,i)}function sg(t,e,n,r,i,s){t1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&M_(e,n,!1),li(t,e,s);r=e.stateNode,EP.current=e;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Zo(e,t.child,null,s),e.child=Zo(e,null,u,s)):fn(t,e,u,s),e.memoizedState=r.state,i&&M_(e,n,!0),e.child}function n1(t){var e=t.stateNode;e.pendingContext?V_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&V_(t,e.context,!1),Pm(t,e.containerInfo)}function Z_(t,e,n,r,i){return Jo(),Im(i),e.flags|=256,fn(t,e,n,r),e.child}var og={dehydrated:null,treeContext:null,retryLane:0};function ag(t){return{baseLanes:t,cachePool:null,transitions:null}}function r1(t,e,n){var r=e.pendingProps,i=dt.current,s=!1,o=(e.flags&128)!==0,u;if((u=o)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),et(dt,i&1),t===null)return Zp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=sd(o,r,0,null),t=Ns(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ag(n),e.memoizedState=og,t):Mm(e,o));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return TP(t,e,o,r,u,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,u=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Bi(i,c),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=Bi(u,s):(s=Ns(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ag(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=og,r}return s=t.child,t=s.sibling,r=Bi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Mm(t,e){return e=sd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hc(t,e,n,r){return r!==null&&Im(r),Zo(e,t.child,null,n),t=Mm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function TP(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Hf(Error(J(422))),hc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=sd({mode:"visible",children:r.children},i,0,null),s=Ns(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Zo(e,t.child,null,o),e.child.memoizedState=ag(o),e.memoizedState=og,s);if(!(e.mode&1))return hc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(J(419)),r=Hf(s,r,void 0),hc(t,e,o,r)}if(u=(o&t.childLanes)!==0,Rn||u){if(r=Vt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ui(t,i),dr(r,t,i,-1))}return zm(),r=Hf(Error(J(421))),hc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=LP.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ln=Ui(i.nextSibling),Un=e,lt=!0,lr=null,t!==null&&(Qn[Xn++]=Zr,Qn[Xn++]=ei,Qn[Xn++]=Ms,Zr=t.id,ei=t.overflow,Ms=e),e=Mm(e,r.children),e.flags|=4096,e)}function e0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),eg(t.return,e,n)}function Wf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function i1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(fn(t,e,r.children,n),r=dt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&e0(t,n,e);else if(t.tag===19)e0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(et(dt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&dh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Wf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&dh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Wf(e,!0,n,null,s);break;case"together":Wf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function li(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Fs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=Bi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function IP(t,e,n){switch(e.tag){case 3:n1(e),Jo();break;case 5:NT(e);break;case 1:Pn(e.type)&&oh(e);break;case 4:Pm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;et(lh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(et(dt,dt.current&1),e.flags|=128,null):n&e.child.childLanes?r1(t,e,n):(et(dt,dt.current&1),t=li(t,e,n),t!==null?t.sibling:null);et(dt,dt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return i1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),et(dt,dt.current),r)break;return null;case 22:case 23:return e.lanes=0,e1(t,e,n)}return li(t,e,n)}var s1,ug,o1,a1;s1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ug=function(){};o1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ss(Dr.current);var s=null;switch(n){case"input":i=xp(t,i),r=xp(t,r),s=[];break;case"select":i=pt({},i,{value:void 0}),r=pt({},r,{value:void 0}),s=[];break;case"textarea":i=Op(t,i),r=Op(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ih)}Lp(n,r);var o;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var u=i[h];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Au.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(u=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==u&&(c!=null||u!=null))if(h==="style")if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Au.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&nt("scroll",t),s||u===c||(s=[])):(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};a1=function(t,e,n,r){n!==r&&(e.flags|=4)};function $a(t,e){if(!lt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function SP(t,e,n){var r=e.pendingProps;switch(Tm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(e),null;case 1:return Pn(e.type)&&sh(),Yt(e),null;case 3:return r=e.stateNode,ea(),at(kn),at(on),Nm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(lc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,lr!==null&&(mg(lr),lr=null))),ug(t,e),Yt(e),null;case 5:xm(e);var i=Ss(Mu.current);if(n=e.type,t!==null&&e.stateNode!=null)o1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return Yt(e),null}if(t=Ss(Dr.current),lc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ar]=e,r[Lu]=s,t=(e.mode&1)!==0,n){case"dialog":nt("cancel",r),nt("close",r);break;case"iframe":case"object":case"embed":nt("load",r);break;case"video":case"audio":for(i=0;i<Ya.length;i++)nt(Ya[i],r);break;case"source":nt("error",r);break;case"img":case"image":case"link":nt("error",r),nt("load",r);break;case"details":nt("toggle",r);break;case"input":l_(r,s),nt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},nt("invalid",r);break;case"textarea":h_(r,s),nt("invalid",r)}Lp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&uc(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&uc(r.textContent,u,t),i=["children",""+u]):Au.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&nt("scroll",r)}switch(n){case"input":ec(r),c_(r,s,!0);break;case"textarea":ec(r),d_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ih)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ar]=e,t[Lu]=r,s1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Vp(n,r),n){case"dialog":nt("cancel",t),nt("close",t),i=r;break;case"iframe":case"object":case"embed":nt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ya.length;i++)nt(Ya[i],t);i=r;break;case"source":nt("error",t),i=r;break;case"img":case"image":case"link":nt("error",t),nt("load",t),i=r;break;case"details":nt("toggle",t),i=r;break;case"input":l_(t,r),i=xp(t,r),nt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=pt({},r,{value:void 0}),nt("invalid",t);break;case"textarea":h_(t,r),i=Op(t,r),nt("invalid",t);break;default:i=r}Lp(n,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var c=u[s];s==="style"?ME(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&LE(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Cu(t,c):typeof c=="number"&&Cu(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Au.hasOwnProperty(s)?c!=null&&s==="onScroll"&&nt("scroll",t):c!=null&&am(t,s,c,o))}switch(n){case"input":ec(t),c_(t,r,!1);break;case"textarea":ec(t),d_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ki(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Fo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Fo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ih)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yt(e),null;case 6:if(t&&e.stateNode!=null)a1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=Ss(Mu.current),Ss(Dr.current),lc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ar]=e,(s=r.nodeValue!==n)&&(t=Un,t!==null))switch(t.tag){case 3:uc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&uc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ar]=e,e.stateNode=r}return Yt(e),null;case 13:if(at(dt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(lt&&Ln!==null&&e.mode&1&&!(e.flags&128))ST(),Jo(),e.flags|=98560,s=!1;else if(s=lc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(J(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(J(317));s[Ar]=e}else Jo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yt(e),s=!1}else lr!==null&&(mg(lr),lr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||dt.current&1?Dt===0&&(Dt=3):zm())),e.updateQueue!==null&&(e.flags|=4),Yt(e),null);case 4:return ea(),ug(t,e),t===null&&Ou(e.stateNode.containerInfo),Yt(e),null;case 10:return Cm(e.type._context),Yt(e),null;case 17:return Pn(e.type)&&sh(),Yt(e),null;case 19:if(at(dt),s=e.memoizedState,s===null)return Yt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)$a(s,!1);else{if(Dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=dh(t),o!==null){for(e.flags|=128,$a(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return et(dt,dt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Tt()>na&&(e.flags|=128,r=!0,$a(s,!1),e.lanes=4194304)}else{if(!r)if(t=dh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),$a(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!lt)return Yt(e),null}else 2*Tt()-s.renderingStartTime>na&&n!==1073741824&&(e.flags|=128,r=!0,$a(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Tt(),e.sibling=null,n=dt.current,et(dt,r?n&1|2:n&1),e):(Yt(e),null);case 22:case 23:return Bm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?bn&1073741824&&(Yt(e),e.subtreeFlags&6&&(e.flags|=8192)):Yt(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function AP(t,e){switch(Tm(e),e.tag){case 1:return Pn(e.type)&&sh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ea(),at(kn),at(on),Nm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xm(e),null;case 13:if(at(dt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Jo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return at(dt),null;case 4:return ea(),null;case 10:return Cm(e.type._context),null;case 22:case 23:return Bm(),null;case 24:return null;default:return null}}var dc=!1,en=!1,CP=typeof WeakSet=="function"?WeakSet:Set,de=null;function bo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vt(t,e,r)}else n.current=null}function lg(t,e,n){try{n()}catch(r){vt(t,e,r)}}var t0=!1;function RP(t,e){if(Wp=th,t=hT(),wm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,u=-1,c=-1,h=0,g=0,v=t,w=null;t:for(;;){for(var A;v!==n||i!==0&&v.nodeType!==3||(u=o+i),v!==s||r!==0&&v.nodeType!==3||(c=o+r),v.nodeType===3&&(o+=v.nodeValue.length),(A=v.firstChild)!==null;)w=v,v=A;for(;;){if(v===t)break t;if(w===n&&++h===i&&(u=o),w===s&&++g===r&&(c=o),(A=v.nextSibling)!==null)break;v=w,w=v.parentNode}v=A}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kp={focusedElem:t,selectionRange:n},th=!1,de=e;de!==null;)if(e=de,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,de=t;else for(;de!==null;){e=de;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var C=S.memoizedProps,D=S.memoizedState,E=e.stateNode,T=E.getSnapshotBeforeUpdate(e.elementType===e.type?C:ar(e.type,C),D);E.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(b){vt(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,de=t;break}de=e.return}return S=t0,t0=!1,S}function du(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&lg(e,n,s)}i=i.next}while(i!==r)}}function rd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function cg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function u1(t){var e=t.alternate;e!==null&&(t.alternate=null,u1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ar],delete e[Lu],delete e[Xp],delete e[lP],delete e[cP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function l1(t){return t.tag===5||t.tag===3||t.tag===4}function n0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||l1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ih));else if(r!==4&&(t=t.child,t!==null))for(hg(t,e,n),t=t.sibling;t!==null;)hg(t,e,n),t=t.sibling}function dg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(dg(t,e,n),t=t.sibling;t!==null;)dg(t,e,n),t=t.sibling}var $t=null,ur=!1;function _i(t,e,n){for(n=n.child;n!==null;)c1(t,e,n),n=n.sibling}function c1(t,e,n){if(Nr&&typeof Nr.onCommitFiberUnmount=="function")try{Nr.onCommitFiberUnmount(Qh,n)}catch{}switch(n.tag){case 5:en||bo(n,e);case 6:var r=$t,i=ur;$t=null,_i(t,e,n),$t=r,ur=i,$t!==null&&(ur?(t=$t,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$t.removeChild(n.stateNode));break;case 18:$t!==null&&(ur?(t=$t,n=n.stateNode,t.nodeType===8?Ff(t.parentNode,n):t.nodeType===1&&Ff(t,n),xu(t)):Ff($t,n.stateNode));break;case 4:r=$t,i=ur,$t=n.stateNode.containerInfo,ur=!0,_i(t,e,n),$t=r,ur=i;break;case 0:case 11:case 14:case 15:if(!en&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&lg(n,e,o),i=i.next}while(i!==r)}_i(t,e,n);break;case 1:if(!en&&(bo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){vt(n,e,u)}_i(t,e,n);break;case 21:_i(t,e,n);break;case 22:n.mode&1?(en=(r=en)||n.memoizedState!==null,_i(t,e,n),en=r):_i(t,e,n);break;default:_i(t,e,n)}}function r0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new CP),e.forEach(function(r){var i=VP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function or(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,u=o;e:for(;u!==null;){switch(u.tag){case 5:$t=u.stateNode,ur=!1;break e;case 3:$t=u.stateNode.containerInfo,ur=!0;break e;case 4:$t=u.stateNode.containerInfo,ur=!0;break e}u=u.return}if($t===null)throw Error(J(160));c1(s,o,i),$t=null,ur=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){vt(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)h1(e,t),e=e.sibling}function h1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(or(e,t),Ir(t),r&4){try{du(3,t,t.return),rd(3,t)}catch(C){vt(t,t.return,C)}try{du(5,t,t.return)}catch(C){vt(t,t.return,C)}}break;case 1:or(e,t),Ir(t),r&512&&n!==null&&bo(n,n.return);break;case 5:if(or(e,t),Ir(t),r&512&&n!==null&&bo(n,n.return),t.flags&32){var i=t.stateNode;try{Cu(i,"")}catch(C){vt(t,t.return,C)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&DE(i,s),Vp(u,o);var h=Vp(u,s);for(o=0;o<c.length;o+=2){var g=c[o],v=c[o+1];g==="style"?ME(i,v):g==="dangerouslySetInnerHTML"?LE(i,v):g==="children"?Cu(i,v):am(i,g,v,h)}switch(u){case"input":Np(i,s);break;case"textarea":OE(i,s);break;case"select":var w=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var A=s.value;A!=null?Fo(i,!!s.multiple,A,!1):w!==!!s.multiple&&(s.defaultValue!=null?Fo(i,!!s.multiple,s.defaultValue,!0):Fo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Lu]=s}catch(C){vt(t,t.return,C)}}break;case 6:if(or(e,t),Ir(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(C){vt(t,t.return,C)}}break;case 3:if(or(e,t),Ir(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xu(e.containerInfo)}catch(C){vt(t,t.return,C)}break;case 4:or(e,t),Ir(t);break;case 13:or(e,t),Ir(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(jm=Tt())),r&4&&r0(t);break;case 22:if(g=n!==null&&n.memoizedState!==null,t.mode&1?(en=(h=en)||g,or(e,t),en=h):or(e,t),Ir(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!g&&t.mode&1)for(de=t,g=t.child;g!==null;){for(v=de=g;de!==null;){switch(w=de,A=w.child,w.tag){case 0:case 11:case 14:case 15:du(4,w,w.return);break;case 1:bo(w,w.return);var S=w.stateNode;if(typeof S.componentWillUnmount=="function"){r=w,n=w.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(C){vt(r,n,C)}}break;case 5:bo(w,w.return);break;case 22:if(w.memoizedState!==null){s0(v);continue}}A!==null?(A.return=w,de=A):s0(v)}g=g.sibling}e:for(g=null,v=t;;){if(v.tag===5){if(g===null){g=v;try{i=v.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=v.stateNode,c=v.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=VE("display",o))}catch(C){vt(t,t.return,C)}}}else if(v.tag===6){if(g===null)try{v.stateNode.nodeValue=h?"":v.memoizedProps}catch(C){vt(t,t.return,C)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===t)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;g===v&&(g=null),v=v.return}g===v&&(g=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:or(e,t),Ir(t),r&4&&r0(t);break;case 21:break;default:or(e,t),Ir(t)}}function Ir(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(l1(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Cu(i,""),r.flags&=-33);var s=n0(t);dg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,u=n0(t);hg(t,u,o);break;default:throw Error(J(161))}}catch(c){vt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function kP(t,e,n){de=t,d1(t)}function d1(t,e,n){for(var r=(t.mode&1)!==0;de!==null;){var i=de,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||dc;if(!o){var u=i.alternate,c=u!==null&&u.memoizedState!==null||en;u=dc;var h=en;if(dc=o,(en=c)&&!h)for(de=i;de!==null;)o=de,c=o.child,o.tag===22&&o.memoizedState!==null?o0(i):c!==null?(c.return=o,de=c):o0(i);for(;s!==null;)de=s,d1(s),s=s.sibling;de=i,dc=u,en=h}i0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,de=s):i0(t)}}function i0(t){for(;de!==null;){var e=de;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:en||rd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!en)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ar(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&$_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}$_(e,o,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var g=h.memoizedState;if(g!==null){var v=g.dehydrated;v!==null&&xu(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}en||e.flags&512&&cg(e)}catch(w){vt(e,e.return,w)}}if(e===t){de=null;break}if(n=e.sibling,n!==null){n.return=e.return,de=n;break}de=e.return}}function s0(t){for(;de!==null;){var e=de;if(e===t){de=null;break}var n=e.sibling;if(n!==null){n.return=e.return,de=n;break}de=e.return}}function o0(t){for(;de!==null;){var e=de;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rd(4,e)}catch(c){vt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){vt(e,i,c)}}var s=e.return;try{cg(e)}catch(c){vt(e,s,c)}break;case 5:var o=e.return;try{cg(e)}catch(c){vt(e,o,c)}}}catch(c){vt(e,e.return,c)}if(e===t){de=null;break}var u=e.sibling;if(u!==null){u.return=e.return,de=u;break}de=e.return}}var PP=Math.ceil,gh=fi.ReactCurrentDispatcher,Um=fi.ReactCurrentOwner,Zn=fi.ReactCurrentBatchConfig,Be=0,Vt=null,Ct=null,Ht=0,bn=0,Lo=es(0),Dt=0,$u=null,Fs=0,id=0,Fm=0,fu=null,An=null,jm=0,na=1/0,Xr=null,mh=!1,fg=null,ji=null,fc=!1,Ni=null,yh=0,pu=0,pg=null,Uc=-1,Fc=0;function yn(){return Be&6?Tt():Uc!==-1?Uc:Uc=Tt()}function $i(t){return t.mode&1?Be&2&&Ht!==0?Ht&-Ht:dP.transition!==null?(Fc===0&&(Fc=QE()),Fc):(t=Xe,t!==0||(t=window.event,t=t===void 0?16:nT(t.type)),t):1}function dr(t,e,n,r){if(50<pu)throw pu=0,pg=null,Error(J(185));cl(t,n,r),(!(Be&2)||t!==Vt)&&(t===Vt&&(!(Be&2)&&(id|=n),Dt===4&&Si(t,Ht)),xn(t,r),n===1&&Be===0&&!(e.mode&1)&&(na=Tt()+500,ed&&ts()))}function xn(t,e){var n=t.callbackNode;dk(t,e);var r=eh(t,t===Vt?Ht:0);if(r===0)n!==null&&g_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&g_(n),e===1)t.tag===0?hP(a0.bind(null,t)):ET(a0.bind(null,t)),aP(function(){!(Be&6)&&ts()}),n=null;else{switch(XE(r)){case 1:n=dm;break;case 4:n=KE;break;case 16:n=Zc;break;case 536870912:n=GE;break;default:n=Zc}n=w1(n,f1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function f1(t,e){if(Uc=-1,Fc=0,Be&6)throw Error(J(327));var n=t.callbackNode;if(qo()&&t.callbackNode!==n)return null;var r=eh(t,t===Vt?Ht:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=vh(t,r);else{e=r;var i=Be;Be|=2;var s=g1();(Vt!==t||Ht!==e)&&(Xr=null,na=Tt()+500,xs(t,e));do try{DP();break}catch(u){p1(t,u)}while(!0);Am(),gh.current=s,Be=i,Ct!==null?e=0:(Vt=null,Ht=0,e=Dt)}if(e!==0){if(e===2&&(i=$p(t),i!==0&&(r=i,e=gg(t,i))),e===1)throw n=$u,xs(t,0),Si(t,r),xn(t,Tt()),n;if(e===6)Si(t,r);else{if(i=t.current.alternate,!(r&30)&&!xP(i)&&(e=vh(t,r),e===2&&(s=$p(t),s!==0&&(r=s,e=gg(t,s))),e===1))throw n=$u,xs(t,0),Si(t,r),xn(t,Tt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:vs(t,An,Xr);break;case 3:if(Si(t,r),(r&130023424)===r&&(e=jm+500-Tt(),10<e)){if(eh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){yn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Qp(vs.bind(null,t,An,Xr),e);break}vs(t,An,Xr);break;case 4:if(Si(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-hr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*PP(r/1960))-r,10<r){t.timeoutHandle=Qp(vs.bind(null,t,An,Xr),r);break}vs(t,An,Xr);break;case 5:vs(t,An,Xr);break;default:throw Error(J(329))}}}return xn(t,Tt()),t.callbackNode===n?f1.bind(null,t):null}function gg(t,e){var n=fu;return t.current.memoizedState.isDehydrated&&(xs(t,e).flags|=256),t=vh(t,e),t!==2&&(e=An,An=n,e!==null&&mg(e)),t}function mg(t){An===null?An=t:An.push.apply(An,t)}function xP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!fr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Si(t,e){for(e&=~Fm,e&=~id,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hr(e),r=1<<n;t[n]=-1,e&=~r}}function a0(t){if(Be&6)throw Error(J(327));qo();var e=eh(t,0);if(!(e&1))return xn(t,Tt()),null;var n=vh(t,e);if(t.tag!==0&&n===2){var r=$p(t);r!==0&&(e=r,n=gg(t,r))}if(n===1)throw n=$u,xs(t,0),Si(t,e),xn(t,Tt()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,vs(t,An,Xr),xn(t,Tt()),null}function $m(t,e){var n=Be;Be|=1;try{return t(e)}finally{Be=n,Be===0&&(na=Tt()+500,ed&&ts())}}function js(t){Ni!==null&&Ni.tag===0&&!(Be&6)&&qo();var e=Be;Be|=1;var n=Zn.transition,r=Xe;try{if(Zn.transition=null,Xe=1,t)return t()}finally{Xe=r,Zn.transition=n,Be=e,!(Be&6)&&ts()}}function Bm(){bn=Lo.current,at(Lo)}function xs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,oP(n)),Ct!==null)for(n=Ct.return;n!==null;){var r=n;switch(Tm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&sh();break;case 3:ea(),at(kn),at(on),Nm();break;case 5:xm(r);break;case 4:ea();break;case 13:at(dt);break;case 19:at(dt);break;case 10:Cm(r.type._context);break;case 22:case 23:Bm()}n=n.return}if(Vt=t,Ct=t=Bi(t.current,null),Ht=bn=e,Dt=0,$u=null,Fm=id=Fs=0,An=fu=null,Is!==null){for(e=0;e<Is.length;e++)if(n=Is[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Is=null}return t}function p1(t,e){do{var n=Ct;try{if(Am(),Lc.current=ph,fh){for(var r=ft.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}fh=!1}if(Us=0,Lt=Nt=ft=null,hu=!1,Uu=0,Um.current=null,n===null||n.return===null){Dt=1,$u=e,Ct=null;break}e:{var s=t,o=n.return,u=n,c=e;if(e=Ht,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,g=u,v=g.tag;if(!(g.mode&1)&&(v===0||v===11||v===15)){var w=g.alternate;w?(g.updateQueue=w.updateQueue,g.memoizedState=w.memoizedState,g.lanes=w.lanes):(g.updateQueue=null,g.memoizedState=null)}var A=G_(o);if(A!==null){A.flags&=-257,Q_(A,o,u,s,e),A.mode&1&&K_(s,h,e),e=A,c=h;var S=e.updateQueue;if(S===null){var C=new Set;C.add(c),e.updateQueue=C}else S.add(c);break e}else{if(!(e&1)){K_(s,h,e),zm();break e}c=Error(J(426))}}else if(lt&&u.mode&1){var D=G_(o);if(D!==null){!(D.flags&65536)&&(D.flags|=256),Q_(D,o,u,s,e),Im(ta(c,u));break e}}s=c=ta(c,u),Dt!==4&&(Dt=2),fu===null?fu=[s]:fu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=YT(s,c,e);j_(s,E);break e;case 1:u=c;var T=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(ji===null||!ji.has(k)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=JT(s,u,e);j_(s,b);break e}}s=s.return}while(s!==null)}y1(n)}catch(q){e=q,Ct===n&&n!==null&&(Ct=n=n.return);continue}break}while(!0)}function g1(){var t=gh.current;return gh.current=ph,t===null?ph:t}function zm(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Vt===null||!(Fs&268435455)&&!(id&268435455)||Si(Vt,Ht)}function vh(t,e){var n=Be;Be|=2;var r=g1();(Vt!==t||Ht!==e)&&(Xr=null,xs(t,e));do try{NP();break}catch(i){p1(t,i)}while(!0);if(Am(),Be=n,gh.current=r,Ct!==null)throw Error(J(261));return Vt=null,Ht=0,Dt}function NP(){for(;Ct!==null;)m1(Ct)}function DP(){for(;Ct!==null&&!rk();)m1(Ct)}function m1(t){var e=_1(t.alternate,t,bn);t.memoizedProps=t.pendingProps,e===null?y1(t):Ct=e,Um.current=null}function y1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=AP(n,e),n!==null){n.flags&=32767,Ct=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Dt=6,Ct=null;return}}else if(n=SP(n,e,bn),n!==null){Ct=n;return}if(e=e.sibling,e!==null){Ct=e;return}Ct=e=t}while(e!==null);Dt===0&&(Dt=5)}function vs(t,e,n){var r=Xe,i=Zn.transition;try{Zn.transition=null,Xe=1,OP(t,e,n,r)}finally{Zn.transition=i,Xe=r}return null}function OP(t,e,n,r){do qo();while(Ni!==null);if(Be&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(fk(t,s),t===Vt&&(Ct=Vt=null,Ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fc||(fc=!0,w1(Zc,function(){return qo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Zn.transition,Zn.transition=null;var o=Xe;Xe=1;var u=Be;Be|=4,Um.current=null,RP(t,n),h1(n,t),Zk(Kp),th=!!Wp,Kp=Wp=null,t.current=n,kP(n),ik(),Be=u,Xe=o,Zn.transition=s}else t.current=n;if(fc&&(fc=!1,Ni=t,yh=i),s=t.pendingLanes,s===0&&(ji=null),ak(n.stateNode),xn(t,Tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(mh)throw mh=!1,t=fg,fg=null,t;return yh&1&&t.tag!==0&&qo(),s=t.pendingLanes,s&1?t===pg?pu++:(pu=0,pg=t):pu=0,ts(),null}function qo(){if(Ni!==null){var t=XE(yh),e=Zn.transition,n=Xe;try{if(Zn.transition=null,Xe=16>t?16:t,Ni===null)var r=!1;else{if(t=Ni,Ni=null,yh=0,Be&6)throw Error(J(331));var i=Be;for(Be|=4,de=t.current;de!==null;){var s=de,o=s.child;if(de.flags&16){var u=s.deletions;if(u!==null){for(var c=0;c<u.length;c++){var h=u[c];for(de=h;de!==null;){var g=de;switch(g.tag){case 0:case 11:case 15:du(8,g,s)}var v=g.child;if(v!==null)v.return=g,de=v;else for(;de!==null;){g=de;var w=g.sibling,A=g.return;if(u1(g),g===h){de=null;break}if(w!==null){w.return=A,de=w;break}de=A}}}var S=s.alternate;if(S!==null){var C=S.child;if(C!==null){S.child=null;do{var D=C.sibling;C.sibling=null,C=D}while(C!==null)}}de=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,de=o;else e:for(;de!==null;){if(s=de,s.flags&2048)switch(s.tag){case 0:case 11:case 15:du(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,de=E;break e}de=s.return}}var T=t.current;for(de=T;de!==null;){o=de;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,de=k;else e:for(o=T;de!==null;){if(u=de,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:rd(9,u)}}catch(q){vt(u,u.return,q)}if(u===o){de=null;break e}var b=u.sibling;if(b!==null){b.return=u.return,de=b;break e}de=u.return}}if(Be=i,ts(),Nr&&typeof Nr.onPostCommitFiberRoot=="function")try{Nr.onPostCommitFiberRoot(Qh,t)}catch{}r=!0}return r}finally{Xe=n,Zn.transition=e}}return!1}function u0(t,e,n){e=ta(n,e),e=YT(t,e,1),t=Fi(t,e,1),e=yn(),t!==null&&(cl(t,1,e),xn(t,e))}function vt(t,e,n){if(t.tag===3)u0(t,t,n);else for(;e!==null;){if(e.tag===3){u0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ji===null||!ji.has(r))){t=ta(n,t),t=JT(e,t,1),e=Fi(e,t,1),t=yn(),e!==null&&(cl(e,1,t),xn(e,t));break}}e=e.return}}function bP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=yn(),t.pingedLanes|=t.suspendedLanes&n,Vt===t&&(Ht&n)===n&&(Dt===4||Dt===3&&(Ht&130023424)===Ht&&500>Tt()-jm?xs(t,0):Fm|=n),xn(t,e)}function v1(t,e){e===0&&(t.mode&1?(e=rc,rc<<=1,!(rc&130023424)&&(rc=4194304)):e=1);var n=yn();t=ui(t,e),t!==null&&(cl(t,e,n),xn(t,n))}function LP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),v1(t,n)}function VP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),v1(t,n)}var _1;_1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||kn.current)Rn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Rn=!1,IP(t,e,n);Rn=!!(t.flags&131072)}else Rn=!1,lt&&e.flags&1048576&&TT(e,uh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Mc(t,e),t=e.pendingProps;var i=Yo(e,on.current);zo(e,n),i=Om(null,e,r,t,i,n);var s=bm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pn(r)?(s=!0,oh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,km(e),i.updater=td,e.stateNode=i,i._reactInternals=e,ng(e,r,t,n),e=sg(null,e,r,!0,s,n)):(e.tag=0,lt&&s&&Em(e),fn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Mc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=UP(r),t=ar(r,t),i){case 0:e=ig(null,e,r,t,n);break e;case 1:e=J_(null,e,r,t,n);break e;case 11:e=X_(null,e,r,t,n);break e;case 14:e=Y_(null,e,r,ar(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),ig(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),J_(t,e,r,i,n);case 3:e:{if(n1(e),t===null)throw Error(J(387));r=e.pendingProps,s=e.memoizedState,i=s.element,CT(t,e),hh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ta(Error(J(423)),e),e=Z_(t,e,r,n,i);break e}else if(r!==i){i=ta(Error(J(424)),e),e=Z_(t,e,r,n,i);break e}else for(Ln=Ui(e.stateNode.containerInfo.firstChild),Un=e,lt=!0,lr=null,n=xT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jo(),r===i){e=li(t,e,n);break e}fn(t,e,r,n)}e=e.child}return e;case 5:return NT(e),t===null&&Zp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Gp(r,i)?o=null:s!==null&&Gp(r,s)&&(e.flags|=32),t1(t,e),fn(t,e,o,n),e.child;case 6:return t===null&&Zp(e),null;case 13:return r1(t,e,n);case 4:return Pm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zo(e,null,r,n):fn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),X_(t,e,r,i,n);case 7:return fn(t,e,e.pendingProps,n),e.child;case 8:return fn(t,e,e.pendingProps.children,n),e.child;case 12:return fn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,et(lh,r._currentValue),r._currentValue=o,s!==null)if(fr(s.value,o)){if(s.children===i.children&&!kn.current){e=li(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){o=s.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=ii(-1,n&-n),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var g=h.pending;g===null?c.next=c:(c.next=g.next,g.next=c),h.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),eg(s.return,n,e),u.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(J(341));o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),eg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}fn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,zo(e,n),i=tr(i),r=r(i),e.flags|=1,fn(t,e,r,n),e.child;case 14:return r=e.type,i=ar(r,e.pendingProps),i=ar(r.type,i),Y_(t,e,r,i,n);case 15:return ZT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ar(r,i),Mc(t,e),e.tag=1,Pn(r)?(t=!0,oh(e)):t=!1,zo(e,n),kT(e,r,i),ng(e,r,i,n),sg(null,e,r,!0,t,n);case 19:return i1(t,e,n);case 22:return e1(t,e,n)}throw Error(J(156,e.tag))};function w1(t,e){return WE(t,e)}function MP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(t,e,n,r){return new MP(t,e,n,r)}function qm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function UP(t){if(typeof t=="function")return qm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===lm)return 11;if(t===cm)return 14}return 2}function Bi(t,e){var n=t.alternate;return n===null?(n=Jn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")qm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ao:return Ns(n.children,i,s,e);case um:o=8,i|=8;break;case Cp:return t=Jn(12,n,e,i|2),t.elementType=Cp,t.lanes=s,t;case Rp:return t=Jn(13,n,e,i),t.elementType=Rp,t.lanes=s,t;case kp:return t=Jn(19,n,e,i),t.elementType=kp,t.lanes=s,t;case PE:return sd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case RE:o=10;break e;case kE:o=9;break e;case lm:o=11;break e;case cm:o=14;break e;case Ei:o=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=Jn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ns(t,e,n,r){return t=Jn(7,t,r,e),t.lanes=n,t}function sd(t,e,n,r){return t=Jn(22,t,r,e),t.elementType=PE,t.lanes=n,t.stateNode={isHidden:!1},t}function Kf(t,e,n){return t=Jn(6,t,null,e),t.lanes=n,t}function Gf(t,e,n){return e=Jn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function FP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kf(0),this.expirationTimes=kf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hm(t,e,n,r,i,s,o,u,c){return t=new FP(t,e,n,u,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Jn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},km(s),t}function jP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:So,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function E1(t){if(!t)return Gi;t=t._reactInternals;e:{if(Ys(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(Pn(n))return wT(t,n,e)}return e}function T1(t,e,n,r,i,s,o,u,c){return t=Hm(n,r,!0,t,i,s,o,u,c),t.context=E1(null),n=t.current,r=yn(),i=$i(n),s=ii(r,i),s.callback=e??null,Fi(n,s,i),t.current.lanes=i,cl(t,i,r),xn(t,r),t}function od(t,e,n,r){var i=e.current,s=yn(),o=$i(i);return n=E1(n),e.context===null?e.context=n:e.pendingContext=n,e=ii(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fi(i,e,o),t!==null&&(dr(t,i,o,s),bc(t,i,o)),o}function _h(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function l0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Wm(t,e){l0(t,e),(t=t.alternate)&&l0(t,e)}function $P(){return null}var I1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Km(t){this._internalRoot=t}ad.prototype.render=Km.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));od(t,e,null,null)};ad.prototype.unmount=Km.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;js(function(){od(null,t,null,null)}),e[ai]=null}};function ad(t){this._internalRoot=t}ad.prototype.unstable_scheduleHydration=function(t){if(t){var e=ZE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ii.length&&e!==0&&e<Ii[n].priority;n++);Ii.splice(n,0,t),n===0&&tT(t)}};function Gm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ud(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function c0(){}function BP(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=_h(o);s.call(h)}}var o=T1(e,r,t,0,null,!1,!1,"",c0);return t._reactRootContainer=o,t[ai]=o.current,Ou(t.nodeType===8?t.parentNode:t),js(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var h=_h(c);u.call(h)}}var c=Hm(t,0,!1,null,null,!1,!1,"",c0);return t._reactRootContainer=c,t[ai]=c.current,Ou(t.nodeType===8?t.parentNode:t),js(function(){od(e,c,n,r)}),c}function ld(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var u=i;i=function(){var c=_h(o);u.call(c)}}od(e,o,t,i)}else o=BP(n,e,t,i,r);return _h(o)}YE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xa(e.pendingLanes);n!==0&&(fm(e,n|1),xn(e,Tt()),!(Be&6)&&(na=Tt()+500,ts()))}break;case 13:js(function(){var r=ui(t,1);if(r!==null){var i=yn();dr(r,t,1,i)}}),Wm(t,1)}};pm=function(t){if(t.tag===13){var e=ui(t,134217728);if(e!==null){var n=yn();dr(e,t,134217728,n)}Wm(t,134217728)}};JE=function(t){if(t.tag===13){var e=$i(t),n=ui(t,e);if(n!==null){var r=yn();dr(n,t,e,r)}Wm(t,e)}};ZE=function(){return Xe};eT=function(t,e){var n=Xe;try{return Xe=t,e()}finally{Xe=n}};Up=function(t,e,n){switch(e){case"input":if(Np(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Zh(r);if(!i)throw Error(J(90));NE(r),Np(r,i)}}}break;case"textarea":OE(t,n);break;case"select":e=n.value,e!=null&&Fo(t,!!n.multiple,e,!1)}};jE=$m;$E=js;var zP={usingClientEntryPoint:!1,Events:[dl,Po,Zh,UE,FE,$m]},Ba={findFiberByHostInstance:Ts,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},qP={bundleType:Ba.bundleType,version:Ba.version,rendererPackageName:Ba.rendererPackageName,rendererConfig:Ba.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qE(t),t===null?null:t.stateNode},findFiberByHostInstance:Ba.findFiberByHostInstance||$P,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{Qh=pc.inject(qP),Nr=pc}catch{}}$n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zP;$n.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gm(e))throw Error(J(200));return jP(t,e,null,n)};$n.createRoot=function(t,e){if(!Gm(t))throw Error(J(299));var n=!1,r="",i=I1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Hm(t,1,!1,null,null,n,!1,r,i),t[ai]=e.current,Ou(t.nodeType===8?t.parentNode:t),new Km(e)};$n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=qE(e),t=t===null?null:t.stateNode,t};$n.flushSync=function(t){return js(t)};$n.hydrate=function(t,e,n){if(!ud(e))throw Error(J(200));return ld(null,t,e,!0,n)};$n.hydrateRoot=function(t,e,n){if(!Gm(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=I1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=T1(e,null,t,1,n??null,i,!1,s,o),t[ai]=e.current,Ou(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ad(e)};$n.render=function(t,e,n){if(!ud(e))throw Error(J(200));return ld(null,t,e,!1,n)};$n.unmountComponentAtNode=function(t){if(!ud(t))throw Error(J(40));return t._reactRootContainer?(js(function(){ld(null,null,t,!1,function(){t._reactRootContainer=null,t[ai]=null})}),!0):!1};$n.unstable_batchedUpdates=$m;$n.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ud(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return ld(t,e,n,!1,r)};$n.version="18.2.0-next-9e3b772b8-20220608";function S1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(S1)}catch(t){console.error(t)}}S1(),TE.exports=$n;var HP=TE.exports,h0=HP;Sp.createRoot=h0.createRoot,Sp.hydrateRoot=h0.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bu(){return Bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bu.apply(this,arguments)}var Di;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Di||(Di={}));const d0="popstate";function WP(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:u}=r.location;return yg("",{pathname:s,search:o,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:wh(i)}return GP(e,n,null,t)}function It(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function A1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KP(){return Math.random().toString(36).substr(2,8)}function f0(t,e){return{usr:t.state,key:t.key,idx:e}}function yg(t,e,n,r){return n===void 0&&(n=null),Bu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ya(e):e,{state:n,key:e&&e.key||r||KP()})}function wh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ya(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function GP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,u=Di.Pop,c=null,h=g();h==null&&(h=0,o.replaceState(Bu({},o.state,{idx:h}),""));function g(){return(o.state||{idx:null}).idx}function v(){u=Di.Pop;let D=g(),E=D==null?null:D-h;h=D,c&&c({action:u,location:C.location,delta:E})}function w(D,E){u=Di.Push;let T=yg(C.location,D,E);n&&n(T,D),h=g()+1;let k=f0(T,h),b=C.createHref(T);try{o.pushState(k,"",b)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign(b)}s&&c&&c({action:u,location:C.location,delta:1})}function A(D,E){u=Di.Replace;let T=yg(C.location,D,E);n&&n(T,D),h=g();let k=f0(T,h),b=C.createHref(T);o.replaceState(k,"",b),s&&c&&c({action:u,location:C.location,delta:0})}function S(D){let E=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof D=="string"?D:wh(D);return T=T.replace(/ $/,"%20"),It(E,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,E)}let C={get action(){return u},get location(){return t(i,o)},listen(D){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(d0,v),c=D,()=>{i.removeEventListener(d0,v),c=null}},createHref(D){return e(i,D)},createURL:S,encodeLocation(D){let E=S(D);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:w,replace:A,go(D){return o.go(D)}};return C}var p0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(p0||(p0={}));function QP(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ya(e):e,i=Qm(r.pathname||"/",n);if(i==null)return null;let s=C1(t);XP(s);let o=null;for(let u=0;o==null&&u<s.length;++u){let c=ux(i);o=sx(s[u],c)}return o}function C1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(It(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=zi([r,c.relativePath]),g=n.concat(c);s.children&&s.children.length>0&&(It(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),C1(s.children,e,g,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:rx(h,s.index),routesMeta:g})};return t.forEach((s,o)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,o);else for(let c of R1(s.path))i(s,o,c)}),e}function R1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=R1(r.join("/")),u=[];return u.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&u.push(...o),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function XP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ix(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const YP=/^:[\w-]+$/,JP=3,ZP=2,ex=1,tx=10,nx=-2,g0=t=>t==="*";function rx(t,e){let n=t.split("/"),r=n.length;return n.some(g0)&&(r+=nx),e&&(r+=ZP),n.filter(i=>!g0(i)).reduce((i,s)=>i+(YP.test(s)?JP:s===""?ex:tx),r)}function ix(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function sx(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let u=n[o],c=o===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",g=ox({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h);if(!g)return null;Object.assign(r,g.params);let v=u.route;s.push({params:r,pathname:zi([i,g.pathname]),pathnameBase:dx(zi([i,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(i=zi([i,g.pathnameBase]))}return s}function ox(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ax(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,g,v)=>{let{paramName:w,isOptional:A}=g;if(w==="*"){let C=u[v]||"";o=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const S=u[v];return A&&!S?h[w]=void 0:h[w]=(S||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:t}}function ax(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),A1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ux(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return A1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Qm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function lx(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ya(t):t;return{pathname:n?n.startsWith("/")?n:cx(n,e):e,search:fx(r),hash:px(i)}}function cx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Qf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hx(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xm(t,e){let n=hx(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ym(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ya(t):(i=Bu({},t),It(!i.pathname||!i.pathname.includes("?"),Qf("?","pathname","search",i)),It(!i.pathname||!i.pathname.includes("#"),Qf("#","pathname","hash",i)),It(!i.search||!i.search.includes("#"),Qf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,u;if(o==null)u=n;else{let v=e.length-1;if(!r&&o.startsWith("..")){let w=o.split("/");for(;w[0]==="..";)w.shift(),v-=1;i.pathname=w.join("/")}u=v>=0?e[v]:"/"}let c=lx(i,u),h=o&&o!=="/"&&o.endsWith("/"),g=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||g)&&(c.pathname+="/"),c}const zi=t=>t.join("/").replace(/\/\/+/g,"/"),dx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,px=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function gx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const k1=["post","put","patch","delete"];new Set(k1);const mx=["get",...k1];new Set(mx);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zu(){return zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zu.apply(this,arguments)}const Jm=$.createContext(null),yx=$.createContext(null),ns=$.createContext(null),cd=$.createContext(null),rs=$.createContext({outlet:null,matches:[],isDataRoute:!1}),P1=$.createContext(null);function vx(t,e){let{relative:n}=e===void 0?{}:e;va()||It(!1);let{basename:r,navigator:i}=$.useContext(ns),{hash:s,pathname:o,search:u}=N1(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:zi([r,o])),i.createHref({pathname:c,search:u,hash:s})}function va(){return $.useContext(cd)!=null}function pl(){return va()||It(!1),$.useContext(cd).location}function x1(t){$.useContext(ns).static||$.useLayoutEffect(t)}function hd(){let{isDataRoute:t}=$.useContext(rs);return t?Nx():_x()}function _x(){va()||It(!1);let t=$.useContext(Jm),{basename:e,future:n,navigator:r}=$.useContext(ns),{matches:i}=$.useContext(rs),{pathname:s}=pl(),o=JSON.stringify(Xm(i,n.v7_relativeSplatPath)),u=$.useRef(!1);return x1(()=>{u.current=!0}),$.useCallback(function(h,g){if(g===void 0&&(g={}),!u.current)return;if(typeof h=="number"){r.go(h);return}let v=Ym(h,JSON.parse(o),s,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:zi([e,v.pathname])),(g.replace?r.replace:r.push)(v,g.state,g)},[e,r,o,s,t])}function N1(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=$.useContext(ns),{matches:i}=$.useContext(rs),{pathname:s}=pl(),o=JSON.stringify(Xm(i,r.v7_relativeSplatPath));return $.useMemo(()=>Ym(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function wx(t,e){return Ex(t,e)}function Ex(t,e,n,r){va()||It(!1);let{navigator:i}=$.useContext(ns),{matches:s}=$.useContext(rs),o=s[s.length-1],u=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let h=pl(),g;if(e){var v;let D=typeof e=="string"?ya(e):e;c==="/"||(v=D.pathname)!=null&&v.startsWith(c)||It(!1),g=D}else g=h;let w=g.pathname||"/",A=w;if(c!=="/"){let D=c.replace(/^\//,"").split("/");A="/"+w.replace(/^\//,"").split("/").slice(D.length).join("/")}let S=QP(t,{pathname:A}),C=Cx(S&&S.map(D=>Object.assign({},D,{params:Object.assign({},u,D.params),pathname:zi([c,i.encodeLocation?i.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?c:zi([c,i.encodeLocation?i.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),s,n,r);return e&&C?$.createElement(cd.Provider,{value:{location:zu({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Di.Pop}},C):C}function Tx(){let t=xx(),e=gx(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:i},n):null,null)}const Ix=$.createElement(Tx,null);class Sx extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?$.createElement(rs.Provider,{value:this.props.routeContext},$.createElement(P1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ax(t){let{routeContext:e,match:n,children:r}=t,i=$.useContext(Jm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),$.createElement(rs.Provider,{value:e},r)}function Cx(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,u=(i=n)==null?void 0:i.errors;if(u!=null){let g=o.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id]));g>=0||It(!1),o=o.slice(0,Math.min(o.length,g+1))}let c=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let g=0;g<o.length;g++){let v=o[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=g),v.route.id){let{loaderData:w,errors:A}=n,S=v.route.loader&&w[v.route.id]===void 0&&(!A||A[v.route.id]===void 0);if(v.route.lazy||S){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((g,v,w)=>{let A,S=!1,C=null,D=null;n&&(A=u&&v.route.id?u[v.route.id]:void 0,C=v.route.errorElement||Ix,c&&(h<0&&w===0?(Dx("route-fallback",!1),S=!0,D=null):h===w&&(S=!0,D=v.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,w+1)),T=()=>{let k;return A?k=C:S?k=D:v.route.Component?k=$.createElement(v.route.Component,null):v.route.element?k=v.route.element:k=g,$.createElement(Ax,{match:v,routeContext:{outlet:g,matches:E,isDataRoute:n!=null},children:k})};return n&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?$.createElement(Sx,{location:n.location,revalidation:n.revalidation,component:C,error:A,children:T(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):T()},null)}var D1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(D1||{}),Eh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Eh||{});function Rx(t){let e=$.useContext(Jm);return e||It(!1),e}function kx(t){let e=$.useContext(yx);return e||It(!1),e}function Px(t){let e=$.useContext(rs);return e||It(!1),e}function O1(t){let e=Px(),n=e.matches[e.matches.length-1];return n.route.id||It(!1),n.route.id}function xx(){var t;let e=$.useContext(P1),n=kx(Eh.UseRouteError),r=O1(Eh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Nx(){let{router:t}=Rx(D1.UseNavigateStable),e=O1(Eh.UseNavigateStable),n=$.useRef(!1);return x1(()=>{n.current=!0}),$.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,zu({fromRouteId:e},s)))},[t,e])}const m0={};function Dx(t,e,n){!e&&!m0[t]&&(m0[t]=!0)}function y0(t){let{to:e,replace:n,state:r,relative:i}=t;va()||It(!1);let{future:s,static:o}=$.useContext(ns),{matches:u}=$.useContext(rs),{pathname:c}=pl(),h=hd(),g=Ym(e,Xm(u,s.v7_relativeSplatPath),c,i==="path"),v=JSON.stringify(g);return $.useEffect(()=>h(JSON.parse(v),{replace:n,state:r,relative:i}),[h,v,i,n,r]),null}function Ja(t){It(!1)}function Ox(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Di.Pop,navigator:s,static:o=!1,future:u}=t;va()&&It(!1);let c=e.replace(/^\/*/,"/"),h=$.useMemo(()=>({basename:c,navigator:s,static:o,future:zu({v7_relativeSplatPath:!1},u)}),[c,u,s,o]);typeof r=="string"&&(r=ya(r));let{pathname:g="/",search:v="",hash:w="",state:A=null,key:S="default"}=r,C=$.useMemo(()=>{let D=Qm(g,c);return D==null?null:{location:{pathname:D,search:v,hash:w,state:A,key:S},navigationType:i}},[c,g,v,w,A,S,i]);return C==null?null:$.createElement(ns.Provider,{value:h},$.createElement(cd.Provider,{children:n,value:C}))}function bx(t){let{children:e,location:n}=t;return wx(vg(e),n)}new Promise(()=>{});function vg(t,e){e===void 0&&(e=[]);let n=[];return $.Children.forEach(t,(r,i)=>{if(!$.isValidElement(r))return;let s=[...e,i];if(r.type===$.Fragment){n.push.apply(n,vg(r.props.children,s));return}r.type!==Ja&&It(!1),!r.props.index||!r.props.children||It(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=vg(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _g(){return _g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_g.apply(this,arguments)}function Lx(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Vx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Mx(t,e){return t.button===0&&(!e||e==="_self")&&!Vx(t)}const Ux=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Fx="6";try{window.__reactRouterVersion=Fx}catch{}const jx="startTransition",v0=LR[jx];function $x(t){let{basename:e,children:n,future:r,window:i}=t,s=$.useRef();s.current==null&&(s.current=WP({window:i,v5Compat:!0}));let o=s.current,[u,c]=$.useState({action:o.action,location:o.location}),{v7_startTransition:h}=r||{},g=$.useCallback(v=>{h&&v0?v0(()=>c(v)):c(v)},[c,h]);return $.useLayoutEffect(()=>o.listen(g),[o,g]),$.createElement(Ox,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:o,future:r})}const Bx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,b1=$.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:u,target:c,to:h,preventScrollReset:g,unstable_viewTransition:v}=e,w=Lx(e,Ux),{basename:A}=$.useContext(ns),S,C=!1;if(typeof h=="string"&&zx.test(h)&&(S=h,Bx))try{let k=new URL(window.location.href),b=h.startsWith("//")?new URL(k.protocol+h):new URL(h),q=Qm(b.pathname,A);b.origin===k.origin&&q!=null?h=q+b.search+b.hash:C=!0}catch{}let D=vx(h,{relative:i}),E=qx(h,{replace:o,state:u,target:c,preventScrollReset:g,relative:i,unstable_viewTransition:v});function T(k){r&&r(k),k.defaultPrevented||E(k)}return $.createElement("a",_g({},w,{href:S||D,onClick:C||s?r:T,ref:n,target:c}))});var _0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(_0||(_0={}));var w0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(w0||(w0={}));function qx(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:u}=e===void 0?{}:e,c=hd(),h=pl(),g=N1(t,{relative:o});return $.useCallback(v=>{if(Mx(v,n)){v.preventDefault();let w=r!==void 0?r:wh(h)===wh(g);c(t,{replace:w,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:u})}},[h,c,g,r,i,n,t,s,o,u])}var E0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Hx=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],u=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},V1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,u=o?t[i+1]:0,c=i+2<t.length,h=c?t[i+2]:0,g=s>>2,v=(s&3)<<4|u>>4;let w=(u&15)<<2|h>>6,A=h&63;c||(A=64,o||(w=64)),r.push(n[g],n[v],n[w],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(L1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Hx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const v=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||h==null||v==null)throw new Wx;const w=s<<2|u>>4;if(r.push(w),h!==64){const A=u<<4&240|h>>2;if(r.push(A),v!==64){const S=h<<6&192|v;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Wx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Kx=function(t){const e=L1(t);return V1.encodeByteArray(e,!0)},Th=function(t){return Kx(t).replace(/\./g,"")},M1=function(t){try{return V1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=()=>Gx().__FIREBASE_DEFAULTS__,Xx=()=>{if(typeof process>"u"||typeof E0>"u")return;const t=E0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Yx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&M1(t[1]);return e&&JSON.parse(e)},dd=()=>{try{return Qx()||Xx()||Yx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},U1=t=>{var e,n;return(n=(e=dd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},F1=t=>{const e=U1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},j1=()=>{var t;return(t=dd())===null||t===void 0?void 0:t.config},$1=t=>{var e;return(e=dd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Th(JSON.stringify(n)),Th(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}function eN(){var t;const e=(t=dd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rN(){const t=kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function iN(){return!eN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z1(){try{return typeof indexedDB=="object"}catch{return!1}}function sN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="FirebaseError";class Br extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=oN,Object.setPrototypeOf(this,Br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gl.prototype.create)}}class gl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?aN(s,r):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new Br(i,u,r)}}function aN(t,e){return t.replace(uN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const uN=/\{\$([^}]+)}/g;function lN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(T0(s)&&T0(o)){if(!qu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function T0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Za(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function eu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function cN(t,e){const n=new hN(t,e);return n.subscribe.bind(n)}class hN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");dN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Xf),i.error===void 0&&(i.error=Xf),i.complete===void 0&&(i.complete=Xf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t){return t&&t._delegate?t._delegate:t}class Qi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Jx;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gN(e))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=_s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_s){return this.instances.has(e)}getOptions(e=_s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_s){return this.component?this.component.multipleInstances?e:_s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pN(t){return t===_s?void 0:t}function gN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Me||(Me={}));const yN={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},vN=Me.INFO,_N={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},wN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=_N[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zm{constructor(e){this.name=e,this._logLevel=vN,this._logHandler=wN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const EN=(t,e)=>e.some(n=>t instanceof n);let I0,S0;function TN(){return I0||(I0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IN(){return S0||(S0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const q1=new WeakMap,wg=new WeakMap,H1=new WeakMap,Yf=new WeakMap,ey=new WeakMap;function SN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(qi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&q1.set(n,t)}).catch(()=>{}),ey.set(e,t),e}function AN(t){if(wg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});wg.set(t,e)}let Eg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||H1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CN(t){Eg=t(Eg)}function RN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Jf(this),e,...n);return H1.set(r,e.sort?e.sort():[e]),qi(r)}:IN().includes(t)?function(...e){return t.apply(Jf(this),e),qi(q1.get(this))}:function(...e){return qi(t.apply(Jf(this),e))}}function kN(t){return typeof t=="function"?RN(t):(t instanceof IDBTransaction&&AN(t),EN(t,TN())?new Proxy(t,Eg):t)}function qi(t){if(t instanceof IDBRequest)return SN(t);if(Yf.has(t))return Yf.get(t);const e=kN(t);return e!==t&&(Yf.set(t,e),ey.set(e,t)),e}const Jf=t=>ey.get(t);function PN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),u=qi(o);return r&&o.addEventListener("upgradeneeded",c=>{r(qi(o.result),c.oldVersion,c.newVersion,qi(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const xN=["get","getKey","getAll","getAllKeys","count"],NN=["put","add","delete","clear"],Zf=new Map;function A0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zf.get(e))return Zf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=NN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||xN.includes(n)))return;const s=async function(o,...u){const c=this.transaction(o,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&c.done]))[0]};return Zf.set(e,s),s}CN(t=>({...t,get:(e,n,r)=>A0(e,n)||t.get(e,n,r),has:(e,n)=>!!A0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ON(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ON(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tg="@firebase/app",C0="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new Zm("@firebase/app"),bN="@firebase/app-compat",LN="@firebase/analytics-compat",VN="@firebase/analytics",MN="@firebase/app-check-compat",UN="@firebase/app-check",FN="@firebase/auth",jN="@firebase/auth-compat",$N="@firebase/database",BN="@firebase/database-compat",zN="@firebase/functions",qN="@firebase/functions-compat",HN="@firebase/installations",WN="@firebase/installations-compat",KN="@firebase/messaging",GN="@firebase/messaging-compat",QN="@firebase/performance",XN="@firebase/performance-compat",YN="@firebase/remote-config",JN="@firebase/remote-config-compat",ZN="@firebase/storage",eD="@firebase/storage-compat",tD="@firebase/firestore",nD="@firebase/firestore-compat",rD="firebase",iD="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="[DEFAULT]",sD={[Tg]:"fire-core",[bN]:"fire-core-compat",[VN]:"fire-analytics",[LN]:"fire-analytics-compat",[UN]:"fire-app-check",[MN]:"fire-app-check-compat",[FN]:"fire-auth",[jN]:"fire-auth-compat",[$N]:"fire-rtdb",[BN]:"fire-rtdb-compat",[zN]:"fire-fn",[qN]:"fire-fn-compat",[HN]:"fire-iid",[WN]:"fire-iid-compat",[KN]:"fire-fcm",[GN]:"fire-fcm-compat",[QN]:"fire-perf",[XN]:"fire-perf-compat",[YN]:"fire-rc",[JN]:"fire-rc-compat",[ZN]:"fire-gcs",[eD]:"fire-gcs-compat",[tD]:"fire-fst",[nD]:"fire-fst-compat","fire-js":"fire-js",[rD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new Map,Sg=new Map;function oD(t,e){try{t.container.addComponent(e)}catch(n){$s.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bs(t){const e=t.name;if(Sg.has(e))return $s.debug(`There were multiple attempts to register component ${e}.`),!1;Sg.set(e,t);for(const n of Ih.values())oD(n,t);return!0}function fd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Hi=new gl("app","Firebase",aD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=iD;function W1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ig,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Hi.create("bad-app-name",{appName:String(i)});if(n||(n=j1()),!n)throw Hi.create("no-options");const s=Ih.get(i);if(s){if(qu(n,s.options)&&qu(r,s.config))return s;throw Hi.create("duplicate-app",{appName:i})}const o=new mN(i);for(const c of Sg.values())o.addComponent(c);const u=new uD(n,r,o);return Ih.set(i,u),u}function ty(t=Ig){const e=Ih.get(t);if(!e&&t===Ig&&j1())return W1();if(!e)throw Hi.create("no-app",{appName:t});return e}function Or(t,e,n){var r;let i=(r=sD[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$s.warn(u.join(" "));return}Bs(new Qi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="firebase-heartbeat-database",cD=1,Hu="firebase-heartbeat-store";let ep=null;function K1(){return ep||(ep=PN(lD,cD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hi.create("idb-open",{originalErrorMessage:t.message})})),ep}async function hD(t){try{const n=(await K1()).transaction(Hu),r=await n.objectStore(Hu).get(G1(t));return await n.done,r}catch(e){if(e instanceof Br)$s.warn(e.message);else{const n=Hi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$s.warn(n.message)}}}async function R0(t,e){try{const r=(await K1()).transaction(Hu,"readwrite");await r.objectStore(Hu).put(e,G1(t)),await r.done}catch(n){if(n instanceof Br)$s.warn(n.message);else{const r=Hi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$s.warn(r.message)}}}function G1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=1024,fD=30*24*60*60*1e3;class pD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=k0();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const u=new Date(o.date).valueOf();return Date.now()-u<=fD}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=k0(),{heartbeatsToSend:r,unsentEntries:i}=gD(this._heartbeatsCache.heartbeats),s=Th(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function k0(){return new Date().toISOString().substring(0,10)}function gD(t,e=dD){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),P0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),P0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return z1()?sN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return R0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return R0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function P0(t){return Th(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t){Bs(new Qi("platform-logger",e=>new DN(e),"PRIVATE")),Bs(new Qi("heartbeat",e=>new pD(e),"PRIVATE")),Or(Tg,C0,t),Or(Tg,C0,"esm2017"),Or("fire-js","")}yD("");function ny(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Q1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vD=Q1,X1=new gl("auth","Firebase",Q1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new Zm("@firebase/auth");function _D(t,...e){Sh.logLevel<=Me.WARN&&Sh.warn(`Auth (${Js}): ${t}`,...e)}function $c(t,...e){Sh.logLevel<=Me.ERROR&&Sh.error(`Auth (${Js}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(t,...e){throw ry(t,...e)}function br(t,...e){return ry(t,...e)}function wD(t,e,n){const r=Object.assign(Object.assign({},vD()),{[e]:n});return new gl("auth","Firebase",r).create(e,{appName:t.name})}function ry(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return X1.create(t,...e)}function Se(t,e,...n){if(!t)throw ry(e,...n)}function ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw $c(e),new Error(e)}function ci(t,e){t||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ED(){return x0()==="http:"||x0()==="https:"}function x0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ED()||tN()||"connection"in navigator)?navigator.onLine:!0}function ID(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n){this.shortDelay=e,this.longDelay=n,ci(n>e,"Short delay should be less than long delay!"),this.isMobile=Zx()||nN()}get(){return TD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(t,e){ci(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=new yl(3e4,6e4);function is(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function pi(t,e,n,r,i={}){return J1(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const u=ml(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),Y1.fetch()(Z1(t,t.config.apiHost,n,u),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))})}async function J1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},SD),e);try{const i=new RD(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw gc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const u=s.ok?o.errorMessage:o.error.message,[c,h]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw gc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw gc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw gc(t,"user-disabled",o);const g=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw wD(t,g,h);pr(t,g)}}catch(i){if(i instanceof Br)throw i;pr(t,"network-request-failed",{message:String(i)})}}async function vl(t,e,n,r,i={}){const s=await pi(t,e,n,r,i);return"mfaPendingCredential"in s&&pr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Z1(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?iy(t.config,i):`${t.config.apiScheme}://${i}`}function CD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class RD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(br(this.auth,"network-request-failed")),AD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=br(t,e,r);return i.customData._tokenResponse=n,i}function N0(t){return t!==void 0&&t.enterprise!==void 0}class kD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return CD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function PD(t,e){return pi(t,"GET","/v2/recaptchaConfig",is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(t,e){return pi(t,"POST","/v1/accounts:delete",e)}async function ND(t,e){return pi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DD(t,e=!1){const n=ct(t),r=await n.getIdToken(e),i=sy(r);Se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:gu(tp(i.auth_time)),issuedAtTime:gu(tp(i.iat)),expirationTime:gu(tp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function tp(t){return Number(t)*1e3}function sy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return $c("JWT malformed, contained fewer than 3 sections"),null;try{const i=M1(n);return i?JSON.parse(i):($c("Failed to decode base64 JWT payload"),null)}catch(i){return $c("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function OD(t){const e=sy(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ra(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Br&&bD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function bD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gu(this.lastLoginAt),this.creationTime=gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ra(t,ND(n,{idToken:r}));Se(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?UD(s.providerUserInfo):[],u=MD(t.providerData,o),c=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(u!=null&&u.length),g=c?h:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new eI(s.createdAt,s.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function VD(t){const e=ct(t);await Ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MD(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function UD(t){return t.map(e=>{var{providerId:n}=e,r=ny(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD(t,e){const n=await J1(t,{},async()=>{const r=ml({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Z1(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",Y1.fetch()(o,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jD(t,e){return pi(t,"POST","/v2/accounts:revokeToken",is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):OD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Se(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await FD(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Wu;return r&&(Se(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Se(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Se(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wu,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ds{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ny(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new eI(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ra(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return DD(this,e)}reload(){return VD(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ds(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ah(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ra(this,xD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,u,c,h,g;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(i=n.email)!==null&&i!==void 0?i:void 0,A=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,C=(u=n.tenantId)!==null&&u!==void 0?u:void 0,D=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,E=(h=n.createdAt)!==null&&h!==void 0?h:void 0,T=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:k,emailVerified:b,isAnonymous:q,providerData:X,stsTokenManager:f}=n;Se(k&&f,e,"internal-error");const ie=Wu.fromJSON(this.name,f);Se(typeof k=="string",e,"internal-error"),wi(v,e.name),wi(w,e.name),Se(typeof b=="boolean",e,"internal-error"),Se(typeof q=="boolean",e,"internal-error"),wi(A,e.name),wi(S,e.name),wi(C,e.name),wi(D,e.name),wi(E,e.name),wi(T,e.name);const z=new Ds({uid:k,auth:e,email:w,emailVerified:b,displayName:v,isAnonymous:q,photoURL:S,phoneNumber:A,tenantId:C,stsTokenManager:ie,createdAt:E,lastLoginAt:T});return X&&Array.isArray(X)&&(z.providerData=X.map(F=>Object.assign({},F))),D&&(z._redirectEventId=D),z}static async _fromIdTokenResponse(e,n,r=!1){const i=new Wu;i.updateFromServerResponse(n);const s=new Ds({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ah(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=new Map;function ni(t){ci(t instanceof Function,"Expected a class definition");let e=D0.get(t);return e?(ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,D0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tI.type="NONE";const O0=tI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(t,e,n){return`firebase:${t}:${e}:${n}`}class Ho{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Bc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Bc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ds._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ho(ni(O0),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||ni(O0);const o=Bc(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const g=await h._get(o);if(g){const v=Ds._fromJSON(e,g);h!==s&&(u=v),s=h;break}}catch{}const c=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Ho(s,e,r):(s=c[0],u&&await s._set(o,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new Ho(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oI(e))return"Blackberry";if(aI(e))return"Webos";if(oy(e))return"Safari";if((e.includes("chrome/")||rI(e))&&!e.includes("edge/"))return"Chrome";if(sI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function nI(t=kt()){return/firefox\//i.test(t)}function oy(t=kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rI(t=kt()){return/crios\//i.test(t)}function iI(t=kt()){return/iemobile/i.test(t)}function sI(t=kt()){return/android/i.test(t)}function oI(t=kt()){return/blackberry/i.test(t)}function aI(t=kt()){return/webos/i.test(t)}function pd(t=kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $D(t=kt()){var e;return pd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function BD(){return rN()&&document.documentMode===10}function uI(t=kt()){return pd(t)||sI(t)||aI(t)||oI(t)||/windows phone/i.test(t)||iI(t)}function zD(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(t,e=[]){let n;switch(t){case"Browser":n=b0(kt());break;case"Worker":n=`${b0(kt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Js}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,u)=>{try{const c=e(s);o(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(t,e={}){return pi(t,"GET","/v2/passwordPolicy",is(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=6;class KD{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:WD,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new L0(this),this.idTokenSubscription=new L0(this),this.beforeStateQueue=new qD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ni(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ho.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===u)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ah(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ID()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ct(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HD(this),n=new KD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await jD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ni(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await Ho.create(this,[ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(u,this,"internal-error"),u.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&_D(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Zs(t){return ct(t)}class L0{constructor(e){this.auth=e,this.observer=null,this.addObserver=cN(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QD(t){gd=t}function cI(t){return gd.loadJS(t)}function XD(){return gd.recaptchaEnterpriseScript}function YD(){return gd.gapiScript}function JD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const ZD="recaptcha-enterprise",eO="NO_RECAPTCHA";class tO{constructor(e){this.type=ZD,this.auth=Zs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,u)=>{PD(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new kD(c);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(c=>{u(c)})})}function i(s,o,u){const c=window.grecaptcha;N0(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(h=>{o(h)}).catch(()=>{o(eO)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(u=>{if(!n&&N0(window.grecaptcha))i(u,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=XD();c.length!==0&&(c+=u),cI(c).then(()=>{i(u,s,o)}).catch(h=>{o(h)})}}).catch(u=>{o(u)})})}}async function V0(t,e,n,r=!1){const i=new tO(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Cg(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await V0(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await V0(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(t,e){const n=fd(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(qu(s,e??{}))return i;pr(i,"already-initialized")}return n.initialize({options:e})}function rO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ni);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function iO(t,e,n){const r=Zs(t);Se(r._canInitEmulator,r,"emulator-config-failed"),Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=hI(e),{host:o,port:u}=sO(e),c=u===null?"":`:${u}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||oO()}function hI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function sO(t){const e=hI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:M0(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:M0(o)}}}function M0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function oO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,n){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}async function aO(t,e){return pi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uO(t,e){return vl(t,"POST","/v1/accounts:signInWithPassword",is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lO(t,e){return vl(t,"POST","/v1/accounts:signInWithEmailLink",is(t,e))}async function cO(t,e){return vl(t,"POST","/v1/accounts:signInWithEmailLink",is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends ay{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ku(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ku(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cg(e,n,"signInWithPassword",uO);case"emailLink":return lO(e,{email:this._email,oobCode:this._password});default:pr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cg(e,r,"signUpPassword",aO);case"emailLink":return cO(e,{idToken:n,email:this._email,oobCode:this._password});default:pr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(t,e){return vl(t,"POST","/v1/accounts:signInWithIdp",is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO="http://localhost";class zs extends ay{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ny(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new zs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Wo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Wo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wo(e,n)}buildRequest(){const e={requestUri:hO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ml(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fO(t){const e=Za(eu(t)).link,n=e?Za(eu(e)).deep_link_id:null,r=Za(eu(t)).deep_link_id;return(r?Za(eu(r)).link:null)||r||n||e||t}class uy{constructor(e){var n,r,i,s,o,u;const c=Za(eu(e)),h=(n=c.apiKey)!==null&&n!==void 0?n:null,g=(r=c.oobCode)!==null&&r!==void 0?r:null,v=dO((i=c.mode)!==null&&i!==void 0?i:null);Se(h&&g&&v,"argument-error"),this.apiKey=h,this.operation=v,this.code=g,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=fO(e);try{return new uy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){this.providerId=_a.PROVIDER_ID}static credential(e,n){return Ku._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=uy.parseLink(n);return Se(r,"argument-error"),Ku._fromEmailAndCode(e,r.code,r.tenantId)}}_a.PROVIDER_ID="password";_a.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_a.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l extends dI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends _l{constructor(){super("facebook.com")}static credential(e){return zs._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ai.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends _l{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zs._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ci.credential(n,r)}catch{return null}}}Ci.GOOGLE_SIGN_IN_METHOD="google.com";Ci.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends _l{constructor(){super("github.com")}static credential(e){return zs._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ri.credential(e.oauthAccessToken)}catch{return null}}}Ri.GITHUB_SIGN_IN_METHOD="github.com";Ri.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends _l{constructor(){super("twitter.com")}static credential(e,n){return zs._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ki.credential(n,r)}catch{return null}}}ki.TWITTER_SIGN_IN_METHOD="twitter.com";ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pO(t,e){return vl(t,"POST","/v1/accounts:signUp",is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ds._fromIdTokenResponse(e,r,i),o=U0(r);return new qs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=U0(r);return new qs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function U0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch extends Br{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ch.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ch(e,n,r,i)}}function fI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ch._fromErrorAndOperation(t,s,e,r):s})}async function gO(t,e,n=!1){const r=await ra(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return qs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await ra(t,fI(r,i,e,t),n);Se(s.idToken,r,"internal-error");const o=sy(s.idToken);Se(o,r,"internal-error");const{sub:u}=o;return Se(t.uid===u,r,"user-mismatch"),qs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&pr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI(t,e,n=!1){const r="signIn",i=await fI(t,r,e),s=await qs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function yO(t,e){return pI(Zs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(t){const e=Zs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function vO(t,e,n){const r=Zs(t),o=await Cg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pO).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&gI(t),c}),u=await qs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(u.user),u}function _O(t,e,n){return yO(ct(t),_a.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&gI(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wO(t,e){return pi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EO(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ct(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await ra(r,wO(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const u=r.providerData.find(({providerId:c})=>c==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function TO(t,e,n,r){return ct(t).onIdTokenChanged(e,n,r)}function IO(t,e,n){return ct(t).beforeAuthStateChanged(e,n)}function SO(t,e,n,r){return ct(t).onAuthStateChanged(e,n,r)}function AO(t){return ct(t).signOut()}const Rh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(){const t=kt();return oy(t)||pd(t)}const RO=1e3,kO=10;class yI extends mI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=CO()&&zD(),this.fallbackToPolling=uI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,u,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);BD()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,kO):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},RO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yI.type="LOCAL";const PO=yI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI extends mI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vI.type="SESSION";const _I=vI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new md(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(o).map(async h=>h(n.origin,s)),c=await xO(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}md.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((u,c)=>{const h=ly("",20);i.port1.start();const g=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(v){const w=v;if(w.data.eventId===h)switch(w.data.status){case"ack":clearTimeout(g),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(w.data.response);break;default:clearTimeout(g),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(){return window}function DO(t){Lr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(){return typeof Lr().WorkerGlobalScope<"u"&&typeof Lr().importScripts=="function"}async function OO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function LO(){return wI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="firebaseLocalStorageDb",VO=1,kh="firebaseLocalStorage",TI="fbase_key";class wl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yd(t,e){return t.transaction([kh],e?"readwrite":"readonly").objectStore(kh)}function MO(){const t=indexedDB.deleteDatabase(EI);return new wl(t).toPromise()}function Rg(){const t=indexedDB.open(EI,VO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(kh,{keyPath:TI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(kh)?e(r):(r.close(),await MO(),e(await Rg()))})})}async function F0(t,e,n){const r=yd(t,!0).put({[TI]:e,value:n});return new wl(r).toPromise()}async function UO(t,e){const n=yd(t,!1).get(e),r=await new wl(n).toPromise();return r===void 0?null:r.value}function j0(t,e){const n=yd(t,!0).delete(e);return new wl(n).toPromise()}const FO=800,jO=3;class II{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>jO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=md._getInstance(LO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await OO(),!this.activeServiceWorker)return;this.sender=new NO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rg();return await F0(e,Rh,"1"),await j0(e,Rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>F0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>UO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>j0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=yd(i,!1).getAll();return new wl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}II.type="LOCAL";const $O=II;new yl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(t,e){return e?ni(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy extends ay{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zO(t){return pI(t.auth,new cy(t),t.bypassAuthState)}function qO(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),mO(n,new cy(t),t.bypassAuthState)}async function HO(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),gO(n,new cy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:u}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zO;case"linkViaPopup":case"linkViaRedirect":return HO;case"reauthViaPopup":case"reauthViaRedirect":return qO;default:pr(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=new yl(2e3,1e4);class Vo extends SI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Vo.currentPopupAction&&Vo.currentPopupAction.cancel(),Vo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){ci(this.filter.length===1,"Popup operations only handle one event");const e=ly();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WO.get())};e()}}Vo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO="pendingRedirect",zc=new Map;class GO extends SI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zc.get(this.auth._key());if(!e){try{const r=await QO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zc.set(this.auth._key(),e)}return this.bypassAuthState||zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QO(t,e){const n=JO(e),r=YO(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function XO(t,e){zc.set(t._key(),e)}function YO(t){return ni(t._redirectPersistence)}function JO(t){return Bc(KO,t.config.apiKey,t.name)}async function ZO(t,e,n=!1){const r=Zs(t),i=BO(r,e),o=await new GO(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=10*60*1e3;class tb{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nb(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!AI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(br(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eb&&this.cachedEventUids.clear(),this.cachedEventUids.has($0(e))}saveEventToCache(e){this.cachedEventUids.add($0(e)),this.lastProcessedEventTime=Date.now()}}function $0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nb(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rb(t,e={}){return pi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sb=/^https?/;async function ob(t){if(t.config.emulator)return;const{authorizedDomains:e}=await rb(t);for(const n of e)try{if(ab(n))return}catch{}pr(t,"unauthorized-domain")}function ab(t){const e=Ag(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!sb.test(n))return!1;if(ib.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=new yl(3e4,6e4);function B0(){const t=Lr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function lb(t){return new Promise((e,n)=>{var r,i,s;function o(){B0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{B0(),n(br(t,"network-request-failed"))},timeout:ub.get()})}if(!((i=(r=Lr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Lr().gapi)===null||s===void 0)&&s.load)o();else{const u=JD("iframefcb");return Lr()[u]=()=>{gapi.load?o():n(br(t,"network-request-failed"))},cI(`${YD()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw qc=null,e})}let qc=null;function cb(t){return qc=qc||lb(t),qc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=new yl(5e3,15e3),db="__/auth/iframe",fb="emulator/auth/iframe",pb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mb(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?iy(e,fb):`https://${t.config.authDomain}/${db}`,r={apiKey:e.apiKey,appName:t.name,v:Js},i=gb.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ml(r).slice(1)}`}async function yb(t){const e=await cb(t),n=Lr().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:mb(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pb,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=br(t,"network-request-failed"),u=Lr().setTimeout(()=>{s(o)},hb.get());function c(){Lr().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_b=500,wb=600,Eb="_blank",Tb="http://localhost";class z0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ib(t,e,n,r=_b,i=wb){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},vb),{width:r.toString(),height:i.toString(),top:s,left:o}),h=kt().toLowerCase();n&&(u=rI(h)?Eb:n),nI(h)&&(e=e||Tb,c.scrollbars="yes");const g=Object.entries(c).reduce((w,[A,S])=>`${w}${A}=${S},`,"");if($D(h)&&u!=="_self")return Sb(e||"",u),new z0(null);const v=window.open(e||"",u,g);Se(v,t,"popup-blocked");try{v.focus()}catch{}return new z0(v)}function Sb(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="__/auth/handler",Cb="emulator/auth/handler",Rb=encodeURIComponent("fac");async function q0(t,e,n,r,i,s){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Js,eventId:i};if(e instanceof dI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",lN(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries(s||{}))o[g]=v}if(e instanceof _l){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(o.scopes=g.join(","))}t.tenantId&&(o.tid=t.tenantId);const u=o;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const c=await t._getAppCheckToken(),h=c?`#${Rb}=${encodeURIComponent(c)}`:"";return`${kb(t)}?${ml(u).slice(1)}${h}`}function kb({config:t}){return t.emulator?iy(t,Cb):`https://${t.authDomain}/${Ab}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="webStorageSupport";class Pb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_I,this._completeRedirectFn=ZO,this._overrideRedirectResult=XO}async _openPopup(e,n,r,i){var s;ci((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await q0(e,n,r,Ag(),i);return Ib(e,o,ly())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await q0(e,n,r,Ag(),i);return DO(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ci(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await yb(e),r=new tb(e);return n.register("authEvent",i=>(Se(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(np,{type:np},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[np];o!==void 0&&n(!!o),pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ob(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uI()||oy()||pd()}}const xb=Pb;var H0="@firebase/auth",W0="1.6.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ob(t){Bs(new Qi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=r.options;Se(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lI(t)},h=new GD(r,i,s,c);return rO(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Bs(new Qi("auth-internal",e=>{const n=Zs(e.getProvider("auth").getImmediate());return(r=>new Nb(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Or(H0,W0,Db(t)),Or(H0,W0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=5*60,Lb=$1("authIdTokenMaxAge")||bb;let K0=null;const Vb=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Lb)return;const i=n==null?void 0:n.token;K0!==i&&(K0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Mb(t=ty()){const e=fd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=nO(t,{popupRedirectResolver:xb,persistence:[$O,PO,_I]}),r=$1("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){const s=Vb(r);IO(n,s,()=>s(n.currentUser)),TO(n,o=>s(o))}const i=U1("auth");return i&&iO(n,`http://${i}`),n}function Ub(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}QD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=br("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Ub().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ob("Browser");var Fb="firebase",jb="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or(Fb,jb,"app");var $b=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ae,hy=hy||{},Re=$b||self;function vd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function El(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Bb(t){return Object.prototype.hasOwnProperty.call(t,rp)&&t[rp]||(t[rp]=++zb)}var rp="closure_uid_"+(1e9*Math.random()>>>0),zb=0;function qb(t,e,n){return t.call.apply(t.bind,arguments)}function Hb(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function nn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?nn=qb:nn=Hb,nn.apply(null,arguments)}function mc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ut(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),u=2;u<arguments.length;u++)o[u-2]=arguments[u];return e.prototype[i].apply(r,o)}}function ss(){this.s=this.s,this.o=this.o}var Wb=0;ss.prototype.s=!1;ss.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Wb!=0)&&Bb(this)};ss.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const CI=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function dy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function G0(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(vd(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function rn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}rn.prototype.h=function(){this.defaultPrevented=!0};var Kb=function(){if(!Re.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Re.addEventListener("test",n,e),Re.removeEventListener("test",n,e)}catch{}return t}();function Gu(t){return/^[\s\xa0]*$/.test(t)}function _d(){var t=Re.navigator;return t&&(t=t.userAgent)?t:""}function Cr(t){return _d().indexOf(t)!=-1}function fy(t){return fy[" "](t),t}fy[" "]=function(){};function Gb(t,e){var n=jL;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Qb=Cr("Opera"),ia=Cr("Trident")||Cr("MSIE"),RI=Cr("Edge"),kg=RI||ia,kI=Cr("Gecko")&&!(_d().toLowerCase().indexOf("webkit")!=-1&&!Cr("Edge"))&&!(Cr("Trident")||Cr("MSIE"))&&!Cr("Edge"),Xb=_d().toLowerCase().indexOf("webkit")!=-1&&!Cr("Edge");function PI(){var t=Re.document;return t?t.documentMode:void 0}var Pg;e:{var ip="",sp=function(){var t=_d();if(kI)return/rv:([^\);]+)(\)|;)/.exec(t);if(RI)return/Edge\/([\d\.]+)/.exec(t);if(ia)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Xb)return/WebKit\/(\S+)/.exec(t);if(Qb)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(sp&&(ip=sp?sp[1]:""),ia){var op=PI();if(op!=null&&op>parseFloat(ip)){Pg=String(op);break e}}Pg=ip}var xg;if(Re.document&&ia){var Q0=PI();xg=Q0||parseInt(Pg,10)||void 0}else xg=void 0;var Yb=xg;function Qu(t,e){if(rn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(kI){e:{try{fy(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Jb[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Qu.$.h.call(this)}}Ut(Qu,rn);var Jb={2:"touch",3:"pen",4:"mouse"};Qu.prototype.h=function(){Qu.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Tl="closure_listenable_"+(1e6*Math.random()|0),Zb=0;function eL(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Zb,this.fa=this.ia=!1}function wd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function py(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function tL(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function xI(t){const e={};for(const n in t)e[n]=t[n];return e}const X0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function NI(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<X0.length;s++)n=X0[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ed(t){this.src=t,this.g={},this.h=0}Ed.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Dg(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new eL(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Ng(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=CI(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(wd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Dg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var gy="closure_lm_"+(1e6*Math.random()|0),ap={};function DI(t,e,n,r,i){if(r&&r.once)return bI(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)DI(t,e[s],n,r,i);return null}return n=vy(n),t&&t[Tl]?t.O(e,n,El(r)?!!r.capture:!!r,i):OI(t,e,n,!1,r,i)}function OI(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=El(i)?!!i.capture:!!i,u=yy(t);if(u||(t[gy]=u=new Ed(t)),n=u.add(e,n,r,o,s),n.proxy)return n;if(r=nL(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Kb||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(VI(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function nL(){function t(n){return e.call(t.src,t.listener,n)}const e=rL;return t}function bI(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)bI(t,e[s],n,r,i);return null}return n=vy(n),t&&t[Tl]?t.P(e,n,El(r)?!!r.capture:!!r,i):OI(t,e,n,!0,r,i)}function LI(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)LI(t,e[s],n,r,i);else r=El(r)?!!r.capture:!!r,n=vy(n),t&&t[Tl]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Dg(s,n,r,i),-1<n&&(wd(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=yy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Dg(e,n,r,i)),(n=-1<t?e[t]:null)&&my(n))}function my(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Tl])Ng(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(VI(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=yy(e))?(Ng(n,t),n.h==0&&(n.src=null,e[gy]=null)):wd(t)}}}function VI(t){return t in ap?ap[t]:ap[t]="on"+t}function rL(t,e){if(t.fa)t=!0;else{e=new Qu(e,this);var n=t.listener,r=t.la||t.src;t.ia&&my(t),t=n.call(r,e)}return t}function yy(t){return t=t[gy],t instanceof Ed?t:null}var up="__closure_events_fn_"+(1e9*Math.random()>>>0);function vy(t){return typeof t=="function"?t:(t[up]||(t[up]=function(e){return t.handleEvent(e)}),t[up])}function Mt(){ss.call(this),this.i=new Ed(this),this.S=this,this.J=null}Ut(Mt,ss);Mt.prototype[Tl]=!0;Mt.prototype.removeEventListener=function(t,e,n,r){LI(this,t,e,n,r)};function Wt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new rn(e,t);else if(e instanceof rn)e.target=e.target||t;else{var i=e;e=new rn(r,t),NI(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=yc(o,r,!0,e)&&i}if(o=e.g=t,i=yc(o,r,!0,e)&&i,i=yc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=yc(o,r,!1,e)&&i}Mt.prototype.N=function(){if(Mt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)wd(n[r]);delete t.g[e],t.h--}}this.J=null};Mt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Mt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function yc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var u=o.listener,c=o.la||o.src;o.ia&&Ng(t.i,o),i=u.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var _y=Re.JSON.stringify;class iL{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function sL(){var t=wy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class oL{constructor(){this.h=this.g=null}add(e,n){const r=MI.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var MI=new iL(()=>new aL,t=>t.reset());class aL{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function uL(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function lL(t){Re.setTimeout(()=>{throw t},0)}let Xu,Yu=!1,wy=new oL,UI=()=>{const t=Re.Promise.resolve(void 0);Xu=()=>{t.then(cL)}};var cL=()=>{for(var t;t=sL();){try{t.h.call(t.g)}catch(n){lL(n)}var e=MI;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Yu=!1};function Td(t,e){Mt.call(this),this.h=t||1,this.g=e||Re,this.j=nn(this.qb,this),this.l=Date.now()}Ut(Td,Mt);ae=Td.prototype;ae.ga=!1;ae.T=null;ae.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Wt(this,"tick"),this.ga&&(Ey(this),this.start()))}};ae.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ey(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ae.N=function(){Td.$.N.call(this),Ey(this),delete this.g};function Ty(t,e,n){if(typeof t=="function")n&&(t=nn(t,n));else if(t&&typeof t.handleEvent=="function")t=nn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Re.setTimeout(t,e||0)}function FI(t){t.g=Ty(()=>{t.g=null,t.i&&(t.i=!1,FI(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class hL extends ss{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:FI(this)}N(){super.N(),this.g&&(Re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ju(t){ss.call(this),this.h=t,this.g={}}Ut(Ju,ss);var Y0=[];function jI(t,e,n,r){Array.isArray(n)||(n&&(Y0[0]=n.toString()),n=Y0);for(var i=0;i<n.length;i++){var s=DI(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function $I(t){py(t.g,function(e,n){this.g.hasOwnProperty(n)&&my(e)},t),t.g={}}Ju.prototype.N=function(){Ju.$.N.call(this),$I(this)};Ju.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Id(){this.g=!0}Id.prototype.Ea=function(){this.g=!1};function dL(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",u=s.split("&"),c=0;c<u.length;c++){var h=u[c].split("=");if(1<h.length){var g=h[0];h=h[1];var v=g.split("_");o=2<=v.length&&v[1]=="type"?o+(g+"="+h+"&"):o+(g+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function fL(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Mo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+gL(t,n)+(r?" "+r:"")})}function pL(t,e){t.info(function(){return"TIMEOUT: "+e})}Id.prototype.info=function(){};function gL(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return _y(n)}catch{return e}}var eo={},J0=null;function Sd(){return J0=J0||new Mt}eo.Ta="serverreachability";function BI(t){rn.call(this,eo.Ta,t)}Ut(BI,rn);function Zu(t){const e=Sd();Wt(e,new BI(e))}eo.STAT_EVENT="statevent";function zI(t,e){rn.call(this,eo.STAT_EVENT,t),this.stat=e}Ut(zI,rn);function mn(t){const e=Sd();Wt(e,new zI(e,t))}eo.Ua="timingevent";function qI(t,e){rn.call(this,eo.Ua,t),this.size=e}Ut(qI,rn);function Il(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Re.setTimeout(function(){t()},e)}var Ad={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},HI={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Iy(){}Iy.prototype.h=null;function Z0(t){return t.h||(t.h=t.i())}function WI(){}var Sl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Sy(){rn.call(this,"d")}Ut(Sy,rn);function Ay(){rn.call(this,"c")}Ut(Ay,rn);var Og;function Cd(){}Ut(Cd,Iy);Cd.prototype.g=function(){return new XMLHttpRequest};Cd.prototype.i=function(){return{}};Og=new Cd;function Al(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ju(this),this.P=mL,t=kg?125:void 0,this.V=new Td(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new KI}function KI(){this.i=null,this.g="",this.h=!1}var mL=45e3,GI={},bg={};ae=Al.prototype;ae.setTimeout=function(t){this.P=t};function Lg(t,e,n){t.L=1,t.A=kd(hi(e)),t.u=n,t.S=!0,QI(t,null)}function QI(t,e){t.G=Date.now(),Cl(t),t.B=hi(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),rS(n.i,"t",r),t.o=0,n=t.l.J,t.h=new KI,t.g=SS(t.l,n?e:null,!t.u),0<t.O&&(t.M=new hL(nn(t.Pa,t,t.g),t.O)),jI(t.U,t.g,"readystatechange",t.nb),e=t.I?xI(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Zu(),dL(t.j,t.v,t.B,t.m,t.W,t.u)}ae.nb=function(t){t=t.target;const e=this.M;e&&Rr(t)==3?e.l():this.Pa(t)};ae.Pa=function(t){try{if(t==this.g)e:{const g=Rr(this.g);var e=this.g.Ia();const v=this.g.da();if(!(3>g)&&(g!=3||kg||this.g&&(this.h.h||this.g.ja()||rw(this.g)))){this.J||g!=4||e==7||(e==8||0>=v?Zu(3):Zu(2)),Rd(this);var n=this.g.da();this.ca=n;t:if(XI(this)){var r=rw(this.g);t="";var i=r.length,s=Rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){As(this),mu(this);var o="";break t}this.h.i=new Re.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,fL(this.j,this.v,this.B,this.m,this.W,g,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gu(u)){var h=u;break t}}h=null}if(n=h)Mo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vg(this,n);else{this.i=!1,this.s=3,mn(12),As(this),mu(this);break e}}this.S?(YI(this,g,o),kg&&this.i&&g==3&&(jI(this.U,this.V,"tick",this.mb),this.V.start())):(Mo(this.j,this.m,o,null),Vg(this,o)),g==4&&As(this),this.i&&!this.J&&(g==4?wS(this.l,this):(this.i=!1,Cl(this)))}else ML(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,mn(12)):(this.s=0,mn(13)),As(this),mu(this)}}}catch{}finally{}};function XI(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function YI(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=yL(t,n),i==bg){e==4&&(t.s=4,mn(14),r=!1),Mo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==GI){t.s=4,mn(15),Mo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Mo(t.j,t.m,i,null),Vg(t,i);XI(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,mn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ny(e),e.M=!0,mn(11))):(Mo(t.j,t.m,n,"[Invalid Chunked Response]"),As(t),mu(t))}ae.mb=function(){if(this.g){var t=Rr(this.g),e=this.g.ja();this.o<e.length&&(Rd(this),YI(this,t,e),this.i&&t!=4&&Cl(this))}};function yL(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?bg:(n=Number(e.substring(n,r)),isNaN(n)?GI:(r+=1,r+n>e.length?bg:(e=e.slice(r,r+n),t.o=r+n,e)))}ae.cancel=function(){this.J=!0,As(this)};function Cl(t){t.Y=Date.now()+t.P,JI(t,t.P)}function JI(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Il(nn(t.lb,t),e)}function Rd(t){t.C&&(Re.clearTimeout(t.C),t.C=null)}ae.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(pL(this.j,this.B),this.L!=2&&(Zu(),mn(17)),As(this),this.s=2,mu(this)):JI(this,this.Y-t)};function mu(t){t.l.H==0||t.J||wS(t.l,t)}function As(t){Rd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Ey(t.V),$I(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Vg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Mg(n.i,t))){if(!t.K&&Mg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Nh(n),Dd(n);else break e;xy(n),mn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Il(nn(n.ib,n),6e3));if(1>=oS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Cs(n,11)}else if((t.K||n.g==t)&&Nh(n),!Gu(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let h=i[e];if(n.V=h[0],h=h[1],n.H==2)if(h[0]=="c"){n.K=h[1],n.pa=h[2];const g=h[3];g!=null&&(n.ra=g,n.l.info("VER="+n.ra));const v=h[4];v!=null&&(n.Ga=v,n.l.info("SVER="+n.Ga));const w=h[5];w!=null&&typeof w=="number"&&0<w&&(r=1.5*w,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const A=t.g;if(A){const S=A.g?A.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(S){var s=r.i;s.g||S.indexOf("spdy")==-1&&S.indexOf("quic")==-1&&S.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Cy(s,s.h),s.h=null))}if(r.F){const C=A.g?A.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(r.Da=C,it(r.I,r.F,C))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=IS(r,r.J?r.pa:null,r.Y),o.K){aS(r.i,o);var u=o,c=r.L;c&&u.setTimeout(c),u.C&&(Rd(u),Cl(u)),r.g=o}else vS(r);0<n.j.length&&Od(n)}else h[0]!="stop"&&h[0]!="close"||Cs(n,7);else n.H==3&&(h[0]=="stop"||h[0]=="close"?h[0]=="stop"?Cs(n,7):Py(n):h[0]!="noop"&&n.h&&n.h.Aa(h),n.A=0)}}Zu(4)}catch{}}function vL(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(vd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function _L(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(vd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function ZI(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(vd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=_L(t),r=vL(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var eS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wL(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Os(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Os){this.h=t.h,Ph(this,t.j),this.s=t.s,this.g=t.g,xh(this,t.m),this.l=t.l;var e=t.i,n=new el;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ew(this,n),this.o=t.o}else t&&(e=String(t).match(eS))?(this.h=!1,Ph(this,e[1]||"",!0),this.s=tu(e[2]||""),this.g=tu(e[3]||"",!0),xh(this,e[4]),this.l=tu(e[5]||"",!0),ew(this,e[6]||"",!0),this.o=tu(e[7]||"")):(this.h=!1,this.i=new el(null,this.h))}Os.prototype.toString=function(){var t=[],e=this.j;e&&t.push(nu(e,tw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(nu(e,tw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(nu(n,n.charAt(0)=="/"?IL:TL,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",nu(n,AL)),t.join("")};function hi(t){return new Os(t)}function Ph(t,e,n){t.j=n?tu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function xh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ew(t,e,n){e instanceof el?(t.i=e,CL(t.i,t.h)):(n||(e=nu(e,SL)),t.i=new el(e,t.h))}function it(t,e,n){t.i.set(e,n)}function kd(t){return it(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function tu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function nu(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,EL),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function EL(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var tw=/[#\/\?@]/g,TL=/[#\?:]/g,IL=/[#\?]/g,SL=/[#\?@]/g,AL=/#/g;function el(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function os(t){t.g||(t.g=new Map,t.h=0,t.i&&wL(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ae=el.prototype;ae.add=function(t,e){os(this),this.i=null,t=wa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function tS(t,e){os(t),e=wa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function nS(t,e){return os(t),e=wa(t,e),t.g.has(e)}ae.forEach=function(t,e){os(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ae.ta=function(){os(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};ae.Z=function(t){os(this);let e=[];if(typeof t=="string")nS(this,t)&&(e=e.concat(this.g.get(wa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ae.set=function(t,e){return os(this),this.i=null,t=wa(this,t),nS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ae.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function rS(t,e,n){tS(t,e),0<n.length&&(t.i=null,t.g.set(wa(t,e),dy(n)),t.h+=n.length)}ae.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function wa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function CL(t,e){e&&!t.j&&(os(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(tS(this,r),rS(this,i,n))},t)),t.j=e}var RL=class{constructor(t,e){this.g=t,this.map=e}};function iS(t){this.l=t||kL,Re.PerformanceNavigationTiming?(t=Re.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Re.g&&Re.g.Ka&&Re.g.Ka()&&Re.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var kL=10;function sS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function oS(t){return t.h?1:t.g?t.g.size:0}function Mg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Cy(t,e){t.g?t.g.add(e):t.h=e}function aS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}iS.prototype.cancel=function(){if(this.i=uS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function uS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return dy(t.i)}var PL=class{stringify(t){return Re.JSON.stringify(t,void 0)}parse(t){return Re.JSON.parse(t,void 0)}};function xL(){this.g=new PL}function NL(t,e,n){const r=n||"";try{ZI(t,function(i,s){let o=i;El(i)&&(o=_y(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function DL(t,e){const n=new Id;if(Re.Image){const r=new Image;r.onload=mc(vc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=mc(vc,n,r,"TestLoadImage: error",!1,e),r.onabort=mc(vc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=mc(vc,n,r,"TestLoadImage: timeout",!1,e),Re.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function vc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Pd(t){this.l=t.ec||null,this.j=t.ob||!1}Ut(Pd,Iy);Pd.prototype.g=function(){return new xd(this.l,this.j)};Pd.prototype.i=function(t){return function(){return t}}({});function xd(t,e){Mt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Ry,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ut(xd,Mt);var Ry=0;ae=xd.prototype;ae.open=function(t,e){if(this.readyState!=Ry)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,tl(this)};ae.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Re).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ae.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rl(this)),this.readyState=Ry};ae.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,tl(this)),this.g&&(this.readyState=3,tl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Re.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function lS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ae.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Rl(this):tl(this),this.readyState==3&&lS(this)}};ae.Za=function(t){this.g&&(this.response=this.responseText=t,Rl(this))};ae.Ya=function(t){this.g&&(this.response=t,Rl(this))};ae.ka=function(){this.g&&Rl(this)};function Rl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,tl(t)}ae.setRequestHeader=function(t,e){this.v.append(t,e)};ae.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ae.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function tl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(xd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var OL=Re.JSON.parse;function _t(t){Mt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=cS,this.L=this.M=!1}Ut(_t,Mt);var cS="",bL=/^https?$/i,LL=["POST","PUT"];ae=_t.prototype;ae.Oa=function(t){this.M=t};ae.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Og.g(),this.C=this.u?Z0(this.u):Z0(Og),this.g.onreadystatechange=nn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){nw(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Re.FormData&&t instanceof Re.FormData,!(0<=CI(LL,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{fS(this),0<this.B&&((this.L=VL(this.g))?(this.g.timeout=this.B,this.g.ontimeout=nn(this.ua,this)):this.A=Ty(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){nw(this,s)}};function VL(t){return ia&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ae.ua=function(){typeof hy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wt(this,"timeout"),this.abort(8))};function nw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,hS(t),Nd(t)}function hS(t){t.F||(t.F=!0,Wt(t,"complete"),Wt(t,"error"))}ae.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Wt(this,"complete"),Wt(this,"abort"),Nd(this))};ae.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nd(this,!0)),_t.$.N.call(this)};ae.La=function(){this.s||(this.G||this.v||this.l?dS(this):this.kb())};ae.kb=function(){dS(this)};function dS(t){if(t.h&&typeof hy<"u"&&(!t.C[1]||Rr(t)!=4||t.da()!=2)){if(t.v&&Rr(t)==4)Ty(t.La,0,t);else if(Wt(t,"readystatechange"),Rr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(eS)[1]||null;!i&&Re.self&&Re.self.location&&(i=Re.self.location.protocol.slice(0,-1)),r=!bL.test(i?i.toLowerCase():"")}n=r}if(n)Wt(t,"complete"),Wt(t,"success");else{t.m=6;try{var s=2<Rr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",hS(t)}}finally{Nd(t)}}}}function Nd(t,e){if(t.g){fS(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Wt(t,"ready");try{n.onreadystatechange=r}catch{}}}function fS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Re.clearTimeout(t.A),t.A=null)}ae.isActive=function(){return!!this.g};function Rr(t){return t.g?t.g.readyState:0}ae.da=function(){try{return 2<Rr(this)?this.g.status:-1}catch{return-1}};ae.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ae.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),OL(e)}};function rw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case cS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function ML(t){const e={};t=(t.g&&2<=Rr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Gu(t[r]))continue;var n=uL(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}tL(e,function(r){return r.join(", ")})}ae.Ia=function(){return this.m};ae.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function pS(t){let e="";return py(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function ky(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=pS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):it(t,e,n))}function za(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function gS(t){this.Ga=0,this.j=[],this.l=new Id,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=za("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=za("baseRetryDelayMs",5e3,t),this.hb=za("retryDelaySeedMs",1e4,t),this.eb=za("forwardChannelMaxRetries",2,t),this.xa=za("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new iS(t&&t.concurrentRequestLimit),this.Ja=new xL,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ae=gS.prototype;ae.ra=8;ae.H=1;function Py(t){if(mS(t),t.H==3){var e=t.W++,n=hi(t.I);if(it(n,"SID",t.K),it(n,"RID",e),it(n,"TYPE","terminate"),kl(t,n),e=new Al(t,t.l,e),e.L=2,e.A=kd(hi(n)),n=!1,Re.navigator&&Re.navigator.sendBeacon)try{n=Re.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Re.Image&&(new Image().src=e.A,n=!0),n||(e.g=SS(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Cl(e)}TS(t)}function Dd(t){t.g&&(Ny(t),t.g.cancel(),t.g=null)}function mS(t){Dd(t),t.u&&(Re.clearTimeout(t.u),t.u=null),Nh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Re.clearTimeout(t.m),t.m=null)}function Od(t){if(!sS(t.i)&&!t.m){t.m=!0;var e=t.Na;Xu||UI(),Yu||(Xu(),Yu=!0),wy.add(e,t),t.C=0}}function UL(t,e){return oS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Il(nn(t.Na,t,e),ES(t,t.C)),t.C++,!0)}ae.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Al(this,this.l,t);let s=this.s;if(this.U&&(s?(s=xI(s),NI(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=yS(this,i,e),n=hi(this.I),it(n,"RID",t),it(n,"CVER",22),this.F&&it(n,"X-HTTP-Session-Id",this.F),kl(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(pS(s)))+"&"+e:this.o&&ky(n,this.o,s)),Cy(this.i,i),this.bb&&it(n,"TYPE","init"),this.P?(it(n,"$req",e),it(n,"SID","null"),i.aa=!0,Lg(i,n,null)):Lg(i,n,e),this.H=2}}else this.H==3&&(t?iw(this,t):this.j.length==0||sS(this.i)||iw(this))};function iw(t,e){var n;e?n=e.m:n=t.W++;const r=hi(t.I);it(r,"SID",t.K),it(r,"RID",n),it(r,"AID",t.V),kl(t,r),t.o&&t.s&&ky(r,t.o,t.s),n=new Al(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=yS(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Cy(t.i,n),Lg(n,r,e)}function kl(t,e){t.na&&py(t.na,function(n,r){it(e,r,n)}),t.h&&ZI({},function(n,r){it(e,r,n)})}function yS(t,e,n){n=Math.min(t.j.length,n);var r=t.h?nn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let u=!0;for(let c=0;c<n;c++){let h=i[c].g;const g=i[c].map;if(h-=s,0>h)s=Math.max(0,i[c].g-100),u=!1;else try{NL(g,o,"req"+h+"_")}catch{r&&r(g)}}if(u){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function vS(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Xu||UI(),Yu||(Xu(),Yu=!0),wy.add(e,t),t.A=0}}function xy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Il(nn(t.Ma,t),ES(t,t.A)),t.A++,!0)}ae.Ma=function(){if(this.u=null,_S(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Il(nn(this.jb,this),t)}};ae.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,mn(10),Dd(this),_S(this))};function Ny(t){t.B!=null&&(Re.clearTimeout(t.B),t.B=null)}function _S(t){t.g=new Al(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=hi(t.wa);it(e,"RID","rpc"),it(e,"SID",t.K),it(e,"AID",t.V),it(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&it(e,"TO",t.qa),it(e,"TYPE","xmlhttp"),kl(t,e),t.o&&t.s&&ky(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=kd(hi(e)),n.u=null,n.S=!0,QI(n,t)}ae.ib=function(){this.v!=null&&(this.v=null,Dd(this),xy(this),mn(19))};function Nh(t){t.v!=null&&(Re.clearTimeout(t.v),t.v=null)}function wS(t,e){var n=null;if(t.g==e){Nh(t),Ny(t),t.g=null;var r=2}else if(Mg(t.i,e))n=e.F,aS(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Sd(),Wt(r,new qI(r,n)),Od(t)}else vS(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&UL(t,e)||r==2&&xy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Cs(t,5);break;case 4:Cs(t,10);break;case 3:Cs(t,6);break;default:Cs(t,2)}}}function ES(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Cs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=nn(t.pb,t);n||(n=new Os("//www.google.com/images/cleardot.gif"),Re.location&&Re.location.protocol=="http"||Ph(n,"https"),kd(n)),DL(n.toString(),r)}else mn(2);t.H=0,t.h&&t.h.za(e),TS(t),mS(t)}ae.pb=function(t){t?(this.l.info("Successfully pinged google.com"),mn(2)):(this.l.info("Failed to ping google.com"),mn(1))};function TS(t){if(t.H=0,t.ma=[],t.h){const e=uS(t.i);(e.length!=0||t.j.length!=0)&&(G0(t.ma,e),G0(t.ma,t.j),t.i.i.length=0,dy(t.j),t.j.length=0),t.h.ya()}}function IS(t,e,n){var r=n instanceof Os?hi(n):new Os(n);if(r.g!="")e&&(r.g=e+"."+r.g),xh(r,r.m);else{var i=Re.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Os(null);r&&Ph(s,r),e&&(s.g=e),i&&xh(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&it(r,n,e),it(r,"VER",t.ra),kl(t,r),r}function SS(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new _t(new Pd({ob:n})):new _t(t.va),e.Oa(t.J),e}ae.isActive=function(){return!!this.h&&this.h.isActive(this)};function AS(){}ae=AS.prototype;ae.Ba=function(){};ae.Aa=function(){};ae.za=function(){};ae.ya=function(){};ae.isActive=function(){return!0};ae.Va=function(){};function Dh(){if(ia&&!(10<=Number(Yb)))throw Error("Environmental error: no available transport.")}Dh.prototype.g=function(t,e){return new jn(t,e)};function jn(t,e){Mt.call(this),this.g=new gS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Gu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Gu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ea(this)}Ut(jn,Mt);jn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;mn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=IS(t,null,t.Y),Od(t)};jn.prototype.close=function(){Py(this.g)};jn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=_y(t),t=n);e.j.push(new RL(e.fb++,t)),e.H==3&&Od(e)};jn.prototype.N=function(){this.g.h=null,delete this.j,Py(this.g),delete this.g,jn.$.N.call(this)};function CS(t){Sy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ut(CS,Sy);function RS(){Ay.call(this),this.status=1}Ut(RS,Ay);function Ea(t){this.g=t}Ut(Ea,AS);Ea.prototype.Ba=function(){Wt(this.g,"a")};Ea.prototype.Aa=function(t){Wt(this.g,new CS(t))};Ea.prototype.za=function(t){Wt(this.g,new RS)};Ea.prototype.ya=function(){Wt(this.g,"b")};function FL(){this.blockSize=-1}function gr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ut(gr,FL);gr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function lp(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}gr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)lp(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){lp(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){lp(this,r),i=0;break}}this.h=i,this.i+=e};gr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ye(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var jL={};function Dy(t){return-128<=t&&128>t?Gb(t,function(e){return new Ye([e|0],0>e?-1:0)}):new Ye([t|0],0>t?-1:0)}function kr(t){if(isNaN(t)||!isFinite(t))return Ko;if(0>t)return zt(kr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Ug;return new Ye(e,0)}function kS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return zt(kS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=kr(Math.pow(e,8)),r=Ko,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=kr(Math.pow(e,s)),r=r.R(s).add(kr(o))):(r=r.R(n),r=r.add(kr(o)))}return r}var Ug=4294967296,Ko=Dy(0),Fg=Dy(1),sw=Dy(16777216);ae=Ye.prototype;ae.ea=function(){if(Yn(this))return-zt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Ug+r)*e,e*=Ug}return t};ae.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ri(this))return"0";if(Yn(this))return"-"+zt(this).toString(t);for(var e=kr(Math.pow(t,6)),n=this,r="";;){var i=bh(n,e).g;n=Oh(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,ri(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};ae.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ri(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Yn(t){return t.h==-1}ae.X=function(t){return t=Oh(this,t),Yn(t)?-1:ri(t)?0:1};function zt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ye(n,~t.h).add(Fg)}ae.abs=function(){return Yn(this)?zt(this):this};ae.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ye(n,n[n.length-1]&-2147483648?-1:0)};function Oh(t,e){return t.add(zt(e))}ae.R=function(t){if(ri(this)||ri(t))return Ko;if(Yn(this))return Yn(t)?zt(this).R(zt(t)):zt(zt(this).R(t));if(Yn(t))return zt(this.R(zt(t)));if(0>this.X(sw)&&0>t.X(sw))return kr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,u=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,_c(n,2*r+2*i),n[2*r+2*i+1]+=s*c,_c(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,_c(n,2*r+2*i+1),n[2*r+2*i+2]+=s*u,_c(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ye(n,0)};function _c(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function qa(t,e){this.g=t,this.h=e}function bh(t,e){if(ri(e))throw Error("division by zero");if(ri(t))return new qa(Ko,Ko);if(Yn(t))return e=bh(zt(t),e),new qa(zt(e.g),zt(e.h));if(Yn(e))return e=bh(t,zt(e)),new qa(zt(e.g),e.h);if(30<t.g.length){if(Yn(t)||Yn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Fg,r=e;0>=r.X(t);)n=ow(n),r=ow(r);var i=yo(n,1),s=yo(r,1);for(r=yo(r,2),n=yo(n,2);!ri(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=yo(r,1),n=yo(n,1)}return e=Oh(t,i.R(e)),new qa(i,e)}for(i=Ko;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=kr(n),o=s.R(e);Yn(o)||0<o.X(t);)n-=r,s=kr(n),o=s.R(e);ri(s)&&(s=Fg),i=i.add(s),t=Oh(t,o)}return new qa(i,t)}ae.gb=function(t){return bh(this,t).h};ae.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ye(n,this.h&t.h)};ae.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ye(n,this.h|t.h)};ae.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ye(n,this.h^t.h)};function ow(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ye(n,t.h)}function yo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ye(i,t.h)}Dh.prototype.createWebChannel=Dh.prototype.g;jn.prototype.send=jn.prototype.u;jn.prototype.open=jn.prototype.m;jn.prototype.close=jn.prototype.close;Ad.NO_ERROR=0;Ad.TIMEOUT=8;Ad.HTTP_ERROR=6;HI.COMPLETE="complete";WI.EventType=Sl;Sl.OPEN="a";Sl.CLOSE="b";Sl.ERROR="c";Sl.MESSAGE="d";Mt.prototype.listen=Mt.prototype.O;_t.prototype.listenOnce=_t.prototype.P;_t.prototype.getLastError=_t.prototype.Sa;_t.prototype.getLastErrorCode=_t.prototype.Ia;_t.prototype.getStatus=_t.prototype.da;_t.prototype.getResponseJson=_t.prototype.Wa;_t.prototype.getResponseText=_t.prototype.ja;_t.prototype.send=_t.prototype.ha;_t.prototype.setWithCredentials=_t.prototype.Oa;gr.prototype.digest=gr.prototype.l;gr.prototype.reset=gr.prototype.reset;gr.prototype.update=gr.prototype.j;Ye.prototype.add=Ye.prototype.add;Ye.prototype.multiply=Ye.prototype.R;Ye.prototype.modulo=Ye.prototype.gb;Ye.prototype.compare=Ye.prototype.X;Ye.prototype.toNumber=Ye.prototype.ea;Ye.prototype.toString=Ye.prototype.toString;Ye.prototype.getBits=Ye.prototype.D;Ye.fromNumber=kr;Ye.fromString=kS;var $L=function(){return new Dh},BL=function(){return Sd()},cp=Ad,zL=HI,qL=eo,aw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},wc=WI,HL=_t,WL=gr,Go=Ye;const uw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ta="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new Zm("@firebase/firestore");function Ha(){return Hs.logLevel}function oe(t,...e){if(Hs.logLevel<=Me.DEBUG){const n=e.map(Oy);Hs.debug(`Firestore (${Ta}): ${t}`,...n)}}function jr(t,...e){if(Hs.logLevel<=Me.ERROR){const n=e.map(Oy);Hs.error(`Firestore (${Ta}): ${t}`,...n)}}function sa(t,...e){if(Hs.logLevel<=Me.WARN){const n=e.map(Oy);Hs.warn(`Firestore (${Ta}): ${t}`,...n)}}function Oy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t="Unexpected state"){const e=`FIRESTORE (${Ta}) INTERNAL ASSERTION FAILED: `+t;throw jr(e),new Error(e)}function tt(t,e){t||Ae()}function Pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Br{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Zt.UNAUTHENTICATED))}shutdown(){}}class GL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class QL{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Vr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Vr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tt(typeof r.accessToken=="string"),new PS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string"),new Zt(e)}}class XL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class YL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new XL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,oe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(tt(typeof n.token=="string"),this.R=n.token,new JL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=eV(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function We(t,e){return t<e?-1:t>e?1:0}function oa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new he(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ze.fromMillis(Date.now())}static fromDate(e){return ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ze(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ke(e)}static min(){return new ke(new ze(0,0))}static max(){return new ke(new ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ae(),r===void 0?r=e.length-n:r>e.length-n&&Ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return nl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof nl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class st extends nl{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new st(n)}static emptyPath(){return new st([])}}const tV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends nl{construct(e,n,r){return new qt(e,n,r)}static isValidIdentifier(e){return tV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new qt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new he(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new he(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new he(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(o=!o,i++):u!=="."||o?(r+=u,i++):(s(),i++)}if(s(),o)throw new he(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(n)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(st.fromString(e))}static fromName(e){return new ve(st.fromString(e).popFirst(5))}static empty(){return new ve(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new st(e.slice()))}}function nV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(r===1e9?new ze(n+1,0):new ze(n,r));return new Xi(i,ve.empty(),e)}function rV(t){return new Xi(t.readTime,t.key,-1)}class Xi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xi(ke.min(),ve.empty(),-1)}static max(){return new Xi(ke.max(),ve.empty(),-1)}}function iV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==sV)throw t;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let i=0,s=0,o=!1;e.forEach(u=>{++i,u.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(i=>i?Q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,i)=>{const s=e.length,o=new Array(s);let u=0;for(let c=0;c<s;c++){const h=c;n(e[h]).next(g=>{o[h]=g,++u,u===s&&r(o)},g=>i(g))}})}static doWhile(e,n){return new Q((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Vr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new yu(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=Ly(r.target.error);this.V.reject(new yu(e,i))}}static open(e,n,r,i){try{return new by(n,e.transaction(i,r))}catch(s){throw new yu(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(oe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new uV(n)}}class Rs{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Rs.S(kt())===12.2&&jr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return oe("SimpleDb","Removing database:",e),ws(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!z1())return!1;if(Rs.C())return!0;const e=kt(),n=Rs.S(e),r=0<n&&n<10,i=Rs.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(oe("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new yu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new he(G.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new he(G.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new yu(e,o))},i.onupgradeneeded=s=>{oe("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{oe("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const u=by.open(this.db,e,s?"readonly":"readwrite",r),c=i(u).next(h=>(u.g(),h)).catch(h=>(u.abort(h),Q.reject(h))).toPromise();return c.catch(()=>{}),await u.m,c}catch(u){const c=u,h=c.name!=="FirebaseError"&&o<3;if(oe("SimpleDb","Transaction failed with error:",c.message,"Retrying:",h),this.close(),!h)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}class aV{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ws(this.k.delete())}}class yu extends he{constructor(e,n){super(G.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function xl(t){return t.name==="IndexedDbTransactionError"}class uV{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(oe("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(oe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ws(r)}add(e){return oe("SimpleDb","ADD",this.store.name,e,e),ws(this.store.add(e))}get(e){return ws(this.store.get(e)).next(n=>(n===void 0&&(n=null),oe("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return oe("SimpleDb","DELETE",this.store.name,e),ws(this.store.delete(e))}count(){return oe("SimpleDb","COUNT",this.store.name),ws(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new Q((o,u)=>{s.onerror=c=>{u(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(u,c)=>{o.push(c)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Q((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){oe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,u)=>u.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new Q((r,i)=>{n.onerror=s=>{const o=Ly(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(u=>{u?o.continue():r()}):r()}})}G(e,n){const r=[];return new Q((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const u=o.target.result;if(!u)return void i();const c=new aV(u),h=n(u.primaryKey,u.value,c);if(h instanceof Q){const g=h.catch(v=>(c.done(),Q.reject(v)));r.push(g)}c.isDone?i():c.$===null?u.continue():u.continue(c.$)}}).next(()=>Q.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ws(t){return new Q((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=Ly(r.target.error);n(i)}})}let lw=!1;function Ly(t){const e=Rs.S(kt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new he("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return lw||(lw=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Vy._e=-1;function bd(t){return t==null}function Lh(t){return t===0&&1/t==-1/0}function lV(t){return typeof t=="number"&&Number.isInteger(t)&&!Lh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function to(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function NS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ec(this.root,e,this.comparator,!0)}}class Ec{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Bt.RED,this.left=i??Bt.EMPTY,this.right=s??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Bt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Bt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hw(this.data.getIterator())}getIteratorFrom(e){return new hw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class hw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new Vn([])}unionWith(e){let n=new Kt(qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new DS("Invalid base64 string: "+s):s}}(e);return new an(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new an(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const cV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yi(t){if(tt(!!t),typeof t=="string"){let e=0;const n=cV.exec(t);if(tt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:At(t.seconds),nanos:At(t.nanos)}}function At(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ws(t){return typeof t=="string"?an.fromBase64String(t):an.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Uy(t){const e=t.mapValue.fields.__previous_value__;return My(e)?Uy(e):e}function rl(t){const e=Yi(t.mapValue.fields.__local_write_time__.timestampValue);return new ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,n,r,i,s,o,u,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=h}}class il{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new il("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof il&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ks(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?My(t)?4:dV(t)?9007199254740991:10:Ae()}function $r(t,e){if(t===e)return!0;const n=Ks(t);if(n!==Ks(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rl(t).isEqual(rl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Yi(i.timestampValue),u=Yi(s.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ws(i.bytesValue).isEqual(Ws(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return At(i.geoPointValue.latitude)===At(s.geoPointValue.latitude)&&At(i.geoPointValue.longitude)===At(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return At(i.integerValue)===At(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=At(i.doubleValue),u=At(s.doubleValue);return o===u?Lh(o)===Lh(u):isNaN(o)&&isNaN(u)}return!1}(t,e);case 9:return oa(t.arrayValue.values||[],e.arrayValue.values||[],$r);case 10:return function(i,s){const o=i.mapValue.fields||{},u=s.mapValue.fields||{};if(cw(o)!==cw(u))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(u[c]===void 0||!$r(o[c],u[c])))return!1;return!0}(t,e);default:return Ae()}}function sl(t,e){return(t.values||[]).find(n=>$r(n,e))!==void 0}function aa(t,e){if(t===e)return 0;const n=Ks(t),r=Ks(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return function(s,o){const u=At(s.integerValue||s.doubleValue),c=At(o.integerValue||o.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return dw(t.timestampValue,e.timestampValue);case 4:return dw(rl(t),rl(e));case 5:return We(t.stringValue,e.stringValue);case 6:return function(s,o){const u=Ws(s),c=Ws(o);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const u=s.split("/"),c=o.split("/");for(let h=0;h<u.length&&h<c.length;h++){const g=We(u[h],c[h]);if(g!==0)return g}return We(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const u=We(At(s.latitude),At(o.latitude));return u!==0?u:We(At(s.longitude),At(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const u=s.values||[],c=o.values||[];for(let h=0;h<u.length&&h<c.length;++h){const g=aa(u[h],c[h]);if(g)return g}return We(u.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Tc.mapValue&&o===Tc.mapValue)return 0;if(s===Tc.mapValue)return 1;if(o===Tc.mapValue)return-1;const u=s.fields||{},c=Object.keys(u),h=o.fields||{},g=Object.keys(h);c.sort(),g.sort();for(let v=0;v<c.length&&v<g.length;++v){const w=We(c[v],g[v]);if(w!==0)return w;const A=aa(u[c[v]],h[g[v]]);if(A!==0)return A}return We(c.length,g.length)}(t.mapValue,e.mapValue);default:throw Ae()}}function dw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=Yi(t),r=Yi(e),i=We(n.seconds,r.seconds);return i!==0?i:We(n.nanos,r.nanos)}function ua(t){return jg(t)}function jg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Yi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ws(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ve.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=jg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${jg(n.fields[o])}`;return i+"}"}(t.mapValue):Ae()}function fw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $g(t){return!!t&&"integerValue"in t}function Fy(t){return!!t&&"arrayValue"in t}function pw(t){return!!t&&"nullValue"in t}function gw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hc(t){return!!t&&"mapValue"in t}function vu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return to(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function dV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Hc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vu(n)}setAll(e){let n=qt.emptyPath(),r={},i=[];e.forEach((o,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}o?r[u.lastSegment()]=vu(o):i.push(u.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Hc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Hc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){to(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Cn(vu(this.value))}}function OS(t){const e=[];return to(t.fields,(n,r)=>{const i=new qt([n]);if(Hc(r)){const s=OS(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n,r,i,s,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=u}static newInvalidDocument(e){return new tn(e,0,ke.min(),ke.min(),ke.min(),Cn.empty(),0)}static newFoundDocument(e,n,r,i){return new tn(e,1,n,ke.min(),r,i,0)}static newNoDocument(e,n){return new tn(e,2,n,ke.min(),ke.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,ke.min(),ke.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.position=e,this.inclusive=n}}function mw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ve.comparator(ve.fromName(o.referenceValue),n.key):r=aa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function yw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$r(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n="asc"){this.field=e,this.dir=n}}function fV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{}class Rt extends bS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new gV(e,n,r):n==="array-contains"?new vV(e,r):n==="in"?new _V(e,r):n==="not-in"?new wV(e,r):n==="array-contains-any"?new EV(e,r):new Rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new mV(e,r):new yV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(aa(n,this.value)):n!==null&&Ks(this.value)===Ks(n)&&this.matchesComparison(aa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mr extends bS{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new mr(e,n)}matches(e){return LS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function LS(t){return t.op==="and"}function VS(t){return pV(t)&&LS(t)}function pV(t){for(const e of t.filters)if(e instanceof mr)return!1;return!0}function Bg(t){if(t instanceof Rt)return t.field.canonicalString()+t.op.toString()+ua(t.value);if(VS(t))return t.filters.map(e=>Bg(e)).join(",");{const e=t.filters.map(n=>Bg(n)).join(",");return`${t.op}(${e})`}}function MS(t,e){return t instanceof Rt?function(r,i){return i instanceof Rt&&r.op===i.op&&r.field.isEqual(i.field)&&$r(r.value,i.value)}(t,e):t instanceof mr?function(r,i){return i instanceof mr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,u)=>s&&MS(o,i.filters[u]),!0):!1}(t,e):void Ae()}function US(t){return t instanceof Rt?function(n){return`${n.field.canonicalString()} ${n.op} ${ua(n.value)}`}(t):t instanceof mr?function(n){return n.op.toString()+" {"+n.getFilters().map(US).join(" ,")+"}"}(t):"Filter"}class gV extends Rt{constructor(e,n,r){super(e,n,r),this.key=ve.fromName(r.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class mV extends Rt{constructor(e,n){super(e,"in",n),this.keys=FS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class yV extends Rt{constructor(e,n){super(e,"not-in",n),this.keys=FS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function FS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ve.fromName(r.referenceValue))}class vV extends Rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fy(n)&&sl(n.arrayValue,this.value)}}class _V extends Rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&sl(this.value.arrayValue,n)}}class wV extends Rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(sl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!sl(this.value.arrayValue,n)}}class EV extends Rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>sl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e,n=null,r=[],i=[],s=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=u,this.ce=null}}function vw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new TV(t,e,n,r,i,s,o)}function jy(t){const e=Pe(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Bg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),bd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ua(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ua(r)).join(",")),e.ce=n}return e.ce}function $y(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!fV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yw(t.startAt,e.startAt)&&yw(t.endAt,e.endAt)}function zg(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n=null,r=[],i=[],s=null,o="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=u,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function IV(t,e,n,r,i,s,o,u){return new Nl(t,e,n,r,i,s,o,u)}function Ld(t){return new Nl(t)}function _w(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jS(t){return t.collectionGroup!==null}function _u(t){const e=Pe(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new Kt(qt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Mh(s,r))}),n.has(qt.keyField().canonicalString())||e.le.push(new Mh(qt.keyField(),r))}return e.le}function Mr(t){const e=Pe(t);return e.he||(e.he=SV(e,_u(t))),e.he}function SV(t,e){if(t.limitType==="F")return vw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Mh(i.field,s)});const n=t.endAt?new Vh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vh(t.startAt.position,t.startAt.inclusive):null;return vw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function qg(t,e){const n=t.filters.concat([e]);return new Nl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Hg(t,e,n){return new Nl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vd(t,e){return $y(Mr(t),Mr(e))&&t.limitType===e.limitType}function $S(t){return`${jy(Mr(t))}|lt:${t.limitType}`}function wo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>US(i)).join(", ")}]`),bd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ua(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ua(i)).join(",")),`Target(${r})`}(Mr(t))}; limitType=${t.limitType})`}function Md(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ve.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of _u(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,u,c){const h=mw(o,u,c);return o.inclusive?h<=0:h<0}(r.startAt,_u(r),i)||r.endAt&&!function(o,u,c){const h=mw(o,u,c);return o.inclusive?h>=0:h>0}(r.endAt,_u(r),i))}(t,e)}function AV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function BS(t){return(e,n)=>{let r=!1;for(const i of _u(t)){const s=CV(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function CV(t,e,n){const r=t.field.isKeyField()?ve.comparator(e.key,n.key):function(s,o,u){const c=o.data.field(s),h=u.data.field(s);return c!==null&&h!==null?aa(c,h):Ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){to(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return NS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV=new gt(ve.comparator);function di(){return RV}const zS=new gt(ve.comparator);function ru(...t){let e=zS;for(const n of t)e=e.insert(n.key,n);return e}function qS(t){let e=zS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ks(){return wu()}function HS(){return wu()}function wu(){return new Ia(t=>t.toString(),(t,e)=>t.isEqual(e))}const kV=new gt(ve.comparator),PV=new Kt(ve.comparator);function Le(...t){let e=PV;for(const n of t)e=e.add(n);return e}const xV=new Kt(We);function NV(){return xV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lh(e)?"-0":e}}function KS(t){return{integerValue:""+t}}function DV(t,e){return lV(e)?KS(e):WS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(){this._=void 0}}function OV(t,e,n){return t instanceof ol?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&My(s)&&(s=Uy(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof la?QS(t,e):t instanceof al?XS(t,e):function(i,s){const o=GS(i,s),u=ww(o)+ww(i.Ie);return $g(o)&&$g(i.Ie)?KS(u):WS(i.serializer,u)}(t,e)}function bV(t,e,n){return t instanceof la?QS(t,e):t instanceof al?XS(t,e):n}function GS(t,e){return t instanceof Uh?function(r){return $g(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ol extends Ud{}class la extends Ud{constructor(e){super(),this.elements=e}}function QS(t,e){const n=YS(e);for(const r of t.elements)n.some(i=>$r(i,r))||n.push(r);return{arrayValue:{values:n}}}class al extends Ud{constructor(e){super(),this.elements=e}}function XS(t,e){let n=YS(e);for(const r of t.elements)n=n.filter(i=>!$r(i,r));return{arrayValue:{values:n}}}class Uh extends Ud{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function ww(t){return At(t.integerValue||t.doubleValue)}function YS(t){return Fy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n){this.field=e,this.transform=n}}function LV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof la&&i instanceof la||r instanceof al&&i instanceof al?oa(r.elements,i.elements,$r):r instanceof Uh&&i instanceof Uh?$r(r.Ie,i.Ie):r instanceof ol&&i instanceof ol}(t.transform,e.transform)}class VV{constructor(e,n){this.version=e,this.transformResults=n}}class Ur{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ur}static exists(e){return new Ur(void 0,e)}static updateTime(e){return new Ur(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Fd{}function ZS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new tA(t.key,Ur.none()):new Dl(t.key,t.data,Ur.none());{const n=t.data,r=Cn.empty();let i=new Kt(qt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new as(t.key,r,new Vn(i.toArray()),Ur.none())}}function MV(t,e,n){t instanceof Dl?function(i,s,o){const u=i.value.clone(),c=Tw(i.fieldTransforms,s,o.transformResults);u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):t instanceof as?function(i,s,o){if(!Wc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const u=Tw(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(eA(i)),c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Eu(t,e,n,r){return t instanceof Dl?function(s,o,u,c){if(!Wc(s.precondition,o))return u;const h=s.value.clone(),g=Iw(s.fieldTransforms,c,o);return h.setAll(g),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof as?function(s,o,u,c){if(!Wc(s.precondition,o))return u;const h=Iw(s.fieldTransforms,c,o),g=o.data;return g.setAll(eA(s)),g.setAll(h),o.convertToFoundDocument(o.version,g).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(v=>v.field))}(t,e,n,r):function(s,o,u){return Wc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u}(t,e,n)}function UV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=GS(r.transform,i||null);s!=null&&(n===null&&(n=Cn.empty()),n.set(r.field,s))}return n||null}function Ew(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&oa(r,i,(s,o)=>LV(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Dl extends Fd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class as extends Fd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function eA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Tw(t,e,n){const r=new Map;tt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,u=e.data.field(s.field);r.set(s.field,bV(o,u,n[i]))}return r}function Iw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,OV(s,o,e))}return r}class tA extends Fd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FV extends Fd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&MV(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Eu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Eu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=HS();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let u=this.applyToLocalView(o,s.mutatedFields);u=n.has(i.key)?null:u;const c=ZS(o,u);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&oa(this.mutations,e.mutations,(n,r)=>Ew(n,r))&&oa(this.baseMutations,e.baseMutations,(n,r)=>Ew(n,r))}}class By{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){tt(e.mutations.length===r.length);let i=function(){return kV}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new By(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,Fe;function zV(t){switch(t){default:return Ae();case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0}}function nA(t){if(t===void 0)return jr("GRPC error has no .code"),G.UNKNOWN;switch(t){case St.OK:return G.OK;case St.CANCELLED:return G.CANCELLED;case St.UNKNOWN:return G.UNKNOWN;case St.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case St.INTERNAL:return G.INTERNAL;case St.UNAVAILABLE:return G.UNAVAILABLE;case St.UNAUTHENTICATED:return G.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case St.NOT_FOUND:return G.NOT_FOUND;case St.ALREADY_EXISTS:return G.ALREADY_EXISTS;case St.PERMISSION_DENIED:return G.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case St.ABORTED:return G.ABORTED;case St.OUT_OF_RANGE:return G.OUT_OF_RANGE;case St.UNIMPLEMENTED:return G.UNIMPLEMENTED;case St.DATA_LOSS:return G.DATA_LOSS;default:return Ae()}}(Fe=St||(St={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV=new Go([4294967295,4294967295],0);function Sw(t){const e=qV().encode(t),n=new WL;return n.update(e),new Uint8Array(n.digest())}function Aw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Go([n,r],0),new Go([i,s],0)]}class zy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new iu(`Invalid padding: ${n}`);if(r<0)throw new iu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new iu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new iu(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Go.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Go.fromNumber(r)));return i.compare(HV)===1&&(i=new Go([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Sw(e),[r,i]=Aw(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new zy(s,i,n);return r.forEach(u=>o.insert(u)),o}insert(e){if(this.Te===0)return;const n=Sw(e),[r,i]=Aw(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ol.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new jd(ke.min(),i,new gt(We),di(),Le())}}class Ol{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ol(r,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class rA{constructor(e,n){this.targetId=e,this.fe=n}}class iA{constructor(e,n,r=an.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Cw{constructor(){this.ge=0,this.pe=kw(),this.ye=an.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Le(),n=Le(),r=Le();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ae()}}),new Ol(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=kw()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,tt(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class WV{constructor(e){this.Be=e,this.ke=new Map,this.qe=di(),this.Qe=Rw(),this.Ke=new gt(We)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(zg(s))if(r===0){const o=new ve(s.path);this.We(n,o,tn.newNoDocument(o,ke.min()))}else tt(r===1);else{const o=this.Ze(n);if(o!==r){const u=this.Xe(e),c=u?this.et(u,e,o):1;if(c!==0){this.He(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,h)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,u;try{o=Ws(r).toUint8Array()}catch(c){if(c instanceof DS)return sa("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new zy(o,i,s)}catch(c){return sa(c instanceof iu?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.Te===0?null:u}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Be.nt(),u=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const u=this.Ye(o);if(u){if(s.current&&zg(u.target)){const c=new ve(u.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,tn.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Le();this.Qe.forEach((s,o)=>{let u=!0;o.forEachWhile(c=>{const h=this.Ye(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new jd(e,n,this.Ke,this.qe,r);return this.qe=di(),this.Qe=Rw(),this.Ke=new gt(We),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Cw,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Kt(We),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new Cw),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function Rw(){return new gt(ve.comparator)}function kw(){return new gt(ve.comparator)}const KV={asc:"ASCENDING",desc:"DESCENDING"},GV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QV={and:"AND",or:"OR"};class XV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wg(t,e){return t.useProto3Json||bd(e)?e:{value:e}}function Fh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function YV(t,e){return Fh(t,e.toTimestamp())}function Fr(t){return tt(!!t),ke.fromTimestamp(function(n){const r=Yi(n);return new ze(r.seconds,r.nanos)}(t))}function qy(t,e){return Kg(t,e).canonicalString()}function Kg(t,e){const n=function(i){return new st(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function oA(t){const e=st.fromString(t);return tt(hA(e)),e}function Gg(t,e){return qy(t.databaseId,e.path)}function hp(t,e){const n=oA(e);if(n.get(1)!==t.databaseId.projectId)throw new he(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(uA(n))}function aA(t,e){return qy(t.databaseId,e)}function JV(t){const e=oA(t);return e.length===4?st.emptyPath():uA(e)}function Qg(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uA(t){return tt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Pw(t,e,n){return{name:Gg(t,e),fields:n.value.mapValue.fields}}function ZV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,g){return h.useProto3Json?(tt(g===void 0||typeof g=="string"),an.fromBase64String(g||"")):(tt(g===void 0||g instanceof Uint8Array),an.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(h){const g=h.code===void 0?G.UNKNOWN:nA(h.code);return new he(g,h.message||"")}(o);n=new iA(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=hp(t,r.document.name),s=Fr(r.document.updateTime),o=r.document.createTime?Fr(r.document.createTime):ke.min(),u=new Cn({mapValue:{fields:r.document.fields}}),c=tn.newFoundDocument(i,s,o,u),h=r.targetIds||[],g=r.removedTargetIds||[];n=new Kc(h,g,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=hp(t,r.document),s=r.readTime?Fr(r.readTime):ke.min(),o=tn.newNoDocument(i,s),u=r.removedTargetIds||[];n=new Kc([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=hp(t,r.document),s=r.removedTargetIds||[];n=new Kc([],s,i,null)}else{if(!("filter"in e))return Ae();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new BV(i,s),u=r.targetId;n=new rA(u,o)}}return n}function e2(t,e){let n;if(e instanceof Dl)n={update:Pw(t,e.key,e.value)};else if(e instanceof tA)n={delete:Gg(t,e.key)};else if(e instanceof as)n={update:Pw(t,e.key,e.data),updateMask:l2(e.fieldMask)};else{if(!(e instanceof FV))return Ae();n={verify:Gg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const u=o.transform;if(u instanceof ol)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof la)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof al)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Uh)return{fieldPath:o.field.canonicalString(),increment:u.Ie};throw Ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:YV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ae()}(t,e.precondition)),n}function t2(t,e){return t&&t.length>0?(tt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Fr(i.updateTime):Fr(s);return o.isEqual(ke.min())&&(o=Fr(s)),new VV(o,i.transformResults||[])}(n,e))):[]}function n2(t,e){return{documents:[aA(t,e.path)]}}function r2(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=aA(t,i);const s=function(h){if(h.length!==0)return cA(mr.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(h){if(h.length!==0)return h.map(g=>function(w){return{field:Eo(w.field),direction:o2(w.dir)}}(g))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const u=Wg(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ut:n,parent:i}}function i2(t){let e=JV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){tt(r===1);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let s=[];n.where&&(s=function(v){const w=lA(v);return w instanceof mr&&VS(w)?w.getFilters():[w]}(n.where));let o=[];n.orderBy&&(o=function(v){return v.map(w=>function(S){return new Mh(To(S.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(w))}(n.orderBy));let u=null;n.limit&&(u=function(v){let w;return w=typeof v=="object"?v.value:v,bd(w)?null:w}(n.limit));let c=null;n.startAt&&(c=function(v){const w=!!v.before,A=v.values||[];return new Vh(A,w)}(n.startAt));let h=null;return n.endAt&&(h=function(v){const w=!v.before,A=v.values||[];return new Vh(A,w)}(n.endAt)),IV(e,i,o,s,u,"F",c,h)}function s2(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=To(n.unaryFilter.field);return Rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=To(n.unaryFilter.field);return Rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=To(n.unaryFilter.field);return Rt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=To(n.unaryFilter.field);return Rt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(t):t.fieldFilter!==void 0?function(n){return Rt.create(To(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return mr.create(n.compositeFilter.filters.map(r=>lA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ae()}}(n.compositeFilter.op))}(t):Ae()}function o2(t){return KV[t]}function a2(t){return GV[t]}function u2(t){return QV[t]}function Eo(t){return{fieldPath:t.canonicalString()}}function To(t){return qt.fromServerFormat(t.fieldPath)}function cA(t){return t instanceof Rt?function(n){if(n.op==="=="){if(gw(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NAN"}};if(pw(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gw(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NOT_NAN"}};if(pw(n.value))return{unaryFilter:{field:Eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(n.field),op:a2(n.op),value:n.value}}}(t):t instanceof mr?function(n){const r=n.getFilters().map(i=>cA(i));return r.length===1?r[0]:{compositeFilter:{op:u2(n.op),filters:r}}}(t):Ae()}function l2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n,r,i,s=ke.min(),o=ke.min(),u=an.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){this.ct=e}}function h2(t){const e=i2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(){this._n=new f2}addToCollectionParentIndex(e,n){return this._n.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(Xi.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class f2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Kt(st.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Kt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ca(0)}static Ln(){return new ca(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this.changes=new Ia(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Eu(r.mutation,i,Vn.empty(),ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Le()){const i=ks();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ru();return s.forEach((u,c)=>{o=o.insert(u,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ks();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Le()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,u)=>{n.set(o,u)})})}computeViews(e,n,r,i){let s=di();const o=wu(),u=function(){return wu()}();return n.forEach((c,h)=>{const g=r.get(h.key);i.has(h.key)&&(g===void 0||g.mutation instanceof as)?s=s.insert(h.key,h):g!==void 0?(o.set(h.key,g.mutation.getFieldMask()),Eu(g.mutation,h,g.mutation.getFieldMask(),ze.now())):o.set(h.key,Vn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((h,g)=>o.set(h,g)),n.forEach((h,g)=>{var v;return u.set(h,new g2(g,(v=o.get(h))!==null&&v!==void 0?v:null))}),u))}recalculateAndSaveOverlays(e,n){const r=wu();let i=new gt((o,u)=>o-u),s=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const u of o)u.keys().forEach(c=>{const h=n.get(c);if(h===null)return;let g=r.get(c)||Vn.empty();g=u.applyToLocalView(h,g),r.set(c,g);const v=(i.get(u.batchId)||Le()).add(c);i=i.insert(u.batchId,v)})}).next(()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),h=c.key,g=c.value,v=HS();g.forEach(w=>{if(!s.has(w)){const A=ZS(n.get(w),r.get(w));A!==null&&v.set(w,A),s=s.add(w)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,v))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ve.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Q.resolve(ks());let u=-1,c=s;return o.next(h=>Q.forEach(h,(g,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),s.get(g)?Q.resolve():this.remoteDocumentCache.getEntry(e,g).next(w=>{c=c.insert(g,w)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,c,h,Le())).next(g=>({batchId:u,changes:qS(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(r=>{let i=ru();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ru();return this.indexManager.getCollectionParents(e,s).next(u=>Q.forEach(u,c=>{const h=function(v,w){return new Nl(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(g=>{g.forEach((v,w)=>{o=o.insert(v,w)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,h)=>{const g=h.getKey();o.get(g)===null&&(o=o.insert(g,tn.newInvalidDocument(g)))});let u=ru();return o.forEach((c,h)=>{const g=s.get(c);g!==void 0&&Eu(g.mutation,h,Vn.empty(),ze.now()),Md(n,h)&&(u=u.insert(c,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return Q.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Fr(i.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:h2(i.bundledQuery),readTime:Fr(i.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(){this.overlays=new gt(ve.comparator),this.hr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ks();return Q.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const i=ks(),s=n.length+1,o=new ve(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const c=u.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new gt((h,g)=>h-g);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let g=s.get(h.largestBatchId);g===null&&(g=ks(),s=s.insert(h.largestBatchId,g)),g.set(h.getKey(),h)}}const u=ks(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,g)=>u.set(h,g)),!(u.size()>=i)););return Q.resolve(u)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new $V(n,r));let s=this.hr.get(n);s===void 0&&(s=Le(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(){this.Pr=new Kt(bt.Ir),this.Tr=new Kt(bt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new bt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new bt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ve(new st([])),r=new bt(n,e),i=new bt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ve(new st([])),r=new bt(n,e),i=new bt(n,e+1);let s=Le();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new bt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class bt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ve.comparator(e.key,n.key)||We(e.pr,n.pr)}static Er(e,n){return We(e.pr,n.pr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Kt(bt.Ir)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new jV(s,n,r,i);this.mutationQueue.push(o);for(const u of i)this.wr=this.wr.add(new bt(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return Q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bt(n,0),i=new bt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const u=this.Sr(o.pr);s.push(u)}),Q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kt(We);return n.forEach(i=>{const s=new bt(i,0),o=new bt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],u=>{r=r.add(u.pr)})}),Q.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ve.isDocumentKey(s)||(s=s.child(""));const o=new bt(new ve(s),0);let u=new Kt(We);return this.wr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(c.pr)),!0)},o),Q.resolve(this.Dr(u))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){tt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return Q.forEach(n.mutations,i=>{const s=new bt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new bt(n,0),i=this.wr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e){this.vr=e,this.docs=function(){return new gt(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let r=di();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():tn.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=di();const o=n.path,u=new ve(o.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:h,value:{document:g}}=c.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||iV(rV(g),r)<=0||(i.has(g.key)||Md(n,g))&&(s=s.insert(g.key,g.mutableCopy()))}return Q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ae()}Fr(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new E2(this)}getSize(e){return Q.resolve(this.size)}}class E2 extends p2{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this.persistence=e,this.Mr=new Ia(n=>jy(n),$y),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Hy,this.targetCount=0,this.Lr=ca.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),Q.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new ca(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.qn(n),Q.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),Q.waitFor(s).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,n){this.Br={},this.overlays={},this.kr=new Vy(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new T2(this),this.indexManager=new d2,this.remoteDocumentCache=function(i){return new w2(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new c2(n),this.$r=new y2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new v2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new _2(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const i=new S2(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return Q.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class S2 extends oV{constructor(e){super(),this.currentSequenceNumber=e}}class Wy{constructor(e){this.persistence=e,this.zr=new Hy,this.jr=null}static Hr(e){return new Wy(e)}get Jr(){if(this.jr)return this.jr;throw Ae()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Jr,r=>{const i=ve.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,ke.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return Q.or([()=>Q.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Le(),i=Le();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Ky(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return iN()?8:Rs.v(kt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new A2;return this.Ji(e,n,o).next(u=>{if(s.result=u,this.Ui)return this.Yi(e,n,o,u.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ha()<=Me.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",wo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Q.resolve()):(Ha()<=Me.DEBUG&&oe("QueryEngine","Query:",wo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ha()<=Me.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",wo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mr(n))):Q.resolve())}ji(e,n){if(_w(n))return Q.resolve(null);let r=Mr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Hg(n,null,"F"),r=Mr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Le(...s);return this.zi.getDocuments(e,o).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.Zi(n,u);return this.Xi(n,h,o,c.readTime)?this.ji(e,Hg(n,null,"F")):this.es(e,h,n,c)}))})))}Hi(e,n,r,i){return _w(n)||i.isEqual(ke.min())?Q.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?Q.resolve(null):(Ha()<=Me.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),wo(n)),this.es(e,o,n,nV(i,-1)).next(u=>u))})}Zi(e,n){let r=new Kt(BS(e));return n.forEach((i,s)=>{Md(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Ha()<=Me.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",wo(n)),this.zi.getDocumentsMatchingQuery(e,n,Xi.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new gt(We),this.rs=new Ia(s=>jy(s),$y),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m2(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function k2(t,e,n,r){return new R2(t,e,n,r)}async function dA(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],u=[];let c=Le();for(const h of i){o.push(h.batchId);for(const g of h.mutations)c=c.add(g.key)}for(const h of s){u.push(h.batchId);for(const g of h.mutations)c=c.add(g.key)}return n.localDocuments.getDocuments(r,c).next(h=>({us:h,removedBatchIds:o,addedBatchIds:u}))})})}function P2(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(u,c,h,g){const v=h.batch,w=v.keys();let A=Q.resolve();return w.forEach(S=>{A=A.next(()=>g.getEntry(c,S)).next(C=>{const D=h.docVersions.get(S);tt(D!==null),C.version.compareTo(D)<0&&(v.applyToRemoteDocument(C,h),C.isValidDocument()&&(C.setReadTime(h.commitVersion),g.addEntry(C)))})}),A.next(()=>u.mutationQueue.removeMutationBatch(c,v))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=Le();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(c=c.add(u.batch.mutations[h].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function fA(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function x2(t,e){const n=Pe(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const u=[];e.targetChanges.forEach((g,v)=>{const w=i.get(v);if(!w)return;u.push(n.Qr.removeMatchingKeys(s,g.removedDocuments,v).next(()=>n.Qr.addMatchingKeys(s,g.addedDocuments,v)));let A=w.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(v)!==null?A=A.withResumeToken(an.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):g.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(g.resumeToken,r)),i=i.insert(v,A),function(C,D,E){return C.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(w,A,g)&&u.push(n.Qr.updateTargetData(s,A))});let c=di(),h=Le();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,g))}),u.push(N2(s,o,e.documentUpdates).next(g=>{c=g.cs,h=g.ls})),!r.isEqual(ke.min())){const g=n.Qr.getLastRemoteSnapshotVersion(s).next(v=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(g)}return Q.waitFor(u).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,h)).next(()=>c)}).then(s=>(n.ns=i,s))}function N2(t,e,n){let r=Le(),i=Le();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=di();return n.forEach((u,c)=>{const h=s.get(u);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(ke.min())?(e.removeEntry(u,c.readTime),o=o.insert(u,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),o=o.insert(u,c)):oe("LocalStore","Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",c.version)}),{cs:o,ls:i}})}function D2(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function O2(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,Q.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Oi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Xg(t,e,n){const r=Pe(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!xl(o))throw o;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function xw(t,e,n){const r=Pe(t);let i=ke.min(),s=Le();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,h,g){const v=Pe(c),w=v.rs.get(g);return w!==void 0?Q.resolve(v.ns.get(w)):v.Qr.getTargetData(h,g)}(r,o,Mr(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,u.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:ke.min(),n?s:Le())).next(u=>(b2(r,AV(e),u),{documents:u,hs:s})))}function b2(t,e,n){let r=t.ss.get(e)||ke.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class Nw{constructor(){this.activeTargetIds=NV()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class L2{constructor(){this.no=new Nw,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Nw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic=null;function dp(){return Ic===null?Ic=function(){return 268435456+Math.round(2147483648*Math.random())}():Ic++,"0x"+Ic.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class F2 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const u=dp(),c=this.bo(n,r.toUriEncodedString());oe("RestConnection",`Sending RPC '${n}' ${u}:`,c,i);const h={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(h,s,o),this.Co(n,c,h,i).then(g=>(oe("RestConnection",`Received RPC '${n}' ${u}: `,g),g),g=>{throw sa("RestConnection",`RPC '${n}' ${u} failed with error: `,g,"url: ",c,"request:",i),g})}vo(n,r,i,s,o,u){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ta}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=M2[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=dp();return new Promise((o,u)=>{const c=new HL;c.setWithCredentials(!0),c.listenOnce(zL.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case cp.NO_ERROR:const g=c.getResponseJson();oe(Jt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(g)),o(g);break;case cp.TIMEOUT:oe(Jt,`RPC '${e}' ${s} timed out`),u(new he(G.DEADLINE_EXCEEDED,"Request time out"));break;case cp.HTTP_ERROR:const v=c.getStatus();if(oe(Jt,`RPC '${e}' ${s} failed with status:`,v,"response text:",c.getResponseText()),v>0){let w=c.getResponseJson();Array.isArray(w)&&(w=w[0]);const A=w==null?void 0:w.error;if(A&&A.status&&A.message){const S=function(D){const E=D.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(E)>=0?E:G.UNKNOWN}(A.status);u(new he(S,A.message))}else u(new he(G.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new he(G.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{oe(Jt,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);oe(Jt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",h,r,15)})}Fo(e,n,r){const i=dp(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=$L(),u=BL(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const g=s.join("");oe(Jt,`Creating RPC '${e}' stream ${i}: ${g}`,c);const v=o.createWebChannel(g,c);let w=!1,A=!1;const S=new U2({lo:D=>{A?oe(Jt,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(w||(oe(Jt,`Opening RPC '${e}' stream ${i} transport.`),v.open(),w=!0),oe(Jt,`RPC '${e}' stream ${i} sending:`,D),v.send(D))},ho:()=>v.close()}),C=(D,E,T)=>{D.listen(E,k=>{try{T(k)}catch(b){setTimeout(()=>{throw b},0)}})};return C(v,wc.EventType.OPEN,()=>{A||oe(Jt,`RPC '${e}' stream ${i} transport opened.`)}),C(v,wc.EventType.CLOSE,()=>{A||(A=!0,oe(Jt,`RPC '${e}' stream ${i} transport closed`),S.Vo())}),C(v,wc.EventType.ERROR,D=>{A||(A=!0,sa(Jt,`RPC '${e}' stream ${i} transport errored:`,D),S.Vo(new he(G.UNAVAILABLE,"The operation could not be completed")))}),C(v,wc.EventType.MESSAGE,D=>{var E;if(!A){const T=D.data[0];tt(!!T);const k=T,b=k.error||((E=k[0])===null||E===void 0?void 0:E.error);if(b){oe(Jt,`RPC '${e}' stream ${i} received error:`,b);const q=b.status;let X=function(z){const F=St[z];if(F!==void 0)return nA(F)}(q),f=b.message;X===void 0&&(X=G.INTERNAL,f="Unknown error status: "+q+" with message "+b.message),A=!0,S.Vo(new he(X,f)),v.close()}else oe(Jt,`RPC '${e}' stream ${i} received:`,T),S.mo(T)}}),C(u,qL.STAT_EVENT,D=>{D.stat===aw.PROXY?oe(Jt,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===aw.NOPROXY&&oe(Jt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.Ro()},0),S}}function fp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(t){return new XV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,n,r,i,s,o,u,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new pA(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(jr(n.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new he(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class j2 extends gA{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=ZV(this.serializer,e),r=function(s){if(!("targetChange"in s))return ke.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ke.min():o.readTime?Fr(o.readTime):ke.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=Qg(this.serializer),n.addTarget=function(s,o){let u;const c=o.target;if(u=zg(c)?{documents:n2(s,c)}:{query:r2(s,c).ut},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=sA(s,o.resumeToken);const h=Wg(s,o.expectedCount);h!==null&&(u.expectedCount=h)}else if(o.snapshotVersion.compareTo(ke.min())>0){u.readTime=Fh(s,o.snapshotVersion.toTimestamp());const h=Wg(s,o.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=s2(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=Qg(this.serializer),n.removeTarget=e,this.t_(n)}}class $2 extends gA{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=t2(e.writeResults,e.commitTime),r=Fr(e.commitTime);return this.listener.T_(r,n)}return tt(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Qg(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>e2(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new he(G.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,Kg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new he(G.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.vo(e,Kg(n,r),i,o,u,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new he(G.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class z2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(jr(n),this.g_=!1):oe("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{no(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),await async function(c){const h=Pe(c);h.v_.add(4),await bl(h),h.x_.set("Unknown"),h.v_.delete(4),await Bd(h)}(this))})}),this.x_=new z2(r,i)}}async function Bd(t){if(no(t))for(const e of t.F_)await e(!0)}async function bl(t){for(const e of t.F_)await e(!1)}function mA(t,e){const n=Pe(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Yy(n)?Xy(n):Sa(n).Jo()&&Qy(n,e))}function Gy(t,e){const n=Pe(t),r=Sa(n);n.C_.delete(e),r.Jo()&&yA(n,e),n.C_.size===0&&(r.Jo()?r.Xo():no(n)&&n.x_.set("Unknown"))}function Qy(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Sa(t).c_(e)}function yA(t,e){t.O_.Oe(e),Sa(t).l_(e)}function Xy(t){t.O_=new WV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Sa(t).start(),t.x_.p_()}function Yy(t){return no(t)&&!Sa(t).Ho()&&t.C_.size>0}function no(t){return Pe(t).v_.size===0}function vA(t){t.O_=void 0}async function H2(t){t.C_.forEach((e,n)=>{Qy(t,e)})}async function W2(t,e){vA(t),Yy(t)?(t.x_.S_(e),Xy(t)):t.x_.set("Unknown")}async function K2(t,e,n){if(t.x_.set("Online"),e instanceof iA&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const u of s.targetIds)i.C_.has(u)&&(await i.remoteSyncer.rejectListen(u,o),i.C_.delete(u),i.O_.removeTarget(u))}(t,e)}catch(r){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jh(t,r)}else if(e instanceof Kc?t.O_.$e(e):e instanceof rA?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(ke.min()))try{const r=await fA(t.localStore);n.compareTo(r)>=0&&await function(s,o){const u=s.O_.it(o);return u.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const g=s.C_.get(h);g&&s.C_.set(h,g.withResumeToken(c.resumeToken,o))}}),u.targetMismatches.forEach((c,h)=>{const g=s.C_.get(c);if(!g)return;s.C_.set(c,g.withResumeToken(an.EMPTY_BYTE_STRING,g.snapshotVersion)),yA(s,c);const v=new Oi(g.target,c,h,g.sequenceNumber);Qy(s,v)}),s.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){oe("RemoteStore","Failed to raise snapshot:",r),await jh(t,r)}}async function jh(t,e,n){if(!xl(e))throw e;t.v_.add(1),await bl(t),t.x_.set("Offline"),n||(n=()=>fA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{oe("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Bd(t)})}function _A(t,e){return e().catch(n=>jh(t,n,e))}async function zd(t){const e=Pe(t),n=Ji(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;G2(e);)try{const i=await D2(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,Q2(e,i)}catch(i){await jh(e,i)}wA(e)&&EA(e)}function G2(t){return no(t)&&t.D_.length<10}function Q2(t,e){t.D_.push(e);const n=Ji(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function wA(t){return no(t)&&!Ji(t).Ho()&&t.D_.length>0}function EA(t){Ji(t).start()}async function X2(t){Ji(t).d_()}async function Y2(t){const e=Ji(t);for(const n of t.D_)e.I_(n.mutations)}async function J2(t,e,n){const r=t.D_.shift(),i=By.from(r,e,n);await _A(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await zd(t)}async function Z2(t,e){e&&Ji(t).P_&&await async function(r,i){if(function(o){return zV(o)&&o!==G.ABORTED}(i.code)){const s=r.D_.shift();Ji(r).Zo(),await _A(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await zd(r)}}(t,e),wA(t)&&EA(t)}async function Ow(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const r=no(n);n.v_.add(3),await bl(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Bd(n)}async function eM(t,e){const n=Pe(t);e?(n.v_.delete(2),await Bd(n)):e||(n.v_.add(2),await bl(n),n.x_.set("Unknown"))}function Sa(t){return t.N_||(t.N_=function(n,r,i){const s=Pe(n);return s.R_(),new j2(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:H2.bind(null,t),To:W2.bind(null,t),u_:K2.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),Yy(t)?Xy(t):t.x_.set("Unknown")):(await t.N_.stop(),vA(t))})),t.N_}function Ji(t){return t.L_||(t.L_=function(n,r,i){const s=Pe(n);return s.R_(),new $2(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:X2.bind(null,t),To:Z2.bind(null,t),E_:Y2.bind(null,t),T_:J2.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await zd(t)):(await t.L_.stop(),t.D_.length>0&&(oe("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,u=new Jy(e,n,o,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zy(t,e){if(jr("AsyncQueue",`${e}: ${t}`),xl(t))return new he(G.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ve.comparator(n.key,r.key):(n,r)=>ve.comparator(n.key,r.key),this.keyedMap=ru(),this.sortedSet=new gt(this.comparator)}static emptySet(e){return new Qo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Qo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(){this.B_=new gt(ve.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Ae():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ha{constructor(e,n,r,i,s,o,u,c,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(u=>{o.push({type:0,doc:u})}),new ha(e,n,Qo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class nM{constructor(){this.queries=new Ia(e=>$S(e),Vd),this.onlineState="Unknown",this.W_=new Set}}async function ev(t,e){const n=Pe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.K_()&&e.U_()&&(r=2):(s=new tM,r=e.U_()?0:1);try{switch(r){case 0:s.q_=await n.onListen(i,!0);break;case 1:s.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const u=Zy(o,`Initialization of query '${wo(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,s),s.Q_.push(e),e.G_(n.onlineState),s.q_&&e.z_(s.q_)&&nv(n)}async function tv(t,e){const n=Pe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),s.Q_.length===0?i=e.U_()?0:1:!s.K_()&&e.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function rM(t,e){const n=Pe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const u of o.Q_)u.z_(i)&&(r=!0);o.q_=i}}r&&nv(n)}function iM(t,e,n){const r=Pe(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function nv(t){t.W_.forEach(e=>{e.next()})}var Yg,Lw;(Lw=Yg||(Yg={})).j_="default",Lw.Cache="cache";class rv{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ha(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=ha.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==Yg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e){this.key=e}}class IA{constructor(e){this.key=e}}class sM{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=Le(),this.mutatedKeys=Le(),this.ha=BS(e),this.Pa=new Qo(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new bw,i=n?n.Pa:this.Pa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,v)=>{const w=i.get(g),A=Md(this.query,v)?v:null,S=!!w&&this.mutatedKeys.has(w.key),C=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let D=!1;w&&A?w.data.isEqual(A.data)?S!==C&&(r.track({type:3,doc:A}),D=!0):this.da(w,A)||(r.track({type:2,doc:A}),D=!0,(c&&this.ha(A,c)>0||h&&this.ha(A,h)<0)&&(u=!0)):!w&&A?(r.track({type:0,doc:A}),D=!0):w&&!A&&(r.track({type:1,doc:w}),D=!0,(c||h)&&(u=!0)),D&&(A?(o=o.add(A),s=C?s.add(g):s.delete(g)):(o=o.delete(g),s=s.delete(g)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const g=this.query.limitType==="F"?o.last():o.first();o=o.delete(g.key),s=s.delete(g.key),r.track({type:1,doc:g})}return{Pa:o,Ea:r,Xi:u,mutatedKeys:s}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort((g,v)=>function(A,S){const C=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return C(A)-C(S)}(g.type,v.type)||this.ha(g.doc,v.doc)),this.Aa(r),i=i!=null&&i;const u=n&&!i?this.Ra():[],c=this.la.size===0&&this.current&&!i?1:0,h=c!==this.ca;return this.ca=c,o.length!==0||h?{snapshot:new ha(this.query,e.Pa,s,o,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:u}:{Va:u}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new bw,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=Le(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new IA(r))}),this.la.forEach(r=>{e.has(r)||n.push(new TA(r))}),n}fa(e){this.ua=e.hs,this.la=Le();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return ha.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class oM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class aM{constructor(e){this.key=e,this.pa=!1}}class uM{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new Ia(u=>$S(u),Vd),this.Sa=new Map,this.ba=new Set,this.Da=new gt(ve.comparator),this.Ca=new Map,this.va=new Hy,this.Fa={},this.Ma=new Map,this.xa=ca.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function lM(t,e,n=!0){const r=PA(t);let i;const s=r.wa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=await SA(r,e,n,!0),i}async function cM(t,e){const n=PA(t);await SA(n,e,!0,!1)}async function SA(t,e,n,r){const i=await O2(t.localStore,Mr(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let u;return r&&(u=await hM(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&mA(t.remoteStore,i),u}async function hM(t,e,n,r,i){t.Na=(v,w,A)=>async function(C,D,E,T){let k=D.view.Ta(E);k.Xi&&(k=await xw(C.localStore,D.query,!1).then(({documents:f})=>D.view.Ta(f,k)));const b=T&&T.targetChanges.get(D.targetId),q=T&&T.targetMismatches.get(D.targetId)!=null,X=D.view.applyChanges(k,C.isPrimaryClient,b,q);return Mw(C,D.targetId,X.Va),X.snapshot}(t,v,w,A);const s=await xw(t.localStore,e,!0),o=new sM(e,s.hs),u=o.Ta(s.documents),c=Ol.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(u,t.isPrimaryClient,c);Mw(t,n,h.Va);const g=new oM(e,n,o);return t.wa.set(e,g),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),h.snapshot}async function dM(t,e,n){const r=Pe(t),i=r.wa.get(e),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter(o=>!Vd(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Xg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Gy(r.remoteStore,i.targetId),Jg(r,i.targetId)}).catch(Pl)):(Jg(r,i.targetId),await Xg(r.localStore,i.targetId,!0))}async function fM(t,e){const n=Pe(t),r=n.wa.get(e),i=n.Sa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Gy(n.remoteStore,r.targetId))}async function pM(t,e,n){const r=EM(t);try{const i=await function(o,u){const c=Pe(o),h=ze.now(),g=u.reduce((A,S)=>A.add(S.key),Le());let v,w;return c.persistence.runTransaction("Locally write mutations","readwrite",A=>{let S=di(),C=Le();return c.os.getEntries(A,g).next(D=>{S=D,S.forEach((E,T)=>{T.isValidDocument()||(C=C.add(E))})}).next(()=>c.localDocuments.getOverlayedDocuments(A,S)).next(D=>{v=D;const E=[];for(const T of u){const k=UV(T,v.get(T.key).overlayedDocument);k!=null&&E.push(new as(T.key,k,OS(k.value.mapValue),Ur.exists(!0)))}return c.mutationQueue.addMutationBatch(A,h,E,u)}).next(D=>{w=D;const E=D.applyToLocalDocumentSet(v,C);return c.documentOverlayCache.saveOverlays(A,D.batchId,E)})}).then(()=>({batchId:w.batchId,changes:qS(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,u,c){let h=o.Fa[o.currentUser.toKey()];h||(h=new gt(We)),h=h.insert(u,c),o.Fa[o.currentUser.toKey()]=h}(r,i.batchId,n),await Ll(r,i.changes),await zd(r.remoteStore)}catch(i){const s=Zy(i,"Failed to persist write");n.reject(s)}}async function AA(t,e){const n=Pe(t);try{const r=await x2(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ca.get(s);o&&(tt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.pa=!0:i.modifiedDocuments.size>0?tt(o.pa):i.removedDocuments.size>0&&(tt(o.pa),o.pa=!1))}),await Ll(n,r,e)}catch(r){await Pl(r)}}function Vw(t,e,n){const r=Pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wa.forEach((s,o)=>{const u=o.view.G_(e);u.snapshot&&i.push(u.snapshot)}),function(o,u){const c=Pe(o);c.onlineState=u;let h=!1;c.queries.forEach((g,v)=>{for(const w of v.Q_)w.G_(u)&&(h=!0)}),h&&nv(c)}(r.eventManager,e),i.length&&r.ya.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gM(t,e,n){const r=Pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ca.get(e),s=i&&i.key;if(s){let o=new gt(ve.comparator);o=o.insert(s,tn.newNoDocument(s,ke.min()));const u=Le().add(s),c=new jd(ke.min(),new Map,new gt(We),o,u);await AA(r,c),r.Da=r.Da.remove(s),r.Ca.delete(e),iv(r)}else await Xg(r.localStore,e,!1).then(()=>Jg(r,e,n)).catch(Pl)}async function mM(t,e){const n=Pe(t),r=e.batch.batchId;try{const i=await P2(n.localStore,e);RA(n,r,null),CA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ll(n,i)}catch(i){await Pl(i)}}async function yM(t,e,n){const r=Pe(t);try{const i=await function(o,u){const c=Pe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let g;return c.mutationQueue.lookupMutationBatch(h,u).next(v=>(tt(v!==null),g=v.keys(),c.mutationQueue.removeMutationBatch(h,v))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,g,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,g)).next(()=>c.localDocuments.getDocuments(h,g))})}(r.localStore,e);RA(r,e,n),CA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ll(r,i)}catch(i){await Pl(i)}}function CA(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function RA(t,e,n){const r=Pe(t);let i=r.Fa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Fa[r.currentUser.toKey()]=i}}function Jg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||kA(t,r)})}function kA(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(Gy(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),iv(t))}function Mw(t,e,n){for(const r of n)r instanceof TA?(t.va.addReference(r.key,e),vM(t,r)):r instanceof IA?(oe("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||kA(t,r.key)):Ae()}function vM(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(oe("SyncEngine","New document in limbo: "+n),t.ba.add(r),iv(t))}function iv(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new ve(st.fromString(e)),r=t.xa.next();t.Ca.set(r,new aM(n)),t.Da=t.Da.insert(n,r),mA(t.remoteStore,new Oi(Mr(Ld(n.path)),r,"TargetPurposeLimboResolution",Vy._e))}}async function Ll(t,e,n){const r=Pe(t),i=[],s=[],o=[];r.wa.isEmpty()||(r.wa.forEach((u,c)=>{o.push(r.Na(c,e,n).then(h=>{if((h||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,h!=null&&h.fromCache?"not-current":"current"),h){i.push(h);const g=Ky.Ki(c.targetId,h);s.push(g)}}))}),await Promise.all(o),r.ya.u_(i),await async function(c,h){const g=Pe(c);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>Q.forEach(h,w=>Q.forEach(w.qi,A=>g.persistence.referenceDelegate.addReference(v,w.targetId,A)).next(()=>Q.forEach(w.Qi,A=>g.persistence.referenceDelegate.removeReference(v,w.targetId,A)))))}catch(v){if(!xl(v))throw v;oe("LocalStore","Failed to update sequence numbers: "+v)}for(const v of h){const w=v.targetId;if(!v.fromCache){const A=g.ns.get(w),S=A.snapshotVersion,C=A.withLastLimboFreeSnapshotVersion(S);g.ns=g.ns.insert(w,C)}}}(r.localStore,s))}async function _M(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const r=await dA(n.localStore,e);n.currentUser=e,function(s,o){s.Ma.forEach(u=>{u.forEach(c=>{c.reject(new he(G.CANCELLED,o))})}),s.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ll(n,r.us)}}function wM(t,e){const n=Pe(t),r=n.Ca.get(e);if(r&&r.pa)return Le().add(r.key);{let i=Le();const s=n.Sa.get(e);if(!s)return i;for(const o of s){const u=n.wa.get(o);i=i.unionWith(u.view.Ia)}return i}}function PA(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=AA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gM.bind(null,e),e.ya.u_=rM.bind(null,e.eventManager),e.ya.La=iM.bind(null,e.eventManager),e}function EM(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yM.bind(null,e),e}class Uw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=$d(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return k2(this.persistence,new C2,e.initialUser,this.serializer)}createPersistence(e){return new I2(Wy.Hr,this.serializer)}createSharedClientState(e){return new L2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class TM{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Vw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_M.bind(null,this.syncEngine),await eM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nM}()}createDatastore(e){const n=$d(e.databaseInfo.databaseId),r=function(s){return new F2(s)}(e.databaseInfo);return function(s,o,u,c){return new B2(s,o,u,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,u){return new q2(r,i,s,o,u)}(this.localStore,this.datastore,e.asyncQueue,n=>Vw(this.syncEngine,n,0),function(){return Dw.D()?new Dw:new V2}())}createSyncEngine(e,n){return function(i,s,o,u,c,h,g){const v=new uM(i,s,o,u,c,h);return g&&(v.Oa=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Pe(r);oe("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await bl(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):jr("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Zt.UNAUTHENTICATED,this.clientId=xS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{oe("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(oe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new he(G.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Zy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function pp(t,e){t.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await dA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Fw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await AM(t);oe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Ow(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Ow(e.remoteStore,i)),t._onlineComponents=e}function SM(t){return t.name==="FirebaseError"?t.code===G.FAILED_PRECONDITION||t.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function AM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await pp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!SM(n))throw n;sa("Error using user provided cache. Falling back to memory cache: "+n),await pp(t,new Uw)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),await pp(t,new Uw);return t._offlineComponents}async function xA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),await Fw(t,t._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),await Fw(t,new TM))),t._onlineComponents}function CM(t){return xA(t).then(e=>e.syncEngine)}async function $h(t){const e=await xA(t),n=e.eventManager;return n.onListen=lM.bind(null,e.syncEngine),n.onUnlisten=dM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=cM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=fM.bind(null,e.syncEngine),n}function RM(t,e,n={}){const r=new Vr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,u,c,h){const g=new sv({next:w=>{o.enqueueAndForget(()=>tv(s,v));const A=w.docs.has(u);!A&&w.fromCache?h.reject(new he(G.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&w.fromCache&&c&&c.source==="server"?h.reject(new he(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(w)},error:w=>h.reject(w)}),v=new rv(Ld(u.path),g,{includeMetadataChanges:!0,ta:!0});return ev(s,v)}(await $h(t),t.asyncQueue,e,n,r)),r.promise}function kM(t,e,n={}){const r=new Vr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,u,c,h){const g=new sv({next:w=>{o.enqueueAndForget(()=>tv(s,v)),w.fromCache&&c.source==="server"?h.reject(new he(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(w)},error:w=>h.reject(w)}),v=new rv(u,g,{includeMetadataChanges:!0,ta:!0});return ev(s,v)}(await $h(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(t,e,n){if(!n)throw new he(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function PM(t,e,n,r){if(e===!0&&r===!0)throw new he(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $w(t){if(!ve.isDocumentKey(t))throw new he(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Bw(t){if(ve.isDocumentKey(t))throw new he(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae()}function er(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qd(t);throw new he(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new he(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new he(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new he(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new he(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new KL;switch(r.type){case"firstParty":return new YL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=jw.get(n);r&&(oe("ComponentProvider","Removing Datastore"),jw.delete(n),r.terminate())}(this),Promise.resolve()}}function xM(t,e,n,r={}){var i;const s=(t=er(t,Hd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let u,c;if(typeof r.mockUserToken=="string")u=r.mockUserToken,c=Zt.MOCK_USER;else{u=B1(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new he(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Zt(h)}t._authCredentials=new GL(new PS(u,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ro(this.firestore,e,this._query)}}class sn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}}class Wi extends ro{constructor(e,n,r){super(e,n,Ld(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new ve(e))}withConverter(e){return new Wi(this.firestore,e,this._path)}}function Tu(t,e,...n){if(t=ct(t),DA("collection","path",e),t instanceof Hd){const r=st.fromString(e,...n);return Bw(r),new Wi(t,null,r)}{if(!(t instanceof sn||t instanceof Wi))throw new he(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return Bw(r),new Wi(t.firestore,null,r)}}function ot(t,e,...n){if(t=ct(t),arguments.length===1&&(e=xS.newId()),DA("doc","path",e),t instanceof Hd){const r=st.fromString(e,...n);return $w(r),new sn(t,null,new ve(r))}{if(!(t instanceof sn||t instanceof Wi))throw new he(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return $w(r),new sn(t.firestore,t instanceof Wi?t.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new pA(this,"async_queue_retry"),this.cu=()=>{const n=fp();n&&oe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=fp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=fp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new Vr;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!xl(e))throw e;oe("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const i=function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),u}(r);throw jr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const i=Jy.createAndSchedule(this,e,n,r,s=>this.Iu(s));return this.su.push(i),i}lu(){this.ou&&Ae()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}function qw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Gs extends Hd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new NM}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||OA(this),this._firestoreClient.terminate()}}function DM(t,e){const n=typeof t=="object"?t:ty(),r=typeof t=="string"?t:e||"(default)",i=fd(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=F1("firestore");s&&xM(i,...s)}return i}function Wd(t){return t._firestoreClient||OA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function OA(t){var e,n,r;const i=t._freezeSettings(),s=function(u,c,h,g){return new hV(u,c,h,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,NA(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new IM(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this._byteString=e}static fromBase64String(e){try{return new da(an.fromBase64String(e))}catch(n){throw new he(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new da(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=/^__.*__$/;class bM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new as(e,this.data,this.fieldMask,n,this.fieldTransforms):new Dl(e,this.data,n,this.fieldTransforms)}}class bA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new as(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function LA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class Gd{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ru(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new Gd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.pu(e),i}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.mu({path:r,gu:!1});return i.Ru(),i}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Bh(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(LA(this.Vu)&&OM.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class LM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$d(e)}Cu(e,n,r,i=!1){return new Gd({Vu:e,methodName:n,Du:r,path:qt.emptyPath(),gu:!1,bu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function av(t){const e=t._freezeSettings(),n=$d(t._databaseId);return new LM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function VM(t,e,n,r,i,s={}){const o=t.Cu(s.merge||s.mergeFields?2:0,e,n,i);cv("Data must be an object, but it was:",o,r);const u=VA(r,o);let c,h;if(s.merge)c=new Vn(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const g=[];for(const v of s.mergeFields){const w=Zg(e,v,n);if(!o.contains(w))throw new he(G.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);UA(g,w)||g.push(w)}c=new Vn(g),h=o.fieldTransforms.filter(v=>c.covers(v.field))}else c=null,h=o.fieldTransforms;return new bM(new Cn(u),c,h)}class Qd extends Vl{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qd}}function MM(t,e,n){return new Gd({Vu:3,Du:e.settings.Du,methodName:t._methodName,gu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class uv extends Vl{_toFieldTransform(e){return new JS(e.path,new ol)}isEqual(e){return e instanceof uv}}class lv extends Vl{constructor(e,n){super(e),this.vu=n}_toFieldTransform(e){const n=MM(this,e,!0),r=this.vu.map(s=>Aa(s,n)),i=new la(r);return new JS(e.path,i)}isEqual(e){return e instanceof lv&&qu(this.vu,e.vu)}}function UM(t,e,n,r){const i=t.Cu(1,e,n);cv("Data must be an object, but it was:",i,r);const s=[],o=Cn.empty();to(r,(c,h)=>{const g=hv(e,c,n);h=ct(h);const v=i.yu(g);if(h instanceof Qd)s.push(g);else{const w=Aa(h,v);w!=null&&(s.push(g),o.set(g,w))}});const u=new Vn(s);return new bA(o,u,i.fieldTransforms)}function FM(t,e,n,r,i,s){const o=t.Cu(1,e,n),u=[Zg(e,r,n)],c=[i];if(s.length%2!=0)throw new he(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<s.length;w+=2)u.push(Zg(e,s[w])),c.push(s[w+1]);const h=[],g=Cn.empty();for(let w=u.length-1;w>=0;--w)if(!UA(h,u[w])){const A=u[w];let S=c[w];S=ct(S);const C=o.yu(A);if(S instanceof Qd)h.push(A);else{const D=Aa(S,C);D!=null&&(h.push(A),g.set(A,D))}}const v=new Vn(h);return new bA(g,v,o.fieldTransforms)}function jM(t,e,n,r=!1){return Aa(n,t.Cu(r?4:3,e))}function Aa(t,e){if(MA(t=ct(t)))return cv("Unsupported field value:",e,t),VA(t,e);if(t instanceof Vl)return function(r,i){if(!LA(i.Vu))throw i.Su(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Su(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const u of r){let c=Aa(u,i.wu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return DV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ze.fromDate(r);return{timestampValue:Fh(i.serializer,s)}}if(r instanceof ze){const s=new ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fh(i.serializer,s)}}if(r instanceof ov)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof da)return{bytesValue:sA(i.serializer,r._byteString)};if(r instanceof sn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:qy(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Su(`Unsupported field value: ${qd(r)}`)}(t,e)}function VA(t,e){const n={};return NS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):to(t,(r,i)=>{const s=Aa(i,e.fu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function MA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ze||t instanceof ov||t instanceof da||t instanceof sn||t instanceof Vl)}function cv(t,e,n){if(!MA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=qd(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function Zg(t,e,n){if((e=ct(e))instanceof Kd)return e._internalPath;if(typeof e=="string")return hv(t,e);throw Bh("Field path arguments must be of type string or ",t,!1,void 0,n)}const $M=new RegExp("[~\\*/\\[\\]]");function hv(t,e,n){if(e.search($M)>=0)throw Bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Kd(...e.split("."))._internalPath}catch{throw Bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new he(G.INVALID_ARGUMENT,u+t+c)}function UA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(dv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BM extends FA{data(){return super.data()}}function dv(t,e){return typeof e=="string"?hv(t,e):e instanceof Kd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fv{}class zM extends fv{}function $A(t,e,...n){let r=[];e instanceof fv&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof pv).length,u=s.filter(c=>c instanceof Xd).length;if(o>1||o>0&&u>0)throw new he(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Xd extends zM{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Xd(e,n,r)}_apply(e){const n=this._parse(e);return zA(e._query,n),new ro(e.firestore,e.converter,qg(e._query,n))}_parse(e){const n=av(e.firestore);return function(s,o,u,c,h,g,v){let w;if(h.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new he(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){Ww(v,g);const A=[];for(const S of v)A.push(Hw(c,s,S));w={arrayValue:{values:A}}}else w=Hw(c,s,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||Ww(v,g),w=jM(u,o,v,g==="in"||g==="not-in");return Rt.create(h,g,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function BA(t,e,n){const r=e,i=dv("where",t);return Xd._create(i,r,n)}class pv extends fv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new pv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:mr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const u=s.getFlattenedFilters();for(const c of u)zA(o,c),o=qg(o,c)}(e._query,n),new ro(e.firestore,e.converter,qg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Hw(t,e,n){if(typeof(n=ct(n))=="string"){if(n==="")throw new he(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jS(e)&&n.indexOf("/")!==-1)throw new he(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(st.fromString(n));if(!ve.isDocumentKey(r))throw new he(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fw(t,new ve(r))}if(n instanceof sn)return fw(t,n._key);throw new he(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qd(n)}.`)}function Ww(t,e){if(!Array.isArray(t)||t.length===0)throw new he(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zA(t,e){const n=function(i,s){for(const o of i)for(const u of o.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class qM{convertValue(e,n="none"){switch(Ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return to(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new ov(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Uy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rl(e));default:return null}}convertTimestamp(e){const n=Yi(e);return new ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);tt(hA(r));const i=new il(r.get(1),r.get(3)),s=new ve(r.popFirst(5));return i.isEqual(n)||jr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qA extends FA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(dv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Gc extends qA{data(e={}){return super.data(e)}}class HA{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new su(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gc(this._firestore,this._userDataWriter,r.key,r,new su(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>{const c=new Gc(i._firestore,i._userDataWriter,u.doc.key,u.doc,new su(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const c=new Gc(i._firestore,i._userDataWriter,u.doc.key,u.doc,new su(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,g=-1;return u.type!==0&&(h=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),g=o.indexOf(u.doc.key)),{type:WM(u.type),doc:c,oldIndex:h,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function WM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(t){t=er(t,sn);const e=er(t.firestore,Gs);return RM(Wd(e),t._key).then(n=>KA(e,t,n))}class gv extends qM{constructor(e){super(),this.firestore=e}convertBytes(e){return new da(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function KM(t){t=er(t,ro);const e=er(t.firestore,Gs),n=Wd(e),r=new gv(e);return jA(t._query),kM(n,t._query).then(i=>new HA(e,r,t,i))}function ul(t,e,n){t=er(t,sn);const r=er(t.firestore,Gs),i=HM(t.converter,e,n);return WA(r,[VM(av(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ur.none())])}function gn(t,e,n,...r){t=er(t,sn);const i=er(t.firestore,Gs),s=av(i);let o;return o=typeof(e=ct(e))=="string"||e instanceof Kd?FM(s,"updateDoc",t._key,e,n,r):UM(s,"updateDoc",t._key,e),WA(i,[o.toMutation(t._key,Ur.exists(!0))])}function bs(t,...e){var n,r,i;t=ct(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||qw(e[o])||(s=e[o],o++);const u={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(qw(e[o])){const v=e[o];e[o]=(n=v.next)===null||n===void 0?void 0:n.bind(v),e[o+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[o+2]=(i=v.complete)===null||i===void 0?void 0:i.bind(v)}let c,h,g;if(t instanceof sn)h=er(t.firestore,Gs),g=Ld(t._key.path),c={next:v=>{e[o]&&e[o](KA(h,t,v))},error:e[o+1],complete:e[o+2]};else{const v=er(t,ro);h=er(v.firestore,Gs),g=v._query;const w=new gv(h);c={next:A=>{e[o]&&e[o](new HA(h,w,v,A))},error:e[o+1],complete:e[o+2]},jA(t._query)}return function(w,A,S,C){const D=new sv(C),E=new rv(A,D,S);return w.asyncQueue.enqueueAndForget(async()=>ev(await $h(w),E)),()=>{D.Qa(),w.asyncQueue.enqueueAndForget(async()=>tv(await $h(w),E))}}(Wd(h),g,u,c)}function WA(t,e){return function(r,i){const s=new Vr;return r.asyncQueue.enqueueAndForget(async()=>pM(await CM(r),i,s)),s.promise}(Wd(t),e)}function KA(t,e,n){const r=n.docs.get(e._key),i=new gv(t);return new qA(t,i,e._key,r,new su(n.hasPendingWrites,n.fromCache),e.converter)}function Sc(){return new uv("serverTimestamp")}function Kw(...t){return new lv("arrayUnion",t)}(function(e,n=!0){(function(i){Ta=i})(Js),Bs(new Qi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),u=new Gs(new QL(r.getProvider("auth-internal")),new ZL(r.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new he(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new il(h.options.projectId,g)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),Or(uw,"4.5.0",e),Or(uw,"4.5.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="firebasestorage.googleapis.com",QA="storageBucket",GM=2*60*1e3,QM=10*60*1e3,XM=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt extends Br{constructor(e,n,r=0){super(gp(e),`Firebase Storage: ${n} (${gp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return gp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ut;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ut||(ut={}));function gp(t){return"storage/"+t}function mv(){const t="An unknown error occurred, please check the error payload for server response.";return new mt(ut.UNKNOWN,t)}function YM(t){return new mt(ut.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function JM(t){return new mt(ut.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function ZM(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new mt(ut.UNAUTHENTICATED,t)}function eU(){return new mt(ut.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function tU(t){return new mt(ut.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function XA(){return new mt(ut.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function YA(){return new mt(ut.CANCELED,"User canceled the upload/download.")}function nU(t){return new mt(ut.INVALID_URL,"Invalid URL '"+t+"'.")}function rU(t){return new mt(ut.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function iU(){return new mt(ut.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+QA+"' property when initializing the app?")}function JA(){return new mt(ut.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function sU(){return new mt(ut.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function oU(){return new mt(ut.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function aU(t){return new mt(ut.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function em(t){return new mt(ut.INVALID_ARGUMENT,t)}function ZA(){return new mt(ut.APP_DELETED,"The Firebase app was deleted.")}function uU(t){return new mt(ut.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Iu(t,e){return new mt(ut.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Wa(t){throw new mt(ut.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Mn.makeFromUrl(e,n)}catch{return new Mn(e,"")}if(r.path==="")return r;throw rU(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const o="(/(.*))?$",u=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function h(b){b.path_=decodeURIComponent(b.path)}const g="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",A=new RegExp(`^https?://${v}/${g}/b/${i}/o${w}`,"i"),S={bucket:1,path:3},C=n===GA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,D="([^?#]*)",E=new RegExp(`^https?://${C}/${i}/${D}`,"i"),k=[{regex:u,indices:c,postModify:s},{regex:A,indices:S,postModify:h},{regex:E,indices:{bucket:1,path:2},postModify:h}];for(let b=0;b<k.length;b++){const q=k[b],X=q.regex.exec(e);if(X){const f=X[q.indices.bucket];let ie=X[q.indices.path];ie||(ie=""),r=new Mn(f,ie),q.postModify(r);break}}if(r==null)throw nU(e);return r}}class lU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(t,e,n){let r=1,i=null,s=null,o=!1,u=0;function c(){return u===2}let h=!1;function g(...D){h||(h=!0,e.apply(null,D))}function v(D){i=setTimeout(()=>{i=null,t(A,c())},D)}function w(){s&&clearTimeout(s)}function A(D,...E){if(h){w();return}if(D){w(),g.call(null,D,...E);return}if(c()||o){w(),g.call(null,D,...E);return}r<64&&(r*=2);let k;u===1?(u=2,k=0):k=(r+Math.random())*1e3,v(k)}let S=!1;function C(D){S||(S=!0,w(),!h&&(i!==null?(D||(u=2),clearTimeout(i),v(0)):D||(u=1)))}return v(0),s=setTimeout(()=>{o=!0,C(!0)},n),C}function hU(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(t){return t!==void 0}function fU(t){return typeof t=="function"}function pU(t){return typeof t=="object"&&!Array.isArray(t)}function Yd(t){return typeof t=="string"||t instanceof String}function Gw(t){return yv()&&t instanceof Blob}function yv(){return typeof Blob<"u"}function Qw(t,e,n,r){if(r<e)throw em(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw em(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function eC(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ls;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ls||(Ls={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e,n,r,i,s,o,u,c,h,g,v,w=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=c,this.timeout_=h,this.progressCallback_=g,this.connectionFactory_=v,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,S)=>{this.resolve_=A,this.reject_=S,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ac(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=u=>{const c=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,h)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const u=s.getErrorCode()===Ls.NO_ERROR,c=s.getStatus();if(!u||tC(c,this.additionalRetryCodes_)&&this.retry){const g=s.getErrorCode()===Ls.ABORT;r(!1,new Ac(!1,null,g));return}const h=this.successCodes_.indexOf(c)!==-1;r(!0,new Ac(h,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());dU(c)?s(c):s()}catch(c){o(c)}else if(u!==null){const c=mv();c.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,c)):o(c)}else if(i.canceled){const c=this.appDelete_?ZA():YA();o(c)}else{const c=XA();o(c)}};this.canceled_?n(!1,new Ac(!1,null,!0)):this.backoffId_=cU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&hU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ac{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function mU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function yU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function vU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function _U(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function wU(t,e,n,r,i,s,o=!0){const u=eC(t.urlParams),c=t.url+u,h=Object.assign({},t.headers);return vU(h,e),mU(h,n),yU(h,s),_U(h,r),new gU(c,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function TU(...t){const e=EU();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(yv())return new Blob(t);throw new mt(ut.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function IU(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SU(t){if(typeof atob>"u")throw aU("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class mp{constructor(e,n){this.data=e,this.contentType=n||null}}function AU(t,e){switch(t){case Pr.RAW:return new mp(nC(e));case Pr.BASE64:case Pr.BASE64URL:return new mp(rC(t,e));case Pr.DATA_URL:return new mp(RU(e),kU(e))}throw mv()}function nC(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function CU(t){let e;try{e=decodeURIComponent(t)}catch{throw Iu(Pr.DATA_URL,"Malformed data URL.")}return nC(e)}function rC(t,e){switch(t){case Pr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Iu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Pr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Iu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=SU(e)}catch(i){throw i.message.includes("polyfill")?i:Iu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class iC{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Iu(Pr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=PU(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function RU(t){const e=new iC(t);return e.base64?rC(Pr.BASE64,e.rest):CU(e.rest)}function kU(t){return new iC(t).contentType}function PU(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n){let r=0,i="";Gw(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Gw(this.data_)){const r=this.data_,i=IU(r,e,n);return i===null?null:new Pi(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Pi(r,!0)}}static getBlob(...e){if(yv()){const n=e.map(r=>r instanceof Pi?r.data_:r);return new Pi(TU.apply(null,n))}else{const n=e.map(o=>Yd(o)?AU(Pr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let u=0;u<o.length;u++)i[s++]=o[u]}),new Pi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(t){let e;try{e=JSON.parse(t)}catch{return null}return pU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function NU(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function oC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(t,e){return e}class dn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||DU}}let Cc=null;function OU(t){return!Yd(t)||t.length<2?t:oC(t)}function aC(){if(Cc)return Cc;const t=[];t.push(new dn("bucket")),t.push(new dn("generation")),t.push(new dn("metageneration")),t.push(new dn("name","fullPath",!0));function e(s,o){return OU(o)}const n=new dn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new dn("size");return i.xform=r,t.push(i),t.push(new dn("timeCreated")),t.push(new dn("updated")),t.push(new dn("md5Hash",null,!0)),t.push(new dn("cacheControl",null,!0)),t.push(new dn("contentDisposition",null,!0)),t.push(new dn("contentEncoding",null,!0)),t.push(new dn("contentLanguage",null,!0)),t.push(new dn("contentType",null,!0)),t.push(new dn("metadata","customMetadata",!0)),Cc=t,Cc}function bU(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Mn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function LU(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return bU(r,t),r}function uC(t,e,n){const r=sC(e);return r===null?null:LU(t,r,n)}function VU(t,e,n,r){const i=sC(e);if(i===null||!Yd(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(h=>{const g=t.bucket,v=t.fullPath,w="/b/"+o(g)+"/o/"+o(v),A=Ml(w,n,r),S=eC({alt:"media",token:h});return A+S})[0]}function lC(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Ca{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(t){if(!t)throw mv()}function vv(t,e){function n(r,i){const s=uC(t,i,e);return si(s!==null),s}return n}function MU(t,e){function n(r,i){const s=uC(t,i,e);return si(s!==null),VU(s,i,t.host,t._protocol)}return n}function Ul(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=eU():i=ZM():n.getStatus()===402?i=JM(t.bucket):n.getStatus()===403?i=tU(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function cC(t){const e=Ul(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=YM(t.path)),s.serverResponse=i.serverResponse,s}return n}function UU(t,e,n){const r=e.fullServerUrl(),i=Ml(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,u=new Ca(i,s,vv(t,n),o);return u.errorHandler=cC(e),u}function FU(t,e,n){const r=e.fullServerUrl(),i=Ml(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,u=new Ca(i,s,MU(t,n),o);return u.errorHandler=cC(e),u}function jU(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function hC(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=jU(null,e)),r}function $U(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function u(){let k="";for(let b=0;b<2;b++)k=k+Math.random().toString().slice(2);return k}const c=u();o["Content-Type"]="multipart/related; boundary="+c;const h=hC(e,r,i),g=lC(h,n),v="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+c+`\r
Content-Type: `+h.contentType+`\r
\r
`,w=`\r
--`+c+"--",A=Pi.getBlob(v,r,w);if(A===null)throw JA();const S={name:h.fullPath},C=Ml(s,t.host,t._protocol),D="POST",E=t.maxUploadRetryTime,T=new Ca(C,D,vv(t,n),E);return T.urlParams=S,T.headers=o,T.body=A.uploadData(),T.errorHandler=Ul(e),T}class zh{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function _v(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{si(!1)}return si(!!n&&(e||["active"]).indexOf(n)!==-1),n}function BU(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=hC(e,r,i),u={name:o.fullPath},c=Ml(s,t.host,t._protocol),h="POST",g={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},v=lC(o,n),w=t.maxUploadRetryTime;function A(C){_v(C);let D;try{D=C.getResponseHeader("X-Goog-Upload-URL")}catch{si(!1)}return si(Yd(D)),D}const S=new Ca(c,h,A,w);return S.urlParams=u,S.headers=g,S.body=v,S.errorHandler=Ul(e),S}function zU(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(h){const g=_v(h,["active","final"]);let v=null;try{v=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{si(!1)}v||si(!1);const w=Number(v);return si(!isNaN(w)),new zh(w,r.size(),g==="final")}const o="POST",u=t.maxUploadRetryTime,c=new Ca(n,o,s,u);return c.headers=i,c.errorHandler=Ul(e),c}const Xw=256*1024;function qU(t,e,n,r,i,s,o,u){const c=new zh(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw sU();const h=c.total-c.current;let g=h;i>0&&(g=Math.min(g,i));const v=c.current,w=v+g;let A="";g===0?A="finalize":h===g?A="upload, finalize":A="upload";const S={"X-Goog-Upload-Command":A,"X-Goog-Upload-Offset":`${c.current}`},C=r.slice(v,w);if(C===null)throw JA();function D(b,q){const X=_v(b,["active","final"]),f=c.current+g,ie=r.size();let z;return X==="final"?z=vv(e,s)(b,q):z=null,new zh(f,ie,X==="final",z)}const E="POST",T=e.maxUploadRetryTime,k=new Ca(n,E,D,T);return k.headers=S,k.body=C.uploadData(),k.progressCallback=u||null,k.errorHandler=Ul(t),k}const Sn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function yp(t){switch(t){case"running":case"pausing":case"canceling":return Sn.RUNNING;case"paused":return Sn.PAUSED;case"success":return Sn.SUCCESS;case"canceled":return Sn.CANCELED;case"error":return Sn.ERROR;default:return Sn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e,n,r){if(fU(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class WU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ls.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ls.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ls.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Wa("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Wa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Wa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Wa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Wa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class KU extends WU{initXhr(){this.xhr_.responseType="text"}}function Io(){return new KU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=aC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(ut.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(tC(i.status,[]))if(s)i=XA();else{this.sleepTime=Math.max(this.sleepTime*2,XM),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(ut.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=BU(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Io,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=zU(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Io,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Xw*this._chunkMultiplier,n=new zh(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=qU(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}const u=this._ref.storage._makeRequest(o,Io,i,s,!1);this._request=u,u.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Xw*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=UU(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Io,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=$U(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Io,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=YA(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=yp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new HU(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(yp(this._state)){case Sn.SUCCESS:vo(this._resolve.bind(null,this.snapshot))();break;case Sn.CANCELED:case Sn.ERROR:const n=this._reject;vo(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(yp(this._state)){case Sn.RUNNING:case Sn.PAUSED:e.next&&vo(e.next.bind(e,this.snapshot))();break;case Sn.SUCCESS:e.complete&&vo(e.complete.bind(e))();break;case Sn.CANCELED:case Sn.ERROR:e.error&&vo(e.error.bind(e,this._error))();break;default:e.error&&vo(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n){this._service=e,n instanceof Mn?this._location=n:this._location=Mn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Qs(e,n)}get root(){const e=new Mn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return oC(this._location.path)}get storage(){return this._service}get parent(){const e=xU(this._location.path);if(e===null)return null;const n=new Mn(this._location.bucket,e);return new Qs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw uU(e)}}function QU(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new GU(t,new Pi(e),n)}function XU(t){t._throwIfRoot("getDownloadURL");const e=FU(t.storage,t._location,aC());return t.storage.makeRequestWithTokens(e,Io).then(n=>{if(n===null)throw oU();return n})}function YU(t,e){const n=NU(t._location.path,e),r=new Mn(t._location.bucket,n);return new Qs(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(t){return/^[A-Za-z]+:\/\//.test(t)}function ZU(t,e){return new Qs(t,e)}function dC(t,e){if(t instanceof wv){const n=t;if(n._bucket==null)throw iU();const r=new Qs(n,n._bucket);return e!=null?dC(r,e):r}else return e!==void 0?YU(t,e):t}function eF(t,e){if(e&&JU(e)){if(t instanceof wv)return ZU(t,e);throw em("To use ref(service, url), the first argument must be a Storage instance.")}else return dC(t,e)}function Yw(t,e){const n=e==null?void 0:e[QA];return n==null?null:Mn.makeFromBucketSpec(n,t)}function tF(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:B1(i,t.app.options.projectId))}class wv{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=GA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=GM,this._maxUploadRetryTime=QM,this._requests=new Set,i!=null?this._bucket=Mn.makeFromBucketSpec(i,this._host):this._bucket=Yw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mn.makeFromBucketSpec(this._url,e):this._bucket=Yw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Qw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Qw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qs(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new lU(ZA());{const o=wU(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Jw="@firebase/storage",Zw="0.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="storage";function pC(t,e,n){return t=ct(t),QU(t,e,n)}function gC(t){return t=ct(t),XU(t)}function mC(t,e){return t=ct(t),eF(t,e)}function nF(t=ty(),e){t=ct(t);const r=fd(t,fC).getImmediate({identifier:e}),i=F1("storage");return i&&rF(r,...i),r}function rF(t,e,n,r={}){tF(t,e,n,r)}function iF(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new wv(n,r,i,e,Js)}function sF(){Bs(new Qi(fC,iF,"PUBLIC").setMultipleInstances(!0)),Or(Jw,Zw,""),Or(Jw,Zw,"esm2017")}sF();const oF={apiKey:"AIzaSyCbTGisl9Yea7qWrT97VH--NwENSqLp_Ow",authDomain:"backgammon-chatter.firebaseapp.com",projectId:"backgammon-chatter",storageBucket:"backgammon-chatter.appspot.com",messagingSenderId:"708028010012",appId:"1:708028010012:web:6b34844b67f71571df19d9"};W1(oF);const Jd=Mb(),yC=nF(),Ke=DM(),zr=$.createContext(),aF=({children:t})=>{const[e,n]=$.useState({});return $.useEffect(()=>{const r=SO(Jd,async i=>{try{if(n(i),(e==null?void 0:e.uid)===void 0)return;if(i!=null&&i.uid){const s=ot(Ke,`presence/${i.uid}`),o=await fa(s);o.exists()?o.data().count===0&&await gn(s,{count:1,online:!0,date:ze.now()}):setTimeout(async()=>{var h;const c=(h=(await fa(ot(Ke,"users",i.uid))).data())==null?void 0:h.displayName;await ul(s,{count:1,date:ze.now(),hasShown:!1,name:c,online:!0})},2e3)}}catch(s){console.error("Error setting user presence:",s)}});return()=>{r()}},[e==null?void 0:e.uid]),W.jsx(zr.Provider,{value:{currentUser:e},children:t})};var Fl=t=>t.type==="checkbox",Uo=t=>t instanceof Date,pn=t=>t==null;const vC=t=>typeof t=="object";var Ot=t=>!pn(t)&&!Array.isArray(t)&&vC(t)&&!Uo(t),uF=t=>Ot(t)&&t.target?Fl(t.target)?t.target.checked:t.target.value:t,lF=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,cF=(t,e)=>t.has(lF(e)),hF=t=>{const e=t.constructor&&t.constructor.prototype;return Ot(e)&&e.hasOwnProperty("isPrototypeOf")},Ev=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Gn(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Ev&&(t instanceof Blob||t instanceof FileList))&&(n||Ot(t)))if(e=n?[]:{},!n&&!hF(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Gn(t[r]));else return t;return e}var jl=t=>Array.isArray(t)?t.filter(Boolean):[],Et=t=>t===void 0,fe=(t,e,n)=>{if(!e||!Ot(t))return n;const r=jl(e.split(/[,[\].]+?/)).reduce((i,s)=>pn(i)?i:i[s],t);return Et(r)||r===t?Et(t[e])?n:t[e]:r},Jr=t=>typeof t=="boolean";const eE={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},cr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Qr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Dn.createContext(null);var dF=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==cr.all&&(e._proxyFormState[o]=!r||cr.all),n&&(n[o]=!0),t[o]}});return i},On=t=>Ot(t)&&!Object.keys(t).length,fF=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return On(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||cr.all))},vp=t=>Array.isArray(t)?t:[t];function pF(t){const e=Dn.useRef(t);e.current=t,Dn.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var xr=t=>typeof t=="string",gF=(t,e,n,r,i)=>xr(t)?(r&&e.watch.add(t),fe(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),fe(n,s))):(r&&(e.watchAll=!0),n),Tv=t=>/^\w*$/.test(t),_C=t=>jl(t.replace(/["|']|\]/g,"").split(/\.|\[/)),rt=(t,e,n)=>{let r=-1;const i=Tv(e)?[e]:_C(e),s=i.length,o=s-1;for(;++r<s;){const u=i[r];let c=n;if(r!==o){const h=t[u];c=Ot(h)||Array.isArray(h)?h:isNaN(+i[r+1])?{}:[]}t[u]=c,t=t[u]}return t},mF=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},tE=t=>({isOnSubmit:!t||t===cr.onSubmit,isOnBlur:t===cr.onBlur,isOnChange:t===cr.onChange,isOnAll:t===cr.all,isOnTouch:t===cr.onTouched}),nE=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Su=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=fe(t,i);if(s){const{_f:o,...u}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)break;if(o.ref&&e(o.ref,o.name)&&!r)break;Su(u,e)}else Ot(u)&&Su(u,e)}}};var yF=(t,e,n)=>{const r=jl(fe(t,n));return rt(r,"root",e[n]),rt(t,n,r),t},Iv=t=>t.type==="file",bi=t=>typeof t=="function",qh=t=>{if(!Ev)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Qc=t=>xr(t),Sv=t=>t.type==="radio",Hh=t=>t instanceof RegExp;const rE={value:!1,isValid:!1},iE={value:!0,isValid:!0};var wC=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Et(t[0].attributes.value)?Et(t[0].value)||t[0].value===""?iE:{value:t[0].value,isValid:!0}:iE:rE}return rE};const sE={isValid:!1,value:null};var EC=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,sE):sE;function oE(t,e,n="validate"){if(Qc(t)||Array.isArray(t)&&t.every(Qc)||Jr(t)&&!t)return{type:n,message:Qc(t)?t:"",ref:e}}var _o=t=>Ot(t)&&!Hh(t)?t:{value:t,message:""},aE=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:u,maxLength:c,minLength:h,min:g,max:v,pattern:w,validate:A,name:S,valueAsNumber:C,mount:D,disabled:E}=t._f,T=fe(e,S);if(!D||E)return{};const k=o?o[0]:s,b=ye=>{r&&k.reportValidity&&(k.setCustomValidity(Jr(ye)?"":ye||""),k.reportValidity())},q={},X=Sv(s),f=Fl(s),ie=X||f,z=(C||Iv(s))&&Et(s.value)&&Et(T)||qh(s)&&s.value===""||T===""||Array.isArray(T)&&!T.length,F=mF.bind(null,S,n,q),Te=(ye,Z,qe,ht=Qr.maxLength,wt=Qr.minLength)=>{const He=ye?Z:qe;q[S]={type:ye?ht:wt,message:He,ref:s,...F(ye?ht:wt,He)}};if(i?!Array.isArray(T)||!T.length:u&&(!ie&&(z||pn(T))||Jr(T)&&!T||f&&!wC(o).isValid||X&&!EC(o).isValid)){const{value:ye,message:Z}=Qc(u)?{value:!!u,message:u}:_o(u);if(ye&&(q[S]={type:Qr.required,message:Z,ref:k,...F(Qr.required,Z)},!n))return b(Z),q}if(!z&&(!pn(g)||!pn(v))){let ye,Z;const qe=_o(v),ht=_o(g);if(!pn(T)&&!isNaN(T)){const wt=s.valueAsNumber||T&&+T;pn(qe.value)||(ye=wt>qe.value),pn(ht.value)||(Z=wt<ht.value)}else{const wt=s.valueAsDate||new Date(T),He=we=>new Date(new Date().toDateString()+" "+we),ne=s.type=="time",pe=s.type=="week";xr(qe.value)&&T&&(ye=ne?He(T)>He(qe.value):pe?T>qe.value:wt>new Date(qe.value)),xr(ht.value)&&T&&(Z=ne?He(T)<He(ht.value):pe?T<ht.value:wt<new Date(ht.value))}if((ye||Z)&&(Te(!!ye,qe.message,ht.message,Qr.max,Qr.min),!n))return b(q[S].message),q}if((c||h)&&!z&&(xr(T)||i&&Array.isArray(T))){const ye=_o(c),Z=_o(h),qe=!pn(ye.value)&&T.length>+ye.value,ht=!pn(Z.value)&&T.length<+Z.value;if((qe||ht)&&(Te(qe,ye.message,Z.message),!n))return b(q[S].message),q}if(w&&!z&&xr(T)){const{value:ye,message:Z}=_o(w);if(Hh(ye)&&!T.match(ye)&&(q[S]={type:Qr.pattern,message:Z,ref:s,...F(Qr.pattern,Z)},!n))return b(Z),q}if(A){if(bi(A)){const ye=await A(T,e),Z=oE(ye,k);if(Z&&(q[S]={...Z,...F(Qr.validate,Z.message)},!n))return b(Z.message),q}else if(Ot(A)){let ye={};for(const Z in A){if(!On(ye)&&!n)break;const qe=oE(await A[Z](T,e),k,Z);qe&&(ye={...qe,...F(Z,qe.message)},b(qe.message),n&&(q[S]=ye))}if(!On(ye)&&(q[S]={ref:k,...ye},!n))return q}}return b(!0),q};function vF(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Et(t)?r++:t[e[r++]];return t}function _F(t){for(const e in t)if(t.hasOwnProperty(e)&&!Et(t[e]))return!1;return!0}function xt(t,e){const n=Array.isArray(e)?e:Tv(e)?[e]:_C(e),r=n.length===1?t:vF(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Ot(r)&&On(r)||Array.isArray(r)&&_F(r))&&xt(t,n.slice(0,-1)),t}var _p=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},Wh=t=>pn(t)||!vC(t);function Ps(t,e){if(Wh(t)||Wh(e))return t===e;if(Uo(t)&&Uo(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Uo(s)&&Uo(o)||Ot(s)&&Ot(o)||Array.isArray(s)&&Array.isArray(o)?!Ps(s,o):s!==o)return!1}}return!0}var TC=t=>t.type==="select-multiple",wF=t=>Sv(t)||Fl(t),wp=t=>qh(t)&&t.isConnected,IC=t=>{for(const e in t)if(bi(t[e]))return!0;return!1};function Kh(t,e={}){const n=Array.isArray(t);if(Ot(t)||n)for(const r in t)Array.isArray(t[r])||Ot(t[r])&&!IC(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Kh(t[r],e[r])):pn(t[r])||(e[r]=!0);return e}function SC(t,e,n){const r=Array.isArray(t);if(Ot(t)||r)for(const i in t)Array.isArray(t[i])||Ot(t[i])&&!IC(t[i])?Et(e)||Wh(n[i])?n[i]=Array.isArray(t[i])?Kh(t[i],[]):{...Kh(t[i])}:SC(t[i],pn(e)?{}:e[i],n[i]):n[i]=!Ps(t[i],e[i]);return n}var Rc=(t,e)=>SC(t,e,Kh(e)),AC=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Et(t)?t:e?t===""?NaN:t&&+t:n&&xr(t)?new Date(t):r?r(t):t;function Ep(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return Iv(e)?e.files:Sv(e)?EC(t.refs).value:TC(e)?[...e.selectedOptions].map(({value:n})=>n):Fl(e)?wC(t.refs).value:AC(Et(e.value)?t.ref.value:e.value,t)}var EF=(t,e,n,r)=>{const i={};for(const s of t){const o=fe(e,s);o&&rt(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Ka=t=>Et(t)?t:Hh(t)?t.source:Ot(t)?Hh(t.value)?t.value.source:t.value:t,TF=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function uE(t,e,n){const r=fe(t,n);if(r||Tv(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=fe(e,s),u=fe(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(u&&u.type)return{name:s,error:u};i.pop()}return{name:n}}var IF=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,SF=(t,e)=>!jl(fe(t,e)).length&&xt(t,e);const AF={mode:cr.onSubmit,reValidateMode:cr.onChange,shouldFocusError:!0};function CF(t={}){let e={...AF,...t},n={submitCount:0,isDirty:!1,isLoading:bi(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=Ot(e.defaultValues)||Ot(e.values)?Gn(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Gn(i),o={action:!1,mount:!1,watch:!1},u={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,h=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},v={values:_p(),array:_p(),state:_p()},w=tE(e.mode),A=tE(e.reValidateMode),S=e.criteriaMode===cr.all,C=x=>M=>{clearTimeout(h),h=setTimeout(x,M)},D=async x=>{if(g.isValid||x){const M=e.resolver?On((await ie()).errors):await F(r,!0);M!==n.isValid&&v.state.next({isValid:M})}},E=(x,M)=>{(g.isValidating||g.validatingFields)&&((x||Array.from(u.mount)).forEach(B=>{B&&(M?rt(n.validatingFields,B,M):xt(n.validatingFields,B))}),v.state.next({validatingFields:n.validatingFields,isValidating:!On(n.validatingFields)}))},T=(x,M=[],B,ce,re=!0,ee=!0)=>{if(ce&&B){if(o.action=!0,ee&&Array.isArray(fe(r,x))){const ge=B(fe(r,x),ce.argA,ce.argB);re&&rt(r,x,ge)}if(ee&&Array.isArray(fe(n.errors,x))){const ge=B(fe(n.errors,x),ce.argA,ce.argB);re&&rt(n.errors,x,ge),SF(n.errors,x)}if(g.touchedFields&&ee&&Array.isArray(fe(n.touchedFields,x))){const ge=B(fe(n.touchedFields,x),ce.argA,ce.argB);re&&rt(n.touchedFields,x,ge)}g.dirtyFields&&(n.dirtyFields=Rc(i,s)),v.state.next({name:x,isDirty:ye(x,M),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else rt(s,x,M)},k=(x,M)=>{rt(n.errors,x,M),v.state.next({errors:n.errors})},b=x=>{n.errors=x,v.state.next({errors:n.errors,isValid:!1})},q=(x,M,B,ce)=>{const re=fe(r,x);if(re){const ee=fe(s,x,Et(B)?fe(i,x):B);Et(ee)||ce&&ce.defaultChecked||M?rt(s,x,M?ee:Ep(re._f)):ht(x,ee),o.mount&&D()}},X=(x,M,B,ce,re)=>{let ee=!1,ge=!1;const te={name:x},je=!!(fe(r,x)&&fe(r,x)._f.disabled);if(!B||ce){g.isDirty&&(ge=n.isDirty,n.isDirty=te.isDirty=ye(),ee=ge!==te.isDirty);const cn=je||Ps(fe(i,x),M);ge=!!(!je&&fe(n.dirtyFields,x)),cn||je?xt(n.dirtyFields,x):rt(n.dirtyFields,x,!0),te.dirtyFields=n.dirtyFields,ee=ee||g.dirtyFields&&ge!==!cn}if(B){const cn=fe(n.touchedFields,x);cn||(rt(n.touchedFields,x,B),te.touchedFields=n.touchedFields,ee=ee||g.touchedFields&&cn!==B)}return ee&&re&&v.state.next(te),ee?te:{}},f=(x,M,B,ce)=>{const re=fe(n.errors,x),ee=g.isValid&&Jr(M)&&n.isValid!==M;if(t.delayError&&B?(c=C(()=>k(x,B)),c(t.delayError)):(clearTimeout(h),c=null,B?rt(n.errors,x,B):xt(n.errors,x)),(B?!Ps(re,B):re)||!On(ce)||ee){const ge={...ce,...ee&&Jr(M)?{isValid:M}:{},errors:n.errors,name:x};n={...n,...ge},v.state.next(ge)}},ie=async x=>{E(x,!0);const M=await e.resolver(s,e.context,EF(x||u.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return E(x),M},z=async x=>{const{errors:M}=await ie(x);if(x)for(const B of x){const ce=fe(M,B);ce?rt(n.errors,B,ce):xt(n.errors,B)}else n.errors=M;return M},F=async(x,M,B={valid:!0})=>{for(const ce in x){const re=x[ce];if(re){const{_f:ee,...ge}=re;if(ee){const te=u.array.has(ee.name);E([ce],!0);const je=await aE(re,s,S,e.shouldUseNativeValidation&&!M,te);if(E([ce]),je[ee.name]&&(B.valid=!1,M))break;!M&&(fe(je,ee.name)?te?yF(n.errors,je,ee.name):rt(n.errors,ee.name,je[ee.name]):xt(n.errors,ee.name))}ge&&await F(ge,M,B)}}return B.valid},Te=()=>{for(const x of u.unMount){const M=fe(r,x);M&&(M._f.refs?M._f.refs.every(B=>!wp(B)):!wp(M._f.ref))&&ln(x)}u.unMount=new Set},ye=(x,M)=>(x&&M&&rt(s,x,M),!Ps(Ge(),i)),Z=(x,M,B)=>gF(x,u,{...o.mount?s:Et(M)?i:xr(x)?{[x]:M}:M},B,M),qe=x=>jl(fe(o.mount?s:i,x,t.shouldUnregister?fe(i,x,[]):[])),ht=(x,M,B={})=>{const ce=fe(r,x);let re=M;if(ce){const ee=ce._f;ee&&(!ee.disabled&&rt(s,x,AC(M,ee)),re=qh(ee.ref)&&pn(M)?"":M,TC(ee.ref)?[...ee.ref.options].forEach(ge=>ge.selected=re.includes(ge.value)):ee.refs?Fl(ee.ref)?ee.refs.length>1?ee.refs.forEach(ge=>(!ge.defaultChecked||!ge.disabled)&&(ge.checked=Array.isArray(re)?!!re.find(te=>te===ge.value):re===ge.value)):ee.refs[0]&&(ee.refs[0].checked=!!re):ee.refs.forEach(ge=>ge.checked=ge.value===re):Iv(ee.ref)?ee.ref.value="":(ee.ref.value=re,ee.ref.type||v.values.next({name:x,values:{...s}})))}(B.shouldDirty||B.shouldTouch)&&X(x,re,B.shouldTouch,B.shouldDirty,!0),B.shouldValidate&&we(x)},wt=(x,M,B)=>{for(const ce in M){const re=M[ce],ee=`${x}.${ce}`,ge=fe(r,ee);(u.array.has(x)||!Wh(re)||ge&&!ge._f)&&!Uo(re)?wt(ee,re,B):ht(ee,re,B)}},He=(x,M,B={})=>{const ce=fe(r,x),re=u.array.has(x),ee=Gn(M);rt(s,x,ee),re?(v.array.next({name:x,values:{...s}}),(g.isDirty||g.dirtyFields)&&B.shouldDirty&&v.state.next({name:x,dirtyFields:Rc(i,s),isDirty:ye(x,ee)})):ce&&!ce._f&&!pn(ee)?wt(x,ee,B):ht(x,ee,B),nE(x,u)&&v.state.next({...n}),v.values.next({name:o.mount?x:void 0,values:{...s}})},ne=async x=>{const M=x.target;let B=M.name,ce=!0;const re=fe(r,B),ee=()=>M.type?Ep(re._f):uF(x),ge=te=>{ce=Number.isNaN(te)||te===fe(s,B,te)};if(re){let te,je;const cn=ee(),gi=x.type===eE.BLUR||x.type===eE.FOCUS_OUT,ef=!TF(re._f)&&!e.resolver&&!fe(n.errors,B)&&!re._f.deps||IF(gi,fe(n.touchedFields,B),n.isSubmitted,A,w),oo=nE(B,u,gi);rt(s,B,cn),gi?(re._f.onBlur&&re._f.onBlur(x),c&&c(0)):re._f.onChange&&re._f.onChange(x);const ao=X(B,cn,gi,!1),ds=!On(ao)||oo;if(!gi&&v.values.next({name:B,type:x.type,values:{...s}}),ef)return g.isValid&&D(),ds&&v.state.next({name:B,...oo?{}:ao});if(!gi&&oo&&v.state.next({...n}),e.resolver){const{errors:qn}=await ie([B]);if(ge(cn),ce){const Hr=uE(n.errors,r,B),Wr=uE(qn,r,Hr.name||B);te=Wr.error,B=Wr.name,je=On(qn)}}else E([B],!0),te=(await aE(re,s,S,e.shouldUseNativeValidation))[B],E([B]),ge(cn),ce&&(te?je=!1:g.isValid&&(je=await F(r,!0)));ce&&(re._f.deps&&we(re._f.deps),f(B,je,te,ao))}},pe=(x,M)=>{if(fe(n.errors,M)&&x.focus)return x.focus(),1},we=async(x,M={})=>{let B,ce;const re=vp(x);if(e.resolver){const ee=await z(Et(x)?x:re);B=On(ee),ce=x?!re.some(ge=>fe(ee,ge)):B}else x?(ce=(await Promise.all(re.map(async ee=>{const ge=fe(r,ee);return await F(ge&&ge._f?{[ee]:ge}:ge)}))).every(Boolean),!(!ce&&!n.isValid)&&D()):ce=B=await F(r);return v.state.next({...!xr(x)||g.isValid&&B!==n.isValid?{}:{name:x},...e.resolver||!x?{isValid:B}:{},errors:n.errors}),M.shouldFocus&&!ce&&Su(r,pe,x?re:u.mount),ce},Ge=x=>{const M={...i,...o.mount?s:{}};return Et(x)?M:xr(x)?fe(M,x):x.map(B=>fe(M,B))},Je=(x,M)=>({invalid:!!fe((M||n).errors,x),isDirty:!!fe((M||n).dirtyFields,x),isTouched:!!fe((M||n).touchedFields,x),isValidating:!!fe((M||n).validatingFields,x),error:fe((M||n).errors,x)}),zn=x=>{x&&vp(x).forEach(M=>xt(n.errors,M)),v.state.next({errors:x?n.errors:{}})},un=(x,M,B)=>{const ce=(fe(r,x,{_f:{}})._f||{}).ref;rt(n.errors,x,{...M,ref:ce}),v.state.next({name:x,errors:n.errors,isValid:!1}),B&&B.shouldFocus&&ce&&ce.focus&&ce.focus()},qr=(x,M)=>bi(x)?v.values.subscribe({next:B=>x(Z(void 0,M),B)}):Z(x,M,!0),ln=(x,M={})=>{for(const B of x?vp(x):u.mount)u.mount.delete(B),u.array.delete(B),M.keepValue||(xt(r,B),xt(s,B)),!M.keepError&&xt(n.errors,B),!M.keepDirty&&xt(n.dirtyFields,B),!M.keepTouched&&xt(n.touchedFields,B),!M.keepIsValidating&&xt(n.validatingFields,B),!e.shouldUnregister&&!M.keepDefaultValue&&xt(i,B);v.values.next({values:{...s}}),v.state.next({...n,...M.keepDirty?{isDirty:ye()}:{}}),!M.keepIsValid&&D()},rr=({disabled:x,name:M,field:B,fields:ce,value:re})=>{if(Jr(x)){const ee=x?void 0:Et(re)?Ep(B?B._f:fe(ce,M)._f):re;rt(s,M,ee),X(M,ee,!1,!1,!0)}},ls=(x,M={})=>{let B=fe(r,x);const ce=Jr(M.disabled);return rt(r,x,{...B||{},_f:{...B&&B._f?B._f:{ref:{name:x}},name:x,mount:!0,...M}}),u.mount.add(x),B?rr({field:B,disabled:M.disabled,name:x,value:M.value}):q(x,!0,M.value),{...ce?{disabled:M.disabled}:{},...e.progressive?{required:!!M.required,min:Ka(M.min),max:Ka(M.max),minLength:Ka(M.minLength),maxLength:Ka(M.maxLength),pattern:Ka(M.pattern)}:{},name:x,onChange:ne,onBlur:ne,ref:re=>{if(re){ls(x,M),B=fe(r,x);const ee=Et(re.value)&&re.querySelectorAll&&re.querySelectorAll("input,select,textarea")[0]||re,ge=wF(ee),te=B._f.refs||[];if(ge?te.find(je=>je===ee):ee===B._f.ref)return;rt(r,x,{_f:{...B._f,...ge?{refs:[...te.filter(wp),ee,...Array.isArray(fe(i,x))?[{}]:[]],ref:{type:ee.type,name:x}}:{ref:ee}}}),q(x,!1,void 0,ee)}else B=fe(r,x,{}),B._f&&(B._f.mount=!1),(e.shouldUnregister||M.shouldUnregister)&&!(cF(u.array,x)&&o.action)&&u.unMount.add(x)}}},cs=()=>e.shouldFocusError&&Su(r,pe,u.mount),wn=x=>{Jr(x)&&(v.state.next({disabled:x}),Su(r,(M,B)=>{let ce=x;const re=fe(r,B);re&&Jr(re._f.disabled)&&(ce||(ce=re._f.disabled)),M.disabled=ce},0,!1))},io=(x,M)=>async B=>{let ce;B&&(B.preventDefault&&B.preventDefault(),B.persist&&B.persist());let re=Gn(s);if(v.state.next({isSubmitting:!0}),e.resolver){const{errors:ee,values:ge}=await ie();n.errors=ee,re=ge}else await F(r);if(xt(n.errors,"root"),On(n.errors)){v.state.next({errors:{}});try{await x(re,B)}catch(ee){ce=ee}}else M&&await M({...n.errors},B),cs(),setTimeout(cs);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:On(n.errors)&&!ce,submitCount:n.submitCount+1,errors:n.errors}),ce)throw ce},yr=(x,M={})=>{fe(r,x)&&(Et(M.defaultValue)?He(x,Gn(fe(i,x))):(He(x,M.defaultValue),rt(i,x,Gn(M.defaultValue))),M.keepTouched||xt(n.touchedFields,x),M.keepDirty||(xt(n.dirtyFields,x),n.isDirty=M.defaultValue?ye(x,Gn(fe(i,x))):ye()),M.keepError||(xt(n.errors,x),g.isValid&&D()),v.state.next({...n}))},Nn=(x,M={})=>{const B=x?Gn(x):i,ce=Gn(B),re=On(x),ee=re?i:ce;if(M.keepDefaultValues||(i=B),!M.keepValues){if(M.keepDirtyValues)for(const ge of u.mount)fe(n.dirtyFields,ge)?rt(ee,ge,fe(s,ge)):He(ge,fe(ee,ge));else{if(Ev&&Et(x))for(const ge of u.mount){const te=fe(r,ge);if(te&&te._f){const je=Array.isArray(te._f.refs)?te._f.refs[0]:te._f.ref;if(qh(je)){const cn=je.closest("form");if(cn){cn.reset();break}}}}r={}}s=t.shouldUnregister?M.keepDefaultValues?Gn(i):{}:Gn(ee),v.array.next({values:{...ee}}),v.values.next({values:{...ee}})}u={mount:M.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!g.isValid||!!M.keepIsValid||!!M.keepDirtyValues,o.watch=!!t.shouldUnregister,v.state.next({submitCount:M.keepSubmitCount?n.submitCount:0,isDirty:re?!1:M.keepDirty?n.isDirty:!!(M.keepDefaultValues&&!Ps(x,i)),isSubmitted:M.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:re?[]:M.keepDirtyValues?M.keepDefaultValues&&s?Rc(i,s):n.dirtyFields:M.keepDefaultValues&&x?Rc(i,x):{},touchedFields:M.keepTouched?n.touchedFields:{},errors:M.keepErrors?n.errors:{},isSubmitSuccessful:M.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},hs=(x,M)=>Nn(bi(x)?x(s):x,M);return{control:{register:ls,unregister:ln,getFieldState:Je,handleSubmit:io,setError:un,_executeSchema:ie,_getWatch:Z,_getDirty:ye,_updateValid:D,_removeUnmounted:Te,_updateFieldArray:T,_updateDisabledField:rr,_getFieldArray:qe,_reset:Nn,_resetDefaultValues:()=>bi(e.defaultValues)&&e.defaultValues().then(x=>{hs(x,e.resetOptions),v.state.next({isLoading:!1})}),_updateFormState:x=>{n={...n,...x}},_disableForm:wn,_subjects:v,_proxyFormState:g,_setErrors:b,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(x){o=x},get _defaultValues(){return i},get _names(){return u},set _names(x){u=x},get _formState(){return n},set _formState(x){n=x},get _options(){return e},set _options(x){e={...e,...x}}},trigger:we,register:ls,handleSubmit:io,watch:qr,setValue:He,getValues:Ge,reset:hs,resetField:yr,clearErrors:zn,unregister:ln,setError:un,setFocus:(x,M={})=>{const B=fe(r,x),ce=B&&B._f;if(ce){const re=ce.refs?ce.refs[0]:ce.ref;re.focus&&(re.focus(),M.shouldSelect&&re.select())}},getFieldState:Je}}function CC(t={}){const e=Dn.useRef(),n=Dn.useRef(),[r,i]=Dn.useState({isDirty:!1,isValidating:!1,isLoading:bi(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:bi(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...CF(t),formState:r});const s=e.current.control;return s._options=t,pF({subject:s._subjects.state,next:o=>{fF(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),Dn.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Dn.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),Dn.useEffect(()=>{t.values&&!Ps(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),Dn.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),Dn.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),Dn.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=dF(r,s),e.current}const RF="/assets/addAvatar-DyZLfQMy.png",Zd="/assets/newLogo-BTV3KbYb.png",RC="/assets/loading-BZDBN9Kl.gif",kF=()=>{var A,S,C,D,E,T,k,b;const[t,e]=$.useState(!1),[n,r]=$.useState(!1),[i,s]=$.useState(!1),o=hd(),u=["image/png","image/jpeg","image/gif"],{register:c,formState:{errors:h},handleSubmit:g}=CC(),v=async q=>await w(q),w=async q=>{const X=q.displayName,f=q.email,ie=q.password,z=q.image[0];if(!u.includes(z.type)){r(!0);return}s(!0);try{const F=await vO(Jd,f,ie),Te=mC(yC,X),ye=pC(Te,z);ye.on(Z=>{console.log(Z),s(!1),e(!0)},()=>{gC(ye.snapshot.ref).then(async Z=>{await EO(F.user,{displayName:X,photoURL:Z}),await ul(ot(Ke,"users",F.user.uid),{uid:F.user.uid,displayName:X,email:f,photoURL:Z}),await ul(ot(Ke,"userChats",F.user.uid),{}),s(!1),o("/")})})}catch(F){console.log(F),s(!1),e(!0)}};return W.jsx("div",{className:"form-container",children:W.jsxs("div",{className:"form-wrapper",children:[W.jsx("span",{className:"logo",children:W.jsx("img",{src:Zd})}),W.jsx("span",{className:"title",children:"Register"}),W.jsxs("form",{method:"post",onSubmit:g(v),children:[W.jsx("input",{type:"text",placeholder:"Display name",...c("displayName",{required:!0,pattern:/^(?!\s*$).{1,12}$/})}),W.jsxs("span",{className:"form-error",children:[((A=h.displayName)==null?void 0:A.type)==="required"&&"This field is required",((S=h.displayName)==null?void 0:S.type)==="pattern"&&"Display name must not exceed 12 characters"]}),W.jsx("input",{type:"email",placeholder:"Email",...c("email",{required:!0,pattern:/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/i})}),W.jsxs("span",{className:"form-error",children:[((C=h.email)==null?void 0:C.type)==="required"&&"This field is required",((D=h.email)==null?void 0:D.type)==="pattern"&&"Entered email is in wrong format"]}),W.jsx("input",{type:"password",placeholder:"Password",...c("password",{required:!0,minLength:6,maxLength:12})}),W.jsxs("span",{className:"form-error",children:[((E=h.password)==null?void 0:E.type)==="required"&&"This field is required",((T=h.password)==null?void 0:T.type)==="minLength"&&"Password must be at least 6 characters",((k=h.password)==null?void 0:k.type)==="maxLength"&&"Password must not exceed 12 characters"]}),W.jsx("input",{style:{display:"none"},type:"file",id:"img",...c("image",{required:!0})}),W.jsxs("label",{htmlFor:"img",children:[W.jsx("img",{src:RF}),W.jsx("span",{className:"avatar-span",children:"Add an Avatar"})]}),W.jsxs("span",{className:"form-error",children:[((b=h.image)==null?void 0:b.type)==="required"&&"This field is required",n&&"Please select a valid file type (PNG/JPEG/GIF)"]}),W.jsx("button",{children:"Sign up"}),t&&W.jsx("span",{style:{color:"red"},children:"Something went wrong..."})]}),W.jsxs("p",{children:["Already have an account? ",W.jsx(b1,{to:"/login",children:"Login"})]}),i&&W.jsx("img",{className:"loading",src:RC})]})})},PF=()=>{var g,v,w,A,S;const[t,e]=$.useState(!1),n=hd(),[r,i]=$.useState(!1),{register:s,formState:{errors:o},handleSubmit:u}=CC(),c=async C=>await h(C),h=async C=>{const D=C.email,E=C.password;i(!0);try{await _O(Jd,D,E),i(!1),n("/")}catch{i(!1),e(!0)}};return W.jsx("div",{className:"form-container",children:W.jsxs("div",{className:"form-wrapper",children:[W.jsx("span",{className:"logo",children:W.jsx("img",{src:Zd})}),W.jsx("span",{className:"title",children:"Login"}),W.jsxs("form",{onSubmit:u(c),children:[W.jsx("input",{type:"email",placeholder:"Email",...s("email",{required:!0,pattern:/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/i})}),W.jsxs("span",{className:"form-error",children:[((g=o.email)==null?void 0:g.type)==="required"&&"This field is required",((v=o.email)==null?void 0:v.type)==="pattern"&&"Entered email is in wrong format"]}),W.jsx("input",{type:"password",placeholder:"Password",...s("password",{required:!0,minLength:6,maxLength:12})}),W.jsxs("span",{className:"form-error",children:[((w=o.password)==null?void 0:w.type)==="required"&&"This field is required",((A=o.password)==null?void 0:A.type)==="minLength"&&"Password must be at least 6 characters",((S=o.password)==null?void 0:S.type)==="maxLength"&&"Password must not exceed 12 characters"]}),W.jsx("button",{children:"Sign in"}),t&&W.jsx("span",{style:{color:"red",textAlign:"center"},children:"Incorrect password or email"})]}),W.jsxs("p",{children:["Don't have an account? ",W.jsx(b1,{to:"/register",children:"Register"})]}),r&&W.jsx("img",{className:"loading",src:RC})]})})},us=$.createContext(),xF={chatId:"null",user:{}},NF=({children:t})=>{const{currentUser:e}=$.useContext(zr),n=(s,o)=>{switch(o.type){case"CHANGE_USER":return{user:o.payload,chatId:e.uid>o.payload.uid?e.uid+o.payload.uid:o.payload.uid+e.uid};case"LOG_OUT":return{user:{},chatId:"null"};default:return s}},[r,i]=$.useReducer(n,xF);return W.jsx(us.Provider,{value:{data:r,dispatch:i},children:t})},DF=()=>{const{currentUser:t}=$.useContext(zr),{dispatch:e}=$.useContext(us),n=async()=>{try{const r=ot(Ke,"presence",t.uid);await gn(r,{count:0,online:!1,hasShown:!1}),await AO(Jd),e({type:"LOG_OUT",payload:{}})}catch(r){console.error("Error setting user presence:",r)}};return W.jsxs("div",{className:"navbar",children:[W.jsx("div",{className:"logo-container",children:W.jsx("img",{src:Zd,className:"logo"})}),W.jsxs("div",{className:"user",children:[W.jsx("img",{src:t==null?void 0:t.photoURL}),W.jsx("span",{children:t==null?void 0:t.displayName}),W.jsx("button",{onClick:()=>n(),children:"Log out"})]})]})},$l=$.createContext(),OF=({children:t})=>{const[e,n]=$.useState(!0),[r,i]=$.useState(!0),s=$.useCallback(u=>{n(u)},[e]),o=$.useCallback(u=>{i(u)},[r]);return W.jsx($l.Provider,{value:{controlSidebarAppearance:s,controlChatAppearance:o,showSidebar:e,showChat:r},children:t})},bF=({selectedChatIdFromSearch:t})=>{const[e,n]=$.useState(""),[r,i]=$.useState(null),[s,o]=$.useState(!1),{currentUser:u}=$.useContext(zr),{dispatch:c}=$.useContext(us),{controlSidebarAppearance:h,controlChatAppearance:g}=$.useContext($l);$.useEffect(()=>{e.length===0&&o(!1)},[e]);const v=S=>{S.code==="Enter"&&e.trim()!==""&&w()},w=async()=>{const S=$A(Tu(Ke,"users"),BA("displayName","==",e));try{const C=await KM(S);C.forEach(D=>{i(D.data()),o(!1)}),C.empty&&o(!0)}catch{o(!0)}},A=async()=>{const S=u.uid>r.uid?u.uid+r.uid:r.uid+u.uid;try{(await fa(ot(Ke,"chats",S))).exists()||(await ul(ot(Ke,"chats",S),{messages:[]}),await gn(ot(Ke,"userChats",u.uid),{[S+".userInfo"]:{uid:r.uid,displayName:r.displayName,photoURL:r.photoURL},[S+".date"]:ze.now().toDate()}),await gn(ot(Ke,"userChats",r.uid),{[S+".userInfo"]:{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL},[S+".date"]:ze.now().toDate()})),c({type:"CHANGE_USER",payload:r}),t(r.uid),window.innerWidth<940&&(h(!1),g(!0))}catch{}i(null),n("")};return W.jsxs("div",{className:"search",children:[W.jsx("div",{className:"search-form",children:W.jsx("input",{type:"text",placeholder:"Find a user",onKeyDown:v,onChange:S=>n(S.target.value),value:e})}),s&&W.jsx("span",{className:"error",style:{color:"red"},children:"User not found!"}),r&&W.jsxs("div",{className:"user-chat",onClick:A,children:[W.jsx("img",{src:r.photoURL}),W.jsx("div",{className:"user-chat-info",children:W.jsx("span",{children:r.displayName})})]})]})},LF="/assets/online-DpeWc3r9.jpg",VF="/assets/offline-dGcz1zGW.png",MF=({selectedChatIdFromSearch:t})=>{var w;const[e,n]=$.useState([]),{currentUser:r}=$.useContext(zr),{dispatch:i}=$.useContext(us),{controlSidebarAppearance:s,controlChatAppearance:o}=$.useContext($l),[u,c]=$.useState(""),[h,g]=$.useState({});$.useEffect(()=>{const A=()=>{const S=bs(ot(Ke,"userChats",r.uid),C=>{n(C.data())});return()=>S()};r.uid&&A()},[r.uid]),$.useEffect(()=>{const A=bs(Tu(Ke,"presence"),S=>{const C=S.docs.reduce((D,E)=>(D[E.id]=E.data().online,D),{});g(C)});return()=>A()},[]),$.useEffect(()=>{c(t);const A=document.getElementById(t);A==null||A.scrollIntoView({behavior:"instant"})},[t]);const v=A=>{c(A.uid),i({type:"CHANGE_USER",payload:A}),window.innerWidth<940&&(s(!1),o(!0))};return W.jsx("div",{className:"chats",children:e&&((w=Object.entries(e))==null?void 0:w.sort((A,S)=>{var C,D;return((C=S[1])==null?void 0:C.fullDate)-((D=A[1])==null?void 0:D.fullDate)}).map(A=>{var S,C,D,E,T,k,b,q,X,f,ie,z,F,Te;return W.jsxs("div",{className:`user-chat ${u===((C=(S=A[1])==null?void 0:S.userInfo)==null?void 0:C.uid)?"selected-chat":""}`,id:(E=(D=A[1])==null?void 0:D.userInfo)==null?void 0:E.uid,onClick:()=>{var ye;return v((ye=A[1])==null?void 0:ye.userInfo)},children:[W.jsx("img",{className:"user-photo",src:(T=A[1].userInfo)==null?void 0:T.photoURL}),W.jsxs("div",{className:"user-chat-info",children:[W.jsx("span",{children:(k=A[1].userInfo)==null?void 0:k.displayName}),W.jsxs("div",{className:"lastmsg-time",children:[W.jsx("p",{className:"lastmsg-text",children:((b=A[1].lastMessage)==null?void 0:b.text.length)>=36?((q=A[1].lastMessage)==null?void 0:q.text.substring(0,30))+"...":(X=A[1].lastMessage)==null?void 0:X.text}),W.jsxs("div",{className:"date-status",children:[((f=A[1].lastMessage)==null?void 0:f.text)&&W.jsx("p",{children:JSON.stringify((ie=A[1])==null?void 0:ie.date).substring(1,6)}),W.jsx("p",{children:h[(z=A[1].userInfo)==null?void 0:z.uid]?W.jsx("img",{src:LF}):W.jsx("img",{src:VF})})]})]})]})]},(Te=(F=A[1])==null?void 0:F.userInfo)==null?void 0:Te.uid)}))})},UF=()=>{const[t,e]=$.useState(""),n=$.useCallback(r=>{e(r)},[t]);return W.jsxs("div",{className:"sidebar",children:[W.jsx(DF,{}),W.jsx(bF,{selectedChatIdFromSearch:n}),W.jsx(MF,{selectedChatIdFromSearch:t})]})},FF=({message:t})=>{const{currentUser:e}=$.useContext(zr),{data:n}=$.useContext(us),r=$.useRef();$.useEffect(()=>{var s;(s=r.current)==null||s.scrollIntoView()},[t]);const i=s=>{let o="",u=0;return s.split("").forEach(h=>{u===35?(o+=`<br>${h}`,u=0):(u++,o+=h)}),o};return W.jsxs("div",{ref:r,className:`message ${t.senderId===e.uid&&"owner"}`,children:[W.jsxs("div",{className:"message-info",children:[W.jsx("img",{src:t.senderId===e.uid?e.photoURL:n.user.photoURL}),W.jsx("span",{children:JSON.stringify(t.date).substring(1,6)})]}),W.jsx("div",{className:"message-content",children:W.jsx("p",{dangerouslySetInnerHTML:{__html:(t.text.length>35?i(t.text):t.text)+(t.img?`<br/> <img src="${t.img}"/>`:"")}})})]})},jF=()=>{const[t,e]=$.useState([]),{data:n}=$.useContext(us);return $.useEffect(()=>{const r=bs(ot(Ke,"chats",n.chatId),i=>{i.exists()&&e(i.data().messages)});return()=>r()},[n.chatId]),W.jsxs("div",{className:`${n.chatId!=="null"?"messages":"logo-panel"}`,children:[t&&t.map(r=>W.jsx(FF,{message:r},r.id)),n.chatId==="null"&&W.jsxs("div",{className:"panel-content",children:[W.jsx("img",{src:Zd}),W.jsx("p",{children:"Send and receive messages"}),W.jsx("p",{children:"Play Chess with your friends!"})]})]})},$F="/assets/img-DPmLVG0r.png",BF="/assets/v-6rhO_dqg.png";let kc;const zF=new Uint8Array(16);function qF(){if(!kc&&(kc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!kc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return kc(zF)}const jt=[];for(let t=0;t<256;++t)jt.push((t+256).toString(16).slice(1));function HF(t,e=0){return jt[t[e+0]]+jt[t[e+1]]+jt[t[e+2]]+jt[t[e+3]]+"-"+jt[t[e+4]]+jt[t[e+5]]+"-"+jt[t[e+6]]+jt[t[e+7]]+"-"+jt[t[e+8]]+jt[t[e+9]]+"-"+jt[t[e+10]]+jt[t[e+11]]+jt[t[e+12]]+jt[t[e+13]]+jt[t[e+14]]+jt[t[e+15]]}const WF=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),lE={randomUUID:WF};function Tp(t,e,n){if(lE.randomUUID&&!e&&!t)return lE.randomUUID();t=t||{};const r=t.random||(t.rng||qF)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return HF(r)}const KF=()=>{const[t,e]=$.useState(""),[n,r]=$.useState(null),{currentUser:i}=$.useContext(zr),{data:s}=$.useContext(us),[o,u]=$.useState(!1),c=["image/png","image/jpeg","image/gif"],h=ze.now().toDate().getHours().toString().length===2?ze.now().toDate().getHours():"0"+ze.now().toDate().getHours(),g=ze.now().toDate().getMinutes().toString().length===2?ze.now().toDate().getMinutes():"0"+ze.now().toDate().getMinutes(),v=h+":"+g,w=async C=>{n?C.key==="Enter"&&await S():C.key==="Enter"&&t.trim()!==""&&await S()};$.useEffect(()=>{var C;return(C=document.querySelector(".input input"))==null||C.focus(),r(null),u(!1),()=>e("")},[s.chatId]);const A=C=>{C&&c.includes(C.type)?(r(C),u(!0)):alert("Invalid image format!")},S=async()=>{if(n){const C=mC(yC,Tp()),D=pC(C,n),E=t;e(""),D.on(T=>{console.error(T)},()=>{gC(D.snapshot.ref).then(async T=>{await gn(ot(Ke,"chats",s.chatId),{messages:Kw({id:Tp(),text:E,senderId:i.uid,receiverId:s.user.uid,date:v,fullDate:ze.now(),img:T})})})}),await gn(ot(Ke,"userChats",i.uid),{[s.chatId+".lastMessage"]:{text:"Image",senderId:i.uid},[s.chatId+".date"]:v,[s.chatId+".fullDate"]:Sc()}),await gn(ot(Ke,"userChats",s.user.uid),{[s.chatId+".lastMessage"]:{text:"Image",senderId:i.uid},[s.chatId+".date"]:v,[s.chatId+".fullDate"]:Sc()})}else if(!n&&t.trim()!==""){const C=t;e(""),await gn(ot(Ke,"chats",s.chatId),{messages:Kw({id:Tp(),text:C,senderId:i.uid,receiverId:s.user.uid,date:v,fullDate:ze.now()})}),await gn(ot(Ke,"userChats",i.uid),{[s.chatId+".lastMessage"]:{text:C,senderId:i.uid},[s.chatId+".date"]:v,[s.chatId+".fullDate"]:Sc()}),await gn(ot(Ke,"userChats",s.user.uid),{[s.chatId+".lastMessage"]:{text:C,senderId:i.uid},[s.chatId+".date"]:v,[s.chatId+".fullDate"]:Sc()})}document.querySelector(".input input").focus(),r(null),u(!1)};return s.chatId!=="null"&&W.jsxs("div",{className:"input",children:[W.jsx("input",{type:"text",placeholder:"Type something...",onChange:C=>e(C.target.value),value:t,onKeyDown:w}),W.jsxs("div",{className:"icons",children:[W.jsx("input",{type:"file",id:"img",accept:"image/*",style:{display:"none"},onChange:C=>A(C.target.files[0])}),o&&W.jsx("img",{src:BF}),W.jsx("label",{htmlFor:"img",children:W.jsx("img",{src:$F})}),W.jsx("button",{onClick:S,children:"Send"})]})]})};var kC={exports:{}},Ip={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var cE;function GF(){return cE||(cE=1,function(t){(function(e,n){t.exports=e.document?n(e,!0):function(r){if(!r.document)throw new Error("jQuery requires a window with a document");return n(r)}})(typeof window<"u"?window:_R,function(e,n){var r=[],i=Object.getPrototypeOf,s=r.slice,o=r.flat?function(a){return r.flat.call(a)}:function(a){return r.concat.apply([],a)},u=r.push,c=r.indexOf,h={},g=h.toString,v=h.hasOwnProperty,w=v.toString,A=w.call(Object),S={},C=function(l){return typeof l=="function"&&typeof l.nodeType!="number"&&typeof l.item!="function"},D=function(l){return l!=null&&l===l.window},E=e.document,T={type:!0,src:!0,nonce:!0,noModule:!0};function k(a,l,d){d=d||E;var p,m,y=d.createElement("script");if(y.text=a,l)for(p in T)m=l[p]||l.getAttribute&&l.getAttribute(p),m&&y.setAttribute(p,m);d.head.appendChild(y).parentNode.removeChild(y)}function b(a){return a==null?a+"":typeof a=="object"||typeof a=="function"?h[g.call(a)]||"object":typeof a}var q="3.7.1",X=/HTML$/i,f=function(a,l){return new f.fn.init(a,l)};f.fn=f.prototype={jquery:q,constructor:f,length:0,toArray:function(){return s.call(this)},get:function(a){return a==null?s.call(this):a<0?this[a+this.length]:this[a]},pushStack:function(a){var l=f.merge(this.constructor(),a);return l.prevObject=this,l},each:function(a){return f.each(this,a)},map:function(a){return this.pushStack(f.map(this,function(l,d){return a.call(l,d,l)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(f.grep(this,function(a,l){return(l+1)%2}))},odd:function(){return this.pushStack(f.grep(this,function(a,l){return l%2}))},eq:function(a){var l=this.length,d=+a+(a<0?l:0);return this.pushStack(d>=0&&d<l?[this[d]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:r.sort,splice:r.splice},f.extend=f.fn.extend=function(){var a,l,d,p,m,y,_=arguments[0]||{},P=1,R=arguments.length,O=!1;for(typeof _=="boolean"&&(O=_,_=arguments[P]||{},P++),typeof _!="object"&&!C(_)&&(_={}),P===R&&(_=this,P--);P<R;P++)if((a=arguments[P])!=null)for(l in a)p=a[l],!(l==="__proto__"||_===p)&&(O&&p&&(f.isPlainObject(p)||(m=Array.isArray(p)))?(d=_[l],m&&!Array.isArray(d)?y=[]:!m&&!f.isPlainObject(d)?y={}:y=d,m=!1,_[l]=f.extend(O,y,p)):p!==void 0&&(_[l]=p));return _},f.extend({expando:"jQuery"+(q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isPlainObject:function(a){var l,d;return!a||g.call(a)!=="[object Object]"?!1:(l=i(a),l?(d=v.call(l,"constructor")&&l.constructor,typeof d=="function"&&w.call(d)===A):!0)},isEmptyObject:function(a){var l;for(l in a)return!1;return!0},globalEval:function(a,l,d){k(a,{nonce:l&&l.nonce},d)},each:function(a,l){var d,p=0;if(ie(a))for(d=a.length;p<d&&l.call(a[p],p,a[p])!==!1;p++);else for(p in a)if(l.call(a[p],p,a[p])===!1)break;return a},text:function(a){var l,d="",p=0,m=a.nodeType;if(!m)for(;l=a[p++];)d+=f.text(l);return m===1||m===11?a.textContent:m===9?a.documentElement.textContent:m===3||m===4?a.nodeValue:d},makeArray:function(a,l){var d=l||[];return a!=null&&(ie(Object(a))?f.merge(d,typeof a=="string"?[a]:a):u.call(d,a)),d},inArray:function(a,l,d){return l==null?-1:c.call(l,a,d)},isXMLDoc:function(a){var l=a&&a.namespaceURI,d=a&&(a.ownerDocument||a).documentElement;return!X.test(l||d&&d.nodeName||"HTML")},merge:function(a,l){for(var d=+l.length,p=0,m=a.length;p<d;p++)a[m++]=l[p];return a.length=m,a},grep:function(a,l,d){for(var p,m=[],y=0,_=a.length,P=!d;y<_;y++)p=!l(a[y],y),p!==P&&m.push(a[y]);return m},map:function(a,l,d){var p,m,y=0,_=[];if(ie(a))for(p=a.length;y<p;y++)m=l(a[y],y,d),m!=null&&_.push(m);else for(y in a)m=l(a[y],y,d),m!=null&&_.push(m);return o(_)},guid:1,support:S}),typeof Symbol=="function"&&(f.fn[Symbol.iterator]=r[Symbol.iterator]),f.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,l){h["[object "+l+"]"]=l.toLowerCase()});function ie(a){var l=!!a&&"length"in a&&a.length,d=b(a);return C(a)||D(a)?!1:d==="array"||l===0||typeof l=="number"&&l>0&&l-1 in a}function z(a,l){return a.nodeName&&a.nodeName.toLowerCase()===l.toLowerCase()}var F=r.pop,Te=r.sort,ye=r.splice,Z="[\\x20\\t\\r\\n\\f]",qe=new RegExp("^"+Z+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Z+"+$","g");f.contains=function(a,l){var d=l&&l.parentNode;return a===d||!!(d&&d.nodeType===1&&(a.contains?a.contains(d):a.compareDocumentPosition&&a.compareDocumentPosition(d)&16))};var ht=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function wt(a,l){return l?a==="\0"?"�":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a}f.escapeSelector=function(a){return(a+"").replace(ht,wt)};var He=E,ne=u;(function(){var a,l,d,p,m,y=ne,_,P,R,O,j,K=f.expando,V=0,Y=0,Ie=Gl(),Ue=Gl(),xe=Gl(),Ft=Gl(),Pt=function(I,N){return I===N&&(m=!0),0},vr="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",_r="(?:\\\\[\\da-fA-F]{1,6}"+Z+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",be="\\["+Z+"*("+_r+")(?:"+Z+"*([*^$|!~]?=)"+Z+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+_r+"))|)"+Z+"*\\]",gs=":("+_r+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+be+")*)|.*)\\)|)",$e=new RegExp(Z+"+","g"),yt=new RegExp("^"+Z+"*,"+Z+"*"),Da=new RegExp("^"+Z+"*([>+~]|"+Z+")"+Z+"*"),mf=new RegExp(Z+"|>"),wr=new RegExp(gs),Oa=new RegExp("^"+_r+"$"),Er={ID:new RegExp("^#("+_r+")"),CLASS:new RegExp("^\\.("+_r+")"),TAG:new RegExp("^("+_r+"|[*])"),ATTR:new RegExp("^"+be),PSEUDO:new RegExp("^"+gs),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Z+"*(even|odd|(([+-]|)(\\d*)n|)"+Z+"*(?:([+-]|)"+Z+"*(\\d+)|))"+Z+"*\\)|)","i"),bool:new RegExp("^(?:"+vr+")$","i"),needsContext:new RegExp("^"+Z+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Z+"*((?:-\\d)?\\d*)"+Z+"*\\)|)(?=[^-]|$)","i")},mi=/^(?:input|select|textarea|button)$/i,yi=/^h\d$/i,Wn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yf=/[+~]/,Kr=new RegExp("\\\\[\\da-fA-F]{1,6}"+Z+"?|\\\\([^\\r\\n\\f])","g"),Gr=function(I,N){var L="0x"+I.slice(1)-65536;return N||(L<0?String.fromCharCode(L+65536):String.fromCharCode(L>>10|55296,L&1023|56320))},hR=function(){vi()},dR=Xl(function(I){return I.disabled===!0&&z(I,"fieldset")},{dir:"parentNode",next:"legend"});function fR(){try{return _.activeElement}catch{}}try{y.apply(r=s.call(He.childNodes),He.childNodes),r[He.childNodes.length].nodeType}catch{y={apply:function(N,L){ne.apply(N,s.call(L))},call:function(N){ne.apply(N,s.call(arguments,1))}}}function Qe(I,N,L,U){var H,se,ue,me,le,De,Ee,Ce=N&&N.ownerDocument,Oe=N?N.nodeType:9;if(L=L||[],typeof I!="string"||!I||Oe!==1&&Oe!==9&&Oe!==11)return L;if(!U&&(vi(N),N=N||_,R)){if(Oe!==11&&(le=Wn.exec(I)))if(H=le[1]){if(Oe===9)if(ue=N.getElementById(H)){if(ue.id===H)return y.call(L,ue),L}else return L;else if(Ce&&(ue=Ce.getElementById(H))&&Qe.contains(N,ue)&&ue.id===H)return y.call(L,ue),L}else{if(le[2])return y.apply(L,N.getElementsByTagName(I)),L;if((H=le[3])&&N.getElementsByClassName)return y.apply(L,N.getElementsByClassName(H)),L}if(!Ft[I+" "]&&(!O||!O.test(I))){if(Ee=I,Ce=N,Oe===1&&(mf.test(I)||Da.test(I))){for(Ce=yf.test(I)&&vf(N.parentNode)||N,(Ce!=N||!S.scope)&&((me=N.getAttribute("id"))?me=f.escapeSelector(me):N.setAttribute("id",me=K)),De=ba(I),se=De.length;se--;)De[se]=(me?"#"+me:":scope")+" "+Ql(De[se]);Ee=De.join(",")}try{return y.apply(L,Ce.querySelectorAll(Ee)),L}catch{Ft(I,!0)}finally{me===K&&N.removeAttribute("id")}}}return n_(I.replace(qe,"$1"),N,L,U)}function Gl(){var I=[];function N(L,U){return I.push(L+" ")>l.cacheLength&&delete N[I.shift()],N[L+" "]=U}return N}function sr(I){return I[K]=!0,I}function po(I){var N=_.createElement("fieldset");try{return!!I(N)}catch{return!1}finally{N.parentNode&&N.parentNode.removeChild(N),N=null}}function pR(I){return function(N){return z(N,"input")&&N.type===I}}function gR(I){return function(N){return(z(N,"input")||z(N,"button"))&&N.type===I}}function e_(I){return function(N){return"form"in N?N.parentNode&&N.disabled===!1?"label"in N?"label"in N.parentNode?N.parentNode.disabled===I:N.disabled===I:N.isDisabled===I||N.isDisabled!==!I&&dR(N)===I:N.disabled===I:"label"in N?N.disabled===I:!1}}function ms(I){return sr(function(N){return N=+N,sr(function(L,U){for(var H,se=I([],L.length,N),ue=se.length;ue--;)L[H=se[ue]]&&(L[H]=!(U[H]=L[H]))})})}function vf(I){return I&&typeof I.getElementsByTagName<"u"&&I}function vi(I){var N,L=I?I.ownerDocument||I:He;return L==_||L.nodeType!==9||!L.documentElement||(_=L,P=_.documentElement,R=!f.isXMLDoc(_),j=P.matches||P.webkitMatchesSelector||P.msMatchesSelector,P.msMatchesSelector&&He!=_&&(N=_.defaultView)&&N.top!==N&&N.addEventListener("unload",hR),S.getById=po(function(U){return P.appendChild(U).id=f.expando,!_.getElementsByName||!_.getElementsByName(f.expando).length}),S.disconnectedMatch=po(function(U){return j.call(U,"*")}),S.scope=po(function(){return _.querySelectorAll(":scope")}),S.cssHas=po(function(){try{return _.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),S.getById?(l.filter.ID=function(U){var H=U.replace(Kr,Gr);return function(se){return se.getAttribute("id")===H}},l.find.ID=function(U,H){if(typeof H.getElementById<"u"&&R){var se=H.getElementById(U);return se?[se]:[]}}):(l.filter.ID=function(U){var H=U.replace(Kr,Gr);return function(se){var ue=typeof se.getAttributeNode<"u"&&se.getAttributeNode("id");return ue&&ue.value===H}},l.find.ID=function(U,H){if(typeof H.getElementById<"u"&&R){var se,ue,me,le=H.getElementById(U);if(le){if(se=le.getAttributeNode("id"),se&&se.value===U)return[le];for(me=H.getElementsByName(U),ue=0;le=me[ue++];)if(se=le.getAttributeNode("id"),se&&se.value===U)return[le]}return[]}}),l.find.TAG=function(U,H){return typeof H.getElementsByTagName<"u"?H.getElementsByTagName(U):H.querySelectorAll(U)},l.find.CLASS=function(U,H){if(typeof H.getElementsByClassName<"u"&&R)return H.getElementsByClassName(U)},O=[],po(function(U){var H;P.appendChild(U).innerHTML="<a id='"+K+"' href='' disabled='disabled'></a><select id='"+K+"-\r\\' disabled='disabled'><option selected=''></option></select>",U.querySelectorAll("[selected]").length||O.push("\\["+Z+"*(?:value|"+vr+")"),U.querySelectorAll("[id~="+K+"-]").length||O.push("~="),U.querySelectorAll("a#"+K+"+*").length||O.push(".#.+[+~]"),U.querySelectorAll(":checked").length||O.push(":checked"),H=_.createElement("input"),H.setAttribute("type","hidden"),U.appendChild(H).setAttribute("name","D"),P.appendChild(U).disabled=!0,U.querySelectorAll(":disabled").length!==2&&O.push(":enabled",":disabled"),H=_.createElement("input"),H.setAttribute("name",""),U.appendChild(H),U.querySelectorAll("[name='']").length||O.push("\\["+Z+"*name"+Z+"*="+Z+`*(?:''|"")`)}),S.cssHas||O.push(":has"),O=O.length&&new RegExp(O.join("|")),Pt=function(U,H){if(U===H)return m=!0,0;var se=!U.compareDocumentPosition-!H.compareDocumentPosition;return se||(se=(U.ownerDocument||U)==(H.ownerDocument||H)?U.compareDocumentPosition(H):1,se&1||!S.sortDetached&&H.compareDocumentPosition(U)===se?U===_||U.ownerDocument==He&&Qe.contains(He,U)?-1:H===_||H.ownerDocument==He&&Qe.contains(He,H)?1:p?c.call(p,U)-c.call(p,H):0:se&4?-1:1)}),_}Qe.matches=function(I,N){return Qe(I,null,null,N)},Qe.matchesSelector=function(I,N){if(vi(I),R&&!Ft[N+" "]&&(!O||!O.test(N)))try{var L=j.call(I,N);if(L||S.disconnectedMatch||I.document&&I.document.nodeType!==11)return L}catch{Ft(N,!0)}return Qe(N,_,null,[I]).length>0},Qe.contains=function(I,N){return(I.ownerDocument||I)!=_&&vi(I),f.contains(I,N)},Qe.attr=function(I,N){(I.ownerDocument||I)!=_&&vi(I);var L=l.attrHandle[N.toLowerCase()],U=L&&v.call(l.attrHandle,N.toLowerCase())?L(I,N,!R):void 0;return U!==void 0?U:I.getAttribute(N)},Qe.error=function(I){throw new Error("Syntax error, unrecognized expression: "+I)},f.uniqueSort=function(I){var N,L=[],U=0,H=0;if(m=!S.sortStable,p=!S.sortStable&&s.call(I,0),Te.call(I,Pt),m){for(;N=I[H++];)N===I[H]&&(U=L.push(H));for(;U--;)ye.call(I,L[U],1)}return p=null,I},f.fn.uniqueSort=function(){return this.pushStack(f.uniqueSort(s.apply(this)))},l=f.expr={cacheLength:50,createPseudo:sr,match:Er,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(I){return I[1]=I[1].replace(Kr,Gr),I[3]=(I[3]||I[4]||I[5]||"").replace(Kr,Gr),I[2]==="~="&&(I[3]=" "+I[3]+" "),I.slice(0,4)},CHILD:function(I){return I[1]=I[1].toLowerCase(),I[1].slice(0,3)==="nth"?(I[3]||Qe.error(I[0]),I[4]=+(I[4]?I[5]+(I[6]||1):2*(I[3]==="even"||I[3]==="odd")),I[5]=+(I[7]+I[8]||I[3]==="odd")):I[3]&&Qe.error(I[0]),I},PSEUDO:function(I){var N,L=!I[6]&&I[2];return Er.CHILD.test(I[0])?null:(I[3]?I[2]=I[4]||I[5]||"":L&&wr.test(L)&&(N=ba(L,!0))&&(N=L.indexOf(")",L.length-N)-L.length)&&(I[0]=I[0].slice(0,N),I[2]=L.slice(0,N)),I.slice(0,3))}},filter:{TAG:function(I){var N=I.replace(Kr,Gr).toLowerCase();return I==="*"?function(){return!0}:function(L){return z(L,N)}},CLASS:function(I){var N=Ie[I+" "];return N||(N=new RegExp("(^|"+Z+")"+I+"("+Z+"|$)"))&&Ie(I,function(L){return N.test(typeof L.className=="string"&&L.className||typeof L.getAttribute<"u"&&L.getAttribute("class")||"")})},ATTR:function(I,N,L){return function(U){var H=Qe.attr(U,I);return H==null?N==="!=":N?(H+="",N==="="?H===L:N==="!="?H!==L:N==="^="?L&&H.indexOf(L)===0:N==="*="?L&&H.indexOf(L)>-1:N==="$="?L&&H.slice(-L.length)===L:N==="~="?(" "+H.replace($e," ")+" ").indexOf(L)>-1:N==="|="?H===L||H.slice(0,L.length+1)===L+"-":!1):!0}},CHILD:function(I,N,L,U,H){var se=I.slice(0,3)!=="nth",ue=I.slice(-4)!=="last",me=N==="of-type";return U===1&&H===0?function(le){return!!le.parentNode}:function(le,De,Ee){var Ce,Oe,_e,Ze,In,Qt=se!==ue?"nextSibling":"previousSibling",Kn=le.parentNode,Tr=me&&le.nodeName.toLowerCase(),go=!Ee&&!me,hn=!1;if(Kn){if(se){for(;Qt;){for(_e=le;_e=_e[Qt];)if(me?z(_e,Tr):_e.nodeType===1)return!1;In=Qt=I==="only"&&!In&&"nextSibling"}return!0}if(In=[ue?Kn.firstChild:Kn.lastChild],ue&&go){for(Oe=Kn[K]||(Kn[K]={}),Ce=Oe[I]||[],Ze=Ce[0]===V&&Ce[1],hn=Ze&&Ce[2],_e=Ze&&Kn.childNodes[Ze];_e=++Ze&&_e&&_e[Qt]||(hn=Ze=0)||In.pop();)if(_e.nodeType===1&&++hn&&_e===le){Oe[I]=[V,Ze,hn];break}}else if(go&&(Oe=le[K]||(le[K]={}),Ce=Oe[I]||[],Ze=Ce[0]===V&&Ce[1],hn=Ze),hn===!1)for(;(_e=++Ze&&_e&&_e[Qt]||(hn=Ze=0)||In.pop())&&!((me?z(_e,Tr):_e.nodeType===1)&&++hn&&(go&&(Oe=_e[K]||(_e[K]={}),Oe[I]=[V,hn]),_e===le)););return hn-=H,hn===U||hn%U===0&&hn/U>=0}}},PSEUDO:function(I,N){var L,U=l.pseudos[I]||l.setFilters[I.toLowerCase()]||Qe.error("unsupported pseudo: "+I);return U[K]?U(N):U.length>1?(L=[I,I,"",N],l.setFilters.hasOwnProperty(I.toLowerCase())?sr(function(H,se){for(var ue,me=U(H,N),le=me.length;le--;)ue=c.call(H,me[le]),H[ue]=!(se[ue]=me[le])}):function(H){return U(H,0,L)}):U}},pseudos:{not:sr(function(I){var N=[],L=[],U=Tf(I.replace(qe,"$1"));return U[K]?sr(function(H,se,ue,me){for(var le,De=U(H,null,me,[]),Ee=H.length;Ee--;)(le=De[Ee])&&(H[Ee]=!(se[Ee]=le))}):function(H,se,ue){return N[0]=H,U(N,null,ue,L),N[0]=null,!L.pop()}}),has:sr(function(I){return function(N){return Qe(I,N).length>0}}),contains:sr(function(I){return I=I.replace(Kr,Gr),function(N){return(N.textContent||f.text(N)).indexOf(I)>-1}}),lang:sr(function(I){return Oa.test(I||"")||Qe.error("unsupported lang: "+I),I=I.replace(Kr,Gr).toLowerCase(),function(N){var L;do if(L=R?N.lang:N.getAttribute("xml:lang")||N.getAttribute("lang"))return L=L.toLowerCase(),L===I||L.indexOf(I+"-")===0;while((N=N.parentNode)&&N.nodeType===1);return!1}}),target:function(I){var N=e.location&&e.location.hash;return N&&N.slice(1)===I.id},root:function(I){return I===P},focus:function(I){return I===fR()&&_.hasFocus()&&!!(I.type||I.href||~I.tabIndex)},enabled:e_(!1),disabled:e_(!0),checked:function(I){return z(I,"input")&&!!I.checked||z(I,"option")&&!!I.selected},selected:function(I){return I.parentNode&&I.parentNode.selectedIndex,I.selected===!0},empty:function(I){for(I=I.firstChild;I;I=I.nextSibling)if(I.nodeType<6)return!1;return!0},parent:function(I){return!l.pseudos.empty(I)},header:function(I){return yi.test(I.nodeName)},input:function(I){return mi.test(I.nodeName)},button:function(I){return z(I,"input")&&I.type==="button"||z(I,"button")},text:function(I){var N;return z(I,"input")&&I.type==="text"&&((N=I.getAttribute("type"))==null||N.toLowerCase()==="text")},first:ms(function(){return[0]}),last:ms(function(I,N){return[N-1]}),eq:ms(function(I,N,L){return[L<0?L+N:L]}),even:ms(function(I,N){for(var L=0;L<N;L+=2)I.push(L);return I}),odd:ms(function(I,N){for(var L=1;L<N;L+=2)I.push(L);return I}),lt:ms(function(I,N,L){var U;for(L<0?U=L+N:L>N?U=N:U=L;--U>=0;)I.push(U);return I}),gt:ms(function(I,N,L){for(var U=L<0?L+N:L;++U<N;)I.push(U);return I})}},l.pseudos.nth=l.pseudos.eq;for(a in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})l.pseudos[a]=pR(a);for(a in{submit:!0,reset:!0})l.pseudos[a]=gR(a);function t_(){}t_.prototype=l.filters=l.pseudos,l.setFilters=new t_;function ba(I,N){var L,U,H,se,ue,me,le,De=Ue[I+" "];if(De)return N?0:De.slice(0);for(ue=I,me=[],le=l.preFilter;ue;){(!L||(U=yt.exec(ue)))&&(U&&(ue=ue.slice(U[0].length)||ue),me.push(H=[])),L=!1,(U=Da.exec(ue))&&(L=U.shift(),H.push({value:L,type:U[0].replace(qe," ")}),ue=ue.slice(L.length));for(se in l.filter)(U=Er[se].exec(ue))&&(!le[se]||(U=le[se](U)))&&(L=U.shift(),H.push({value:L,type:se,matches:U}),ue=ue.slice(L.length));if(!L)break}return N?ue.length:ue?Qe.error(I):Ue(I,me).slice(0)}function Ql(I){for(var N=0,L=I.length,U="";N<L;N++)U+=I[N].value;return U}function Xl(I,N,L){var U=N.dir,H=N.next,se=H||U,ue=L&&se==="parentNode",me=Y++;return N.first?function(le,De,Ee){for(;le=le[U];)if(le.nodeType===1||ue)return I(le,De,Ee);return!1}:function(le,De,Ee){var Ce,Oe,_e=[V,me];if(Ee){for(;le=le[U];)if((le.nodeType===1||ue)&&I(le,De,Ee))return!0}else for(;le=le[U];)if(le.nodeType===1||ue)if(Oe=le[K]||(le[K]={}),H&&z(le,H))le=le[U]||le;else{if((Ce=Oe[se])&&Ce[0]===V&&Ce[1]===me)return _e[2]=Ce[2];if(Oe[se]=_e,_e[2]=I(le,De,Ee))return!0}return!1}}function _f(I){return I.length>1?function(N,L,U){for(var H=I.length;H--;)if(!I[H](N,L,U))return!1;return!0}:I[0]}function mR(I,N,L){for(var U=0,H=N.length;U<H;U++)Qe(I,N[U],L);return L}function Yl(I,N,L,U,H){for(var se,ue=[],me=0,le=I.length,De=N!=null;me<le;me++)(se=I[me])&&(!L||L(se,U,H))&&(ue.push(se),De&&N.push(me));return ue}function wf(I,N,L,U,H,se){return U&&!U[K]&&(U=wf(U)),H&&!H[K]&&(H=wf(H,se)),sr(function(ue,me,le,De){var Ee,Ce,Oe,_e,Ze=[],In=[],Qt=me.length,Kn=ue||mR(N||"*",le.nodeType?[le]:le,[]),Tr=I&&(ue||!N)?Yl(Kn,Ze,I,le,De):Kn;if(L?(_e=H||(ue?I:Qt||U)?[]:me,L(Tr,_e,le,De)):_e=Tr,U)for(Ee=Yl(_e,In),U(Ee,[],le,De),Ce=Ee.length;Ce--;)(Oe=Ee[Ce])&&(_e[In[Ce]]=!(Tr[In[Ce]]=Oe));if(ue){if(H||I){if(H){for(Ee=[],Ce=_e.length;Ce--;)(Oe=_e[Ce])&&Ee.push(Tr[Ce]=Oe);H(null,_e=[],Ee,De)}for(Ce=_e.length;Ce--;)(Oe=_e[Ce])&&(Ee=H?c.call(ue,Oe):Ze[Ce])>-1&&(ue[Ee]=!(me[Ee]=Oe))}}else _e=Yl(_e===me?_e.splice(Qt,_e.length):_e),H?H(null,me,_e,De):y.apply(me,_e)})}function Ef(I){for(var N,L,U,H=I.length,se=l.relative[I[0].type],ue=se||l.relative[" "],me=se?1:0,le=Xl(function(Ce){return Ce===N},ue,!0),De=Xl(function(Ce){return c.call(N,Ce)>-1},ue,!0),Ee=[function(Ce,Oe,_e){var Ze=!se&&(_e||Oe!=d)||((N=Oe).nodeType?le(Ce,Oe,_e):De(Ce,Oe,_e));return N=null,Ze}];me<H;me++)if(L=l.relative[I[me].type])Ee=[Xl(_f(Ee),L)];else{if(L=l.filter[I[me].type].apply(null,I[me].matches),L[K]){for(U=++me;U<H&&!l.relative[I[U].type];U++);return wf(me>1&&_f(Ee),me>1&&Ql(I.slice(0,me-1).concat({value:I[me-2].type===" "?"*":""})).replace(qe,"$1"),L,me<U&&Ef(I.slice(me,U)),U<H&&Ef(I=I.slice(U)),U<H&&Ql(I))}Ee.push(L)}return _f(Ee)}function yR(I,N){var L=N.length>0,U=I.length>0,H=function(se,ue,me,le,De){var Ee,Ce,Oe,_e=0,Ze="0",In=se&&[],Qt=[],Kn=d,Tr=se||U&&l.find.TAG("*",De),go=V+=Kn==null?1:Math.random()||.1,hn=Tr.length;for(De&&(d=ue==_||ue||De);Ze!==hn&&(Ee=Tr[Ze])!=null;Ze++){if(U&&Ee){for(Ce=0,!ue&&Ee.ownerDocument!=_&&(vi(Ee),me=!R);Oe=I[Ce++];)if(Oe(Ee,ue||_,me)){y.call(le,Ee);break}De&&(V=go)}L&&((Ee=!Oe&&Ee)&&_e--,se&&In.push(Ee))}if(_e+=Ze,L&&Ze!==_e){for(Ce=0;Oe=N[Ce++];)Oe(In,Qt,ue,me);if(se){if(_e>0)for(;Ze--;)In[Ze]||Qt[Ze]||(Qt[Ze]=F.call(le));Qt=Yl(Qt)}y.apply(le,Qt),De&&!se&&Qt.length>0&&_e+N.length>1&&f.uniqueSort(le)}return De&&(V=go,d=Kn),In};return L?sr(H):H}function Tf(I,N){var L,U=[],H=[],se=xe[I+" "];if(!se){for(N||(N=ba(I)),L=N.length;L--;)se=Ef(N[L]),se[K]?U.push(se):H.push(se);se=xe(I,yR(H,U)),se.selector=I}return se}function n_(I,N,L,U){var H,se,ue,me,le,De=typeof I=="function"&&I,Ee=!U&&ba(I=De.selector||I);if(L=L||[],Ee.length===1){if(se=Ee[0]=Ee[0].slice(0),se.length>2&&(ue=se[0]).type==="ID"&&N.nodeType===9&&R&&l.relative[se[1].type]){if(N=(l.find.ID(ue.matches[0].replace(Kr,Gr),N)||[])[0],N)De&&(N=N.parentNode);else return L;I=I.slice(se.shift().value.length)}for(H=Er.needsContext.test(I)?0:se.length;H--&&(ue=se[H],!l.relative[me=ue.type]);)if((le=l.find[me])&&(U=le(ue.matches[0].replace(Kr,Gr),yf.test(se[0].type)&&vf(N.parentNode)||N))){if(se.splice(H,1),I=U.length&&Ql(se),!I)return y.apply(L,U),L;break}}return(De||Tf(I,Ee))(U,N,!R,L,!N||yf.test(I)&&vf(N.parentNode)||N),L}S.sortStable=K.split("").sort(Pt).join("")===K,vi(),S.sortDetached=po(function(I){return I.compareDocumentPosition(_.createElement("fieldset"))&1}),f.find=Qe,f.expr[":"]=f.expr.pseudos,f.unique=f.uniqueSort,Qe.compile=Tf,Qe.select=n_,Qe.setDocument=vi,Qe.tokenize=ba,Qe.escape=f.escapeSelector,Qe.getText=f.text,Qe.isXML=f.isXMLDoc,Qe.selectors=f.expr,Qe.support=f.support,Qe.uniqueSort=f.uniqueSort})();var pe=function(a,l,d){for(var p=[],m=d!==void 0;(a=a[l])&&a.nodeType!==9;)if(a.nodeType===1){if(m&&f(a).is(d))break;p.push(a)}return p},we=function(a,l){for(var d=[];a;a=a.nextSibling)a.nodeType===1&&a!==l&&d.push(a);return d},Ge=f.expr.match.needsContext,Je=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function zn(a,l,d){return C(l)?f.grep(a,function(p,m){return!!l.call(p,m,p)!==d}):l.nodeType?f.grep(a,function(p){return p===l!==d}):typeof l!="string"?f.grep(a,function(p){return c.call(l,p)>-1!==d}):f.filter(l,a,d)}f.filter=function(a,l,d){var p=l[0];return d&&(a=":not("+a+")"),l.length===1&&p.nodeType===1?f.find.matchesSelector(p,a)?[p]:[]:f.find.matches(a,f.grep(l,function(m){return m.nodeType===1}))},f.fn.extend({find:function(a){var l,d,p=this.length,m=this;if(typeof a!="string")return this.pushStack(f(a).filter(function(){for(l=0;l<p;l++)if(f.contains(m[l],this))return!0}));for(d=this.pushStack([]),l=0;l<p;l++)f.find(a,m[l],d);return p>1?f.uniqueSort(d):d},filter:function(a){return this.pushStack(zn(this,a||[],!1))},not:function(a){return this.pushStack(zn(this,a||[],!0))},is:function(a){return!!zn(this,typeof a=="string"&&Ge.test(a)?f(a):a||[],!1).length}});var un,qr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ln=f.fn.init=function(a,l,d){var p,m;if(!a)return this;if(d=d||un,typeof a=="string")if(a[0]==="<"&&a[a.length-1]===">"&&a.length>=3?p=[null,a,null]:p=qr.exec(a),p&&(p[1]||!l))if(p[1]){if(l=l instanceof f?l[0]:l,f.merge(this,f.parseHTML(p[1],l&&l.nodeType?l.ownerDocument||l:E,!0)),Je.test(p[1])&&f.isPlainObject(l))for(p in l)C(this[p])?this[p](l[p]):this.attr(p,l[p]);return this}else return m=E.getElementById(p[2]),m&&(this[0]=m,this.length=1),this;else return!l||l.jquery?(l||d).find(a):this.constructor(l).find(a);else{if(a.nodeType)return this[0]=a,this.length=1,this;if(C(a))return d.ready!==void 0?d.ready(a):a(f)}return f.makeArray(a,this)};ln.prototype=f.fn,un=f(E);var rr=/^(?:parents|prev(?:Until|All))/,ls={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({has:function(a){var l=f(a,this),d=l.length;return this.filter(function(){for(var p=0;p<d;p++)if(f.contains(this,l[p]))return!0})},closest:function(a,l){var d,p=0,m=this.length,y=[],_=typeof a!="string"&&f(a);if(!Ge.test(a)){for(;p<m;p++)for(d=this[p];d&&d!==l;d=d.parentNode)if(d.nodeType<11&&(_?_.index(d)>-1:d.nodeType===1&&f.find.matchesSelector(d,a))){y.push(d);break}}return this.pushStack(y.length>1?f.uniqueSort(y):y)},index:function(a){return a?typeof a=="string"?c.call(f(a),this[0]):c.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,l){return this.pushStack(f.uniqueSort(f.merge(this.get(),f(a,l))))},addBack:function(a){return this.add(a==null?this.prevObject:this.prevObject.filter(a))}});function cs(a,l){for(;(a=a[l])&&a.nodeType!==1;);return a}f.each({parent:function(a){var l=a.parentNode;return l&&l.nodeType!==11?l:null},parents:function(a){return pe(a,"parentNode")},parentsUntil:function(a,l,d){return pe(a,"parentNode",d)},next:function(a){return cs(a,"nextSibling")},prev:function(a){return cs(a,"previousSibling")},nextAll:function(a){return pe(a,"nextSibling")},prevAll:function(a){return pe(a,"previousSibling")},nextUntil:function(a,l,d){return pe(a,"nextSibling",d)},prevUntil:function(a,l,d){return pe(a,"previousSibling",d)},siblings:function(a){return we((a.parentNode||{}).firstChild,a)},children:function(a){return we(a.firstChild)},contents:function(a){return a.contentDocument!=null&&i(a.contentDocument)?a.contentDocument:(z(a,"template")&&(a=a.content||a),f.merge([],a.childNodes))}},function(a,l){f.fn[a]=function(d,p){var m=f.map(this,l,d);return a.slice(-5)!=="Until"&&(p=d),p&&typeof p=="string"&&(m=f.filter(p,m)),this.length>1&&(ls[a]||f.uniqueSort(m),rr.test(a)&&m.reverse()),this.pushStack(m)}});var wn=/[^\x20\t\r\n\f]+/g;function io(a){var l={};return f.each(a.match(wn)||[],function(d,p){l[p]=!0}),l}f.Callbacks=function(a){a=typeof a=="string"?io(a):f.extend({},a);var l,d,p,m,y=[],_=[],P=-1,R=function(){for(m=m||a.once,p=l=!0;_.length;P=-1)for(d=_.shift();++P<y.length;)y[P].apply(d[0],d[1])===!1&&a.stopOnFalse&&(P=y.length,d=!1);a.memory||(d=!1),l=!1,m&&(d?y=[]:y="")},O={add:function(){return y&&(d&&!l&&(P=y.length-1,_.push(d)),function j(K){f.each(K,function(V,Y){C(Y)?(!a.unique||!O.has(Y))&&y.push(Y):Y&&Y.length&&b(Y)!=="string"&&j(Y)})}(arguments),d&&!l&&R()),this},remove:function(){return f.each(arguments,function(j,K){for(var V;(V=f.inArray(K,y,V))>-1;)y.splice(V,1),V<=P&&P--}),this},has:function(j){return j?f.inArray(j,y)>-1:y.length>0},empty:function(){return y&&(y=[]),this},disable:function(){return m=_=[],y=d="",this},disabled:function(){return!y},lock:function(){return m=_=[],!d&&!l&&(y=d=""),this},locked:function(){return!!m},fireWith:function(j,K){return m||(K=K||[],K=[j,K.slice?K.slice():K],_.push(K),l||R()),this},fire:function(){return O.fireWith(this,arguments),this},fired:function(){return!!p}};return O};function yr(a){return a}function Nn(a){throw a}function hs(a,l,d,p){var m;try{a&&C(m=a.promise)?m.call(a).done(l).fail(d):a&&C(m=a.then)?m.call(a,l,d):l.apply(void 0,[a].slice(p))}catch(y){d.apply(void 0,[y])}}f.extend({Deferred:function(a){var l=[["notify","progress",f.Callbacks("memory"),f.Callbacks("memory"),2],["resolve","done",f.Callbacks("once memory"),f.Callbacks("once memory"),0,"resolved"],["reject","fail",f.Callbacks("once memory"),f.Callbacks("once memory"),1,"rejected"]],d="pending",p={state:function(){return d},always:function(){return m.done(arguments).fail(arguments),this},catch:function(y){return p.then(null,y)},pipe:function(){var y=arguments;return f.Deferred(function(_){f.each(l,function(P,R){var O=C(y[R[4]])&&y[R[4]];m[R[1]](function(){var j=O&&O.apply(this,arguments);j&&C(j.promise)?j.promise().progress(_.notify).done(_.resolve).fail(_.reject):_[R[0]+"With"](this,O?[j]:arguments)})}),y=null}).promise()},then:function(y,_,P){var R=0;function O(j,K,V,Y){return function(){var Ie=this,Ue=arguments,xe=function(){var Pt,vr;if(!(j<R)){if(Pt=V.apply(Ie,Ue),Pt===K.promise())throw new TypeError("Thenable self-resolution");vr=Pt&&(typeof Pt=="object"||typeof Pt=="function")&&Pt.then,C(vr)?Y?vr.call(Pt,O(R,K,yr,Y),O(R,K,Nn,Y)):(R++,vr.call(Pt,O(R,K,yr,Y),O(R,K,Nn,Y),O(R,K,yr,K.notifyWith))):(V!==yr&&(Ie=void 0,Ue=[Pt]),(Y||K.resolveWith)(Ie,Ue))}},Ft=Y?xe:function(){try{xe()}catch(Pt){f.Deferred.exceptionHook&&f.Deferred.exceptionHook(Pt,Ft.error),j+1>=R&&(V!==Nn&&(Ie=void 0,Ue=[Pt]),K.rejectWith(Ie,Ue))}};j?Ft():(f.Deferred.getErrorHook?Ft.error=f.Deferred.getErrorHook():f.Deferred.getStackHook&&(Ft.error=f.Deferred.getStackHook()),e.setTimeout(Ft))}}return f.Deferred(function(j){l[0][3].add(O(0,j,C(P)?P:yr,j.notifyWith)),l[1][3].add(O(0,j,C(y)?y:yr)),l[2][3].add(O(0,j,C(_)?_:Nn))}).promise()},promise:function(y){return y!=null?f.extend(y,p):p}},m={};return f.each(l,function(y,_){var P=_[2],R=_[5];p[_[1]]=P.add,R&&P.add(function(){d=R},l[3-y][2].disable,l[3-y][3].disable,l[0][2].lock,l[0][3].lock),P.add(_[3].fire),m[_[0]]=function(){return m[_[0]+"With"](this===m?void 0:this,arguments),this},m[_[0]+"With"]=P.fireWith}),p.promise(m),a&&a.call(m,m),m},when:function(a){var l=arguments.length,d=l,p=Array(d),m=s.call(arguments),y=f.Deferred(),_=function(P){return function(R){p[P]=this,m[P]=arguments.length>1?s.call(arguments):R,--l||y.resolveWith(p,m)}};if(l<=1&&(hs(a,y.done(_(d)).resolve,y.reject,!l),y.state()==="pending"||C(m[d]&&m[d].then)))return y.then();for(;d--;)hs(m[d],_(d),y.reject);return y.promise()}});var Bl=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;f.Deferred.exceptionHook=function(a,l){e.console&&e.console.warn&&a&&Bl.test(a.name)&&e.console.warn("jQuery.Deferred exception: "+a.message,a.stack,l)},f.readyException=function(a){e.setTimeout(function(){throw a})};var so=f.Deferred();f.fn.ready=function(a){return so.then(a).catch(function(l){f.readyException(l)}),this},f.extend({isReady:!1,readyWait:1,ready:function(a){(a===!0?--f.readyWait:f.isReady)||(f.isReady=!0,!(a!==!0&&--f.readyWait>0)&&so.resolveWith(E,[f]))}}),f.ready.then=so.then;function Ne(){E.removeEventListener("DOMContentLoaded",Ne),e.removeEventListener("load",Ne),f.ready()}E.readyState==="complete"||E.readyState!=="loading"&&!E.documentElement.doScroll?e.setTimeout(f.ready):(E.addEventListener("DOMContentLoaded",Ne),e.addEventListener("load",Ne));var x=function(a,l,d,p,m,y,_){var P=0,R=a.length,O=d==null;if(b(d)==="object"){m=!0;for(P in d)x(a,l,P,d[P],!0,y,_)}else if(p!==void 0&&(m=!0,C(p)||(_=!0),O&&(_?(l.call(a,p),l=null):(O=l,l=function(j,K,V){return O.call(f(j),V)})),l))for(;P<R;P++)l(a[P],d,_?p:p.call(a[P],P,l(a[P],d)));return m?a:O?l.call(a):R?l(a[0],d):y},M=/^-ms-/,B=/-([a-z])/g;function ce(a,l){return l.toUpperCase()}function re(a){return a.replace(M,"ms-").replace(B,ce)}var ee=function(a){return a.nodeType===1||a.nodeType===9||!+a.nodeType};function ge(){this.expando=f.expando+ge.uid++}ge.uid=1,ge.prototype={cache:function(a){var l=a[this.expando];return l||(l={},ee(a)&&(a.nodeType?a[this.expando]=l:Object.defineProperty(a,this.expando,{value:l,configurable:!0}))),l},set:function(a,l,d){var p,m=this.cache(a);if(typeof l=="string")m[re(l)]=d;else for(p in l)m[re(p)]=l[p];return m},get:function(a,l){return l===void 0?this.cache(a):a[this.expando]&&a[this.expando][re(l)]},access:function(a,l,d){return l===void 0||l&&typeof l=="string"&&d===void 0?this.get(a,l):(this.set(a,l,d),d!==void 0?d:l)},remove:function(a,l){var d,p=a[this.expando];if(p!==void 0){if(l!==void 0)for(Array.isArray(l)?l=l.map(re):(l=re(l),l=l in p?[l]:l.match(wn)||[]),d=l.length;d--;)delete p[l[d]];(l===void 0||f.isEmptyObject(p))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var l=a[this.expando];return l!==void 0&&!f.isEmptyObject(l)}};var te=new ge,je=new ge,cn=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,gi=/[A-Z]/g;function ef(a){return a==="true"?!0:a==="false"?!1:a==="null"?null:a===+a+""?+a:cn.test(a)?JSON.parse(a):a}function oo(a,l,d){var p;if(d===void 0&&a.nodeType===1)if(p="data-"+l.replace(gi,"-$&").toLowerCase(),d=a.getAttribute(p),typeof d=="string"){try{d=ef(d)}catch{}je.set(a,l,d)}else d=void 0;return d}f.extend({hasData:function(a){return je.hasData(a)||te.hasData(a)},data:function(a,l,d){return je.access(a,l,d)},removeData:function(a,l){je.remove(a,l)},_data:function(a,l,d){return te.access(a,l,d)},_removeData:function(a,l){te.remove(a,l)}}),f.fn.extend({data:function(a,l){var d,p,m,y=this[0],_=y&&y.attributes;if(a===void 0){if(this.length&&(m=je.get(y),y.nodeType===1&&!te.get(y,"hasDataAttrs"))){for(d=_.length;d--;)_[d]&&(p=_[d].name,p.indexOf("data-")===0&&(p=re(p.slice(5)),oo(y,p,m[p])));te.set(y,"hasDataAttrs",!0)}return m}return typeof a=="object"?this.each(function(){je.set(this,a)}):x(this,function(P){var R;if(y&&P===void 0)return R=je.get(y,a),R!==void 0||(R=oo(y,a),R!==void 0)?R:void 0;this.each(function(){je.set(this,a,P)})},null,l,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){je.remove(this,a)})}}),f.extend({queue:function(a,l,d){var p;if(a)return l=(l||"fx")+"queue",p=te.get(a,l),d&&(!p||Array.isArray(d)?p=te.access(a,l,f.makeArray(d)):p.push(d)),p||[]},dequeue:function(a,l){l=l||"fx";var d=f.queue(a,l),p=d.length,m=d.shift(),y=f._queueHooks(a,l),_=function(){f.dequeue(a,l)};m==="inprogress"&&(m=d.shift(),p--),m&&(l==="fx"&&d.unshift("inprogress"),delete y.stop,m.call(a,_,y)),!p&&y&&y.empty.fire()},_queueHooks:function(a,l){var d=l+"queueHooks";return te.get(a,d)||te.access(a,d,{empty:f.Callbacks("once memory").add(function(){te.remove(a,[l+"queue",d])})})}}),f.fn.extend({queue:function(a,l){var d=2;return typeof a!="string"&&(l=a,a="fx",d--),arguments.length<d?f.queue(this[0],a):l===void 0?this:this.each(function(){var p=f.queue(this,a,l);f._queueHooks(this,a),a==="fx"&&p[0]!=="inprogress"&&f.dequeue(this,a)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,l){var d,p=1,m=f.Deferred(),y=this,_=this.length,P=function(){--p||m.resolveWith(y,[y])};for(typeof a!="string"&&(l=a,a=void 0),a=a||"fx";_--;)d=te.get(y[_],a+"queueHooks"),d&&d.empty&&(p++,d.empty.add(P));return P(),m.promise(l)}});var ao=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ds=new RegExp("^(?:([+-])=|)("+ao+")([a-z%]*)$","i"),qn=["Top","Right","Bottom","Left"],Hr=E.documentElement,Wr=function(a){return f.contains(a.ownerDocument,a)},PC={composed:!0};Hr.getRootNode&&(Wr=function(a){return f.contains(a.ownerDocument,a)||a.getRootNode(PC)===a.ownerDocument});var zl=function(a,l){return a=l||a,a.style.display==="none"||a.style.display===""&&Wr(a)&&f.css(a,"display")==="none"};function Av(a,l,d,p){var m,y,_=20,P=p?function(){return p.cur()}:function(){return f.css(a,l,"")},R=P(),O=d&&d[3]||(f.cssNumber[l]?"":"px"),j=a.nodeType&&(f.cssNumber[l]||O!=="px"&&+R)&&ds.exec(f.css(a,l));if(j&&j[3]!==O){for(R=R/2,O=O||j[3],j=+R||1;_--;)f.style(a,l,j+O),(1-y)*(1-(y=P()/R||.5))<=0&&(_=0),j=j/y;j=j*2,f.style(a,l,j+O),d=d||[]}return d&&(j=+j||+R||0,m=d[1]?j+(d[1]+1)*d[2]:+d[2],p&&(p.unit=O,p.start=j,p.end=m)),m}var Cv={};function xC(a){var l,d=a.ownerDocument,p=a.nodeName,m=Cv[p];return m||(l=d.body.appendChild(d.createElement(p)),m=f.css(l,"display"),l.parentNode.removeChild(l),m==="none"&&(m="block"),Cv[p]=m,m)}function uo(a,l){for(var d,p,m=[],y=0,_=a.length;y<_;y++)p=a[y],p.style&&(d=p.style.display,l?(d==="none"&&(m[y]=te.get(p,"display")||null,m[y]||(p.style.display="")),p.style.display===""&&zl(p)&&(m[y]=xC(p))):d!=="none"&&(m[y]="none",te.set(p,"display",d)));for(y=0;y<_;y++)m[y]!=null&&(a[y].style.display=m[y]);return a}f.fn.extend({show:function(){return uo(this,!0)},hide:function(){return uo(this)},toggle:function(a){return typeof a=="boolean"?a?this.show():this.hide():this.each(function(){zl(this)?f(this).show():f(this).hide()})}});var Ra=/^(?:checkbox|radio)$/i,Rv=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,kv=/^$|^module$|\/(?:java|ecma)script/i;(function(){var a=E.createDocumentFragment(),l=a.appendChild(E.createElement("div")),d=E.createElement("input");d.setAttribute("type","radio"),d.setAttribute("checked","checked"),d.setAttribute("name","t"),l.appendChild(d),S.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,l.innerHTML="<textarea>x</textarea>",S.noCloneChecked=!!l.cloneNode(!0).lastChild.defaultValue,l.innerHTML="<option></option>",S.option=!!l.lastChild})();var Hn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Hn.tbody=Hn.tfoot=Hn.colgroup=Hn.caption=Hn.thead,Hn.th=Hn.td,S.option||(Hn.optgroup=Hn.option=[1,"<select multiple='multiple'>","</select>"]);function En(a,l){var d;return typeof a.getElementsByTagName<"u"?d=a.getElementsByTagName(l||"*"):typeof a.querySelectorAll<"u"?d=a.querySelectorAll(l||"*"):d=[],l===void 0||l&&z(a,l)?f.merge([a],d):d}function tf(a,l){for(var d=0,p=a.length;d<p;d++)te.set(a[d],"globalEval",!l||te.get(l[d],"globalEval"))}var NC=/<|&#?\w+;/;function Pv(a,l,d,p,m){for(var y,_,P,R,O,j,K=l.createDocumentFragment(),V=[],Y=0,Ie=a.length;Y<Ie;Y++)if(y=a[Y],y||y===0)if(b(y)==="object")f.merge(V,y.nodeType?[y]:y);else if(!NC.test(y))V.push(l.createTextNode(y));else{for(_=_||K.appendChild(l.createElement("div")),P=(Rv.exec(y)||["",""])[1].toLowerCase(),R=Hn[P]||Hn._default,_.innerHTML=R[1]+f.htmlPrefilter(y)+R[2],j=R[0];j--;)_=_.lastChild;f.merge(V,_.childNodes),_=K.firstChild,_.textContent=""}for(K.textContent="",Y=0;y=V[Y++];){if(p&&f.inArray(y,p)>-1){m&&m.push(y);continue}if(O=Wr(y),_=En(K.appendChild(y),"script"),O&&tf(_),d)for(j=0;y=_[j++];)kv.test(y.type||"")&&d.push(y)}return K}var xv=/^([^.]*)(?:\.(.+)|)/;function lo(){return!0}function co(){return!1}function nf(a,l,d,p,m,y){var _,P;if(typeof l=="object"){typeof d!="string"&&(p=p||d,d=void 0);for(P in l)nf(a,P,d,p,l[P],y);return a}if(p==null&&m==null?(m=d,p=d=void 0):m==null&&(typeof d=="string"?(m=p,p=void 0):(m=p,p=d,d=void 0)),m===!1)m=co;else if(!m)return a;return y===1&&(_=m,m=function(R){return f().off(R),_.apply(this,arguments)},m.guid=_.guid||(_.guid=f.guid++)),a.each(function(){f.event.add(this,l,m,p,d)})}f.event={global:{},add:function(a,l,d,p,m){var y,_,P,R,O,j,K,V,Y,Ie,Ue,xe=te.get(a);if(ee(a))for(d.handler&&(y=d,d=y.handler,m=y.selector),m&&f.find.matchesSelector(Hr,m),d.guid||(d.guid=f.guid++),(R=xe.events)||(R=xe.events=Object.create(null)),(_=xe.handle)||(_=xe.handle=function(Ft){return typeof f<"u"&&f.event.triggered!==Ft.type?f.event.dispatch.apply(a,arguments):void 0}),l=(l||"").match(wn)||[""],O=l.length;O--;)P=xv.exec(l[O])||[],Y=Ue=P[1],Ie=(P[2]||"").split(".").sort(),Y&&(K=f.event.special[Y]||{},Y=(m?K.delegateType:K.bindType)||Y,K=f.event.special[Y]||{},j=f.extend({type:Y,origType:Ue,data:p,handler:d,guid:d.guid,selector:m,needsContext:m&&f.expr.match.needsContext.test(m),namespace:Ie.join(".")},y),(V=R[Y])||(V=R[Y]=[],V.delegateCount=0,(!K.setup||K.setup.call(a,p,Ie,_)===!1)&&a.addEventListener&&a.addEventListener(Y,_)),K.add&&(K.add.call(a,j),j.handler.guid||(j.handler.guid=d.guid)),m?V.splice(V.delegateCount++,0,j):V.push(j),f.event.global[Y]=!0)},remove:function(a,l,d,p,m){var y,_,P,R,O,j,K,V,Y,Ie,Ue,xe=te.hasData(a)&&te.get(a);if(!(!xe||!(R=xe.events))){for(l=(l||"").match(wn)||[""],O=l.length;O--;){if(P=xv.exec(l[O])||[],Y=Ue=P[1],Ie=(P[2]||"").split(".").sort(),!Y){for(Y in R)f.event.remove(a,Y+l[O],d,p,!0);continue}for(K=f.event.special[Y]||{},Y=(p?K.delegateType:K.bindType)||Y,V=R[Y]||[],P=P[2]&&new RegExp("(^|\\.)"+Ie.join("\\.(?:.*\\.|)")+"(\\.|$)"),_=y=V.length;y--;)j=V[y],(m||Ue===j.origType)&&(!d||d.guid===j.guid)&&(!P||P.test(j.namespace))&&(!p||p===j.selector||p==="**"&&j.selector)&&(V.splice(y,1),j.selector&&V.delegateCount--,K.remove&&K.remove.call(a,j));_&&!V.length&&((!K.teardown||K.teardown.call(a,Ie,xe.handle)===!1)&&f.removeEvent(a,Y,xe.handle),delete R[Y])}f.isEmptyObject(R)&&te.remove(a,"handle events")}},dispatch:function(a){var l,d,p,m,y,_,P=new Array(arguments.length),R=f.event.fix(a),O=(te.get(this,"events")||Object.create(null))[R.type]||[],j=f.event.special[R.type]||{};for(P[0]=R,l=1;l<arguments.length;l++)P[l]=arguments[l];if(R.delegateTarget=this,!(j.preDispatch&&j.preDispatch.call(this,R)===!1)){for(_=f.event.handlers.call(this,R,O),l=0;(m=_[l++])&&!R.isPropagationStopped();)for(R.currentTarget=m.elem,d=0;(y=m.handlers[d++])&&!R.isImmediatePropagationStopped();)(!R.rnamespace||y.namespace===!1||R.rnamespace.test(y.namespace))&&(R.handleObj=y,R.data=y.data,p=((f.event.special[y.origType]||{}).handle||y.handler).apply(m.elem,P),p!==void 0&&(R.result=p)===!1&&(R.preventDefault(),R.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,R),R.result}},handlers:function(a,l){var d,p,m,y,_,P=[],R=l.delegateCount,O=a.target;if(R&&O.nodeType&&!(a.type==="click"&&a.button>=1)){for(;O!==this;O=O.parentNode||this)if(O.nodeType===1&&!(a.type==="click"&&O.disabled===!0)){for(y=[],_={},d=0;d<R;d++)p=l[d],m=p.selector+" ",_[m]===void 0&&(_[m]=p.needsContext?f(m,this).index(O)>-1:f.find(m,this,null,[O]).length),_[m]&&y.push(p);y.length&&P.push({elem:O,handlers:y})}}return O=this,R<l.length&&P.push({elem:O,handlers:l.slice(R)}),P},addProp:function(a,l){Object.defineProperty(f.Event.prototype,a,{enumerable:!0,configurable:!0,get:C(l)?function(){if(this.originalEvent)return l(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(d){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:d})}})},fix:function(a){return a[f.expando]?a:new f.Event(a)},special:{load:{noBubble:!0},click:{setup:function(a){var l=this||a;return Ra.test(l.type)&&l.click&&z(l,"input")&&ql(l,"click",!0),!1},trigger:function(a){var l=this||a;return Ra.test(l.type)&&l.click&&z(l,"input")&&ql(l,"click"),!0},_default:function(a){var l=a.target;return Ra.test(l.type)&&l.click&&z(l,"input")&&te.get(l,"click")||z(l,"a")}},beforeunload:{postDispatch:function(a){a.result!==void 0&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}};function ql(a,l,d){if(!d){te.get(a,l)===void 0&&f.event.add(a,l,lo);return}te.set(a,l,!1),f.event.add(a,l,{namespace:!1,handler:function(p){var m,y=te.get(this,l);if(p.isTrigger&1&&this[l]){if(y)(f.event.special[l]||{}).delegateType&&p.stopPropagation();else if(y=s.call(arguments),te.set(this,l,y),this[l](),m=te.get(this,l),te.set(this,l,!1),y!==m)return p.stopImmediatePropagation(),p.preventDefault(),m}else y&&(te.set(this,l,f.event.trigger(y[0],y.slice(1),this)),p.stopPropagation(),p.isImmediatePropagationStopped=lo)}})}f.removeEvent=function(a,l,d){a.removeEventListener&&a.removeEventListener(l,d)},f.Event=function(a,l){if(!(this instanceof f.Event))return new f.Event(a,l);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.defaultPrevented===void 0&&a.returnValue===!1?lo:co,this.target=a.target&&a.target.nodeType===3?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a,l&&f.extend(this,l),this.timeStamp=a&&a.timeStamp||Date.now(),this[f.expando]=!0},f.Event.prototype={constructor:f.Event,isDefaultPrevented:co,isPropagationStopped:co,isImmediatePropagationStopped:co,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=lo,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=lo,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=lo,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},f.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},f.event.addProp),f.each({focus:"focusin",blur:"focusout"},function(a,l){function d(p){if(E.documentMode){var m=te.get(this,"handle"),y=f.event.fix(p);y.type=p.type==="focusin"?"focus":"blur",y.isSimulated=!0,m(p),y.target===y.currentTarget&&m(y)}else f.event.simulate(l,p.target,f.event.fix(p))}f.event.special[a]={setup:function(){var p;if(ql(this,a,!0),E.documentMode)p=te.get(this,l),p||this.addEventListener(l,d),te.set(this,l,(p||0)+1);else return!1},trigger:function(){return ql(this,a),!0},teardown:function(){var p;if(E.documentMode)p=te.get(this,l)-1,p?te.set(this,l,p):(this.removeEventListener(l,d),te.remove(this,l));else return!1},_default:function(p){return te.get(p.target,a)},delegateType:l},f.event.special[l]={setup:function(){var p=this.ownerDocument||this.document||this,m=E.documentMode?this:p,y=te.get(m,l);y||(E.documentMode?this.addEventListener(l,d):p.addEventListener(a,d,!0)),te.set(m,l,(y||0)+1)},teardown:function(){var p=this.ownerDocument||this.document||this,m=E.documentMode?this:p,y=te.get(m,l)-1;y?te.set(m,l,y):(E.documentMode?this.removeEventListener(l,d):p.removeEventListener(a,d,!0),te.remove(m,l))}}}),f.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,l){f.event.special[a]={delegateType:l,bindType:l,handle:function(d){var p,m=this,y=d.relatedTarget,_=d.handleObj;return(!y||y!==m&&!f.contains(m,y))&&(d.type=_.origType,p=_.handler.apply(this,arguments),d.type=l),p}}}),f.fn.extend({on:function(a,l,d,p){return nf(this,a,l,d,p)},one:function(a,l,d,p){return nf(this,a,l,d,p,1)},off:function(a,l,d){var p,m;if(a&&a.preventDefault&&a.handleObj)return p=a.handleObj,f(a.delegateTarget).off(p.namespace?p.origType+"."+p.namespace:p.origType,p.selector,p.handler),this;if(typeof a=="object"){for(m in a)this.off(m,l,a[m]);return this}return(l===!1||typeof l=="function")&&(d=l,l=void 0),d===!1&&(d=co),this.each(function(){f.event.remove(this,a,d,l)})}});var DC=/<script|<style|<link/i,OC=/checked\s*(?:[^=]|=\s*.checked.)/i,bC=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Nv(a,l){return z(a,"table")&&z(l.nodeType!==11?l:l.firstChild,"tr")&&f(a).children("tbody")[0]||a}function LC(a){return a.type=(a.getAttribute("type")!==null)+"/"+a.type,a}function VC(a){return(a.type||"").slice(0,5)==="true/"?a.type=a.type.slice(5):a.removeAttribute("type"),a}function Dv(a,l){var d,p,m,y,_,P,R;if(l.nodeType===1){if(te.hasData(a)&&(y=te.get(a),R=y.events,R)){te.remove(l,"handle events");for(m in R)for(d=0,p=R[m].length;d<p;d++)f.event.add(l,m,R[m][d])}je.hasData(a)&&(_=je.access(a),P=f.extend({},_),je.set(l,P))}}function MC(a,l){var d=l.nodeName.toLowerCase();d==="input"&&Ra.test(a.type)?l.checked=a.checked:(d==="input"||d==="textarea")&&(l.defaultValue=a.defaultValue)}function ho(a,l,d,p){l=o(l);var m,y,_,P,R,O,j=0,K=a.length,V=K-1,Y=l[0],Ie=C(Y);if(Ie||K>1&&typeof Y=="string"&&!S.checkClone&&OC.test(Y))return a.each(function(Ue){var xe=a.eq(Ue);Ie&&(l[0]=Y.call(this,Ue,xe.html())),ho(xe,l,d,p)});if(K&&(m=Pv(l,a[0].ownerDocument,!1,a,p),y=m.firstChild,m.childNodes.length===1&&(m=y),y||p)){for(_=f.map(En(m,"script"),LC),P=_.length;j<K;j++)R=m,j!==V&&(R=f.clone(R,!0,!0),P&&f.merge(_,En(R,"script"))),d.call(a[j],R,j);if(P)for(O=_[_.length-1].ownerDocument,f.map(_,VC),j=0;j<P;j++)R=_[j],kv.test(R.type||"")&&!te.access(R,"globalEval")&&f.contains(O,R)&&(R.src&&(R.type||"").toLowerCase()!=="module"?f._evalUrl&&!R.noModule&&f._evalUrl(R.src,{nonce:R.nonce||R.getAttribute("nonce")},O):k(R.textContent.replace(bC,""),R,O))}return a}function Ov(a,l,d){for(var p,m=l?f.filter(l,a):a,y=0;(p=m[y])!=null;y++)!d&&p.nodeType===1&&f.cleanData(En(p)),p.parentNode&&(d&&Wr(p)&&tf(En(p,"script")),p.parentNode.removeChild(p));return a}f.extend({htmlPrefilter:function(a){return a},clone:function(a,l,d){var p,m,y,_,P=a.cloneNode(!0),R=Wr(a);if(!S.noCloneChecked&&(a.nodeType===1||a.nodeType===11)&&!f.isXMLDoc(a))for(_=En(P),y=En(a),p=0,m=y.length;p<m;p++)MC(y[p],_[p]);if(l)if(d)for(y=y||En(a),_=_||En(P),p=0,m=y.length;p<m;p++)Dv(y[p],_[p]);else Dv(a,P);return _=En(P,"script"),_.length>0&&tf(_,!R&&En(a,"script")),P},cleanData:function(a){for(var l,d,p,m=f.event.special,y=0;(d=a[y])!==void 0;y++)if(ee(d)){if(l=d[te.expando]){if(l.events)for(p in l.events)m[p]?f.event.remove(d,p):f.removeEvent(d,p,l.handle);d[te.expando]=void 0}d[je.expando]&&(d[je.expando]=void 0)}}}),f.fn.extend({detach:function(a){return Ov(this,a,!0)},remove:function(a){return Ov(this,a)},text:function(a){return x(this,function(l){return l===void 0?f.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=l)})},null,a,arguments.length)},append:function(){return ho(this,arguments,function(a){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var l=Nv(this,a);l.appendChild(a)}})},prepend:function(){return ho(this,arguments,function(a){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var l=Nv(this,a);l.insertBefore(a,l.firstChild)}})},before:function(){return ho(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return ho(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,l=0;(a=this[l])!=null;l++)a.nodeType===1&&(f.cleanData(En(a,!1)),a.textContent="");return this},clone:function(a,l){return a=a??!1,l=l??a,this.map(function(){return f.clone(this,a,l)})},html:function(a){return x(this,function(l){var d=this[0]||{},p=0,m=this.length;if(l===void 0&&d.nodeType===1)return d.innerHTML;if(typeof l=="string"&&!DC.test(l)&&!Hn[(Rv.exec(l)||["",""])[1].toLowerCase()]){l=f.htmlPrefilter(l);try{for(;p<m;p++)d=this[p]||{},d.nodeType===1&&(f.cleanData(En(d,!1)),d.innerHTML=l);d=0}catch{}}d&&this.empty().append(l)},null,a,arguments.length)},replaceWith:function(){var a=[];return ho(this,arguments,function(l){var d=this.parentNode;f.inArray(this,a)<0&&(f.cleanData(En(this)),d&&d.replaceChild(l,this))},a)}}),f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,l){f.fn[a]=function(d){for(var p,m=[],y=f(d),_=y.length-1,P=0;P<=_;P++)p=P===_?this:this.clone(!0),f(y[P])[l](p),u.apply(m,p.get());return this.pushStack(m)}});var rf=new RegExp("^("+ao+")(?!px)[a-z%]+$","i"),sf=/^--/,Hl=function(a){var l=a.ownerDocument.defaultView;return(!l||!l.opener)&&(l=e),l.getComputedStyle(a)},bv=function(a,l,d){var p,m,y={};for(m in l)y[m]=a.style[m],a.style[m]=l[m];p=d.call(a);for(m in l)a.style[m]=y[m];return p},UC=new RegExp(qn.join("|"),"i");(function(){function a(){if(O){R.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",O.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Hr.appendChild(R).appendChild(O);var j=e.getComputedStyle(O);d=j.top!=="1%",P=l(j.marginLeft)===12,O.style.right="60%",y=l(j.right)===36,p=l(j.width)===36,O.style.position="absolute",m=l(O.offsetWidth/3)===12,Hr.removeChild(R),O=null}}function l(j){return Math.round(parseFloat(j))}var d,p,m,y,_,P,R=E.createElement("div"),O=E.createElement("div");O.style&&(O.style.backgroundClip="content-box",O.cloneNode(!0).style.backgroundClip="",S.clearCloneStyle=O.style.backgroundClip==="content-box",f.extend(S,{boxSizingReliable:function(){return a(),p},pixelBoxStyles:function(){return a(),y},pixelPosition:function(){return a(),d},reliableMarginLeft:function(){return a(),P},scrollboxSize:function(){return a(),m},reliableTrDimensions:function(){var j,K,V,Y;return _==null&&(j=E.createElement("table"),K=E.createElement("tr"),V=E.createElement("div"),j.style.cssText="position:absolute;left:-11111px;border-collapse:separate",K.style.cssText="box-sizing:content-box;border:1px solid",K.style.height="1px",V.style.height="9px",V.style.display="block",Hr.appendChild(j).appendChild(K).appendChild(V),Y=e.getComputedStyle(K),_=parseInt(Y.height,10)+parseInt(Y.borderTopWidth,10)+parseInt(Y.borderBottomWidth,10)===K.offsetHeight,Hr.removeChild(j)),_}}))})();function ka(a,l,d){var p,m,y,_,P=sf.test(l),R=a.style;return d=d||Hl(a),d&&(_=d.getPropertyValue(l)||d[l],P&&_&&(_=_.replace(qe,"$1")||void 0),_===""&&!Wr(a)&&(_=f.style(a,l)),!S.pixelBoxStyles()&&rf.test(_)&&UC.test(l)&&(p=R.width,m=R.minWidth,y=R.maxWidth,R.minWidth=R.maxWidth=R.width=_,_=d.width,R.width=p,R.minWidth=m,R.maxWidth=y)),_!==void 0?_+"":_}function Lv(a,l){return{get:function(){if(a()){delete this.get;return}return(this.get=l).apply(this,arguments)}}}var Vv=["Webkit","Moz","ms"],Mv=E.createElement("div").style,Uv={};function FC(a){for(var l=a[0].toUpperCase()+a.slice(1),d=Vv.length;d--;)if(a=Vv[d]+l,a in Mv)return a}function of(a){var l=f.cssProps[a]||Uv[a];return l||(a in Mv?a:Uv[a]=FC(a)||a)}var jC=/^(none|table(?!-c[ea]).+)/,$C={position:"absolute",visibility:"hidden",display:"block"},Fv={letterSpacing:"0",fontWeight:"400"};function jv(a,l,d){var p=ds.exec(l);return p?Math.max(0,p[2]-(d||0))+(p[3]||"px"):l}function af(a,l,d,p,m,y){var _=l==="width"?1:0,P=0,R=0,O=0;if(d===(p?"border":"content"))return 0;for(;_<4;_+=2)d==="margin"&&(O+=f.css(a,d+qn[_],!0,m)),p?(d==="content"&&(R-=f.css(a,"padding"+qn[_],!0,m)),d!=="margin"&&(R-=f.css(a,"border"+qn[_]+"Width",!0,m))):(R+=f.css(a,"padding"+qn[_],!0,m),d!=="padding"?R+=f.css(a,"border"+qn[_]+"Width",!0,m):P+=f.css(a,"border"+qn[_]+"Width",!0,m));return!p&&y>=0&&(R+=Math.max(0,Math.ceil(a["offset"+l[0].toUpperCase()+l.slice(1)]-y-R-P-.5))||0),R+O}function $v(a,l,d){var p=Hl(a),m=!S.boxSizingReliable()||d,y=m&&f.css(a,"boxSizing",!1,p)==="border-box",_=y,P=ka(a,l,p),R="offset"+l[0].toUpperCase()+l.slice(1);if(rf.test(P)){if(!d)return P;P="auto"}return(!S.boxSizingReliable()&&y||!S.reliableTrDimensions()&&z(a,"tr")||P==="auto"||!parseFloat(P)&&f.css(a,"display",!1,p)==="inline")&&a.getClientRects().length&&(y=f.css(a,"boxSizing",!1,p)==="border-box",_=R in a,_&&(P=a[R])),P=parseFloat(P)||0,P+af(a,l,d||(y?"border":"content"),_,p,P)+"px"}f.extend({cssHooks:{opacity:{get:function(a,l){if(l){var d=ka(a,"opacity");return d===""?"1":d}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(a,l,d,p){if(!(!a||a.nodeType===3||a.nodeType===8||!a.style)){var m,y,_,P=re(l),R=sf.test(l),O=a.style;if(R||(l=of(P)),_=f.cssHooks[l]||f.cssHooks[P],d!==void 0){if(y=typeof d,y==="string"&&(m=ds.exec(d))&&m[1]&&(d=Av(a,l,m),y="number"),d==null||d!==d)return;y==="number"&&!R&&(d+=m&&m[3]||(f.cssNumber[P]?"":"px")),!S.clearCloneStyle&&d===""&&l.indexOf("background")===0&&(O[l]="inherit"),(!_||!("set"in _)||(d=_.set(a,d,p))!==void 0)&&(R?O.setProperty(l,d):O[l]=d)}else return _&&"get"in _&&(m=_.get(a,!1,p))!==void 0?m:O[l]}},css:function(a,l,d,p){var m,y,_,P=re(l),R=sf.test(l);return R||(l=of(P)),_=f.cssHooks[l]||f.cssHooks[P],_&&"get"in _&&(m=_.get(a,!0,d)),m===void 0&&(m=ka(a,l,p)),m==="normal"&&l in Fv&&(m=Fv[l]),d===""||d?(y=parseFloat(m),d===!0||isFinite(y)?y||0:m):m}}),f.each(["height","width"],function(a,l){f.cssHooks[l]={get:function(d,p,m){if(p)return jC.test(f.css(d,"display"))&&(!d.getClientRects().length||!d.getBoundingClientRect().width)?bv(d,$C,function(){return $v(d,l,m)}):$v(d,l,m)},set:function(d,p,m){var y,_=Hl(d),P=!S.scrollboxSize()&&_.position==="absolute",R=P||m,O=R&&f.css(d,"boxSizing",!1,_)==="border-box",j=m?af(d,l,m,O,_):0;return O&&P&&(j-=Math.ceil(d["offset"+l[0].toUpperCase()+l.slice(1)]-parseFloat(_[l])-af(d,l,"border",!1,_)-.5)),j&&(y=ds.exec(p))&&(y[3]||"px")!=="px"&&(d.style[l]=p,p=f.css(d,l)),jv(d,p,j)}}}),f.cssHooks.marginLeft=Lv(S.reliableMarginLeft,function(a,l){if(l)return(parseFloat(ka(a,"marginLeft"))||a.getBoundingClientRect().left-bv(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"}),f.each({margin:"",padding:"",border:"Width"},function(a,l){f.cssHooks[a+l]={expand:function(d){for(var p=0,m={},y=typeof d=="string"?d.split(" "):[d];p<4;p++)m[a+qn[p]+l]=y[p]||y[p-2]||y[0];return m}},a!=="margin"&&(f.cssHooks[a+l].set=jv)}),f.fn.extend({css:function(a,l){return x(this,function(d,p,m){var y,_,P={},R=0;if(Array.isArray(p)){for(y=Hl(d),_=p.length;R<_;R++)P[p[R]]=f.css(d,p[R],!1,y);return P}return m!==void 0?f.style(d,p,m):f.css(d,p)},a,l,arguments.length>1)}});function Tn(a,l,d,p,m){return new Tn.prototype.init(a,l,d,p,m)}f.Tween=Tn,Tn.prototype={constructor:Tn,init:function(a,l,d,p,m,y){this.elem=a,this.prop=d,this.easing=m||f.easing._default,this.options=l,this.start=this.now=this.cur(),this.end=p,this.unit=y||(f.cssNumber[d]?"":"px")},cur:function(){var a=Tn.propHooks[this.prop];return a&&a.get?a.get(this):Tn.propHooks._default.get(this)},run:function(a){var l,d=Tn.propHooks[this.prop];return this.options.duration?this.pos=l=f.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=l=a,this.now=(this.end-this.start)*l+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),d&&d.set?d.set(this):Tn.propHooks._default.set(this),this}},Tn.prototype.init.prototype=Tn.prototype,Tn.propHooks={_default:{get:function(a){var l;return a.elem.nodeType!==1||a.elem[a.prop]!=null&&a.elem.style[a.prop]==null?a.elem[a.prop]:(l=f.css(a.elem,a.prop,""),!l||l==="auto"?0:l)},set:function(a){f.fx.step[a.prop]?f.fx.step[a.prop](a):a.elem.nodeType===1&&(f.cssHooks[a.prop]||a.elem.style[of(a.prop)]!=null)?f.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Tn.propHooks.scrollTop=Tn.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},f.easing={linear:function(a){return a},swing:function(a){return .5-Math.cos(a*Math.PI)/2},_default:"swing"},f.fx=Tn.prototype.init,f.fx.step={};var fo,Wl,BC=/^(?:toggle|show|hide)$/,zC=/queueHooks$/;function uf(){Wl&&(E.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(uf):e.setTimeout(uf,f.fx.interval),f.fx.tick())}function Bv(){return e.setTimeout(function(){fo=void 0}),fo=Date.now()}function Kl(a,l){var d,p=0,m={height:a};for(l=l?1:0;p<4;p+=2-l)d=qn[p],m["margin"+d]=m["padding"+d]=a;return l&&(m.opacity=m.width=a),m}function zv(a,l,d){for(var p,m=(ir.tweeners[l]||[]).concat(ir.tweeners["*"]),y=0,_=m.length;y<_;y++)if(p=m[y].call(d,l,a))return p}function qC(a,l,d){var p,m,y,_,P,R,O,j,K="width"in l||"height"in l,V=this,Y={},Ie=a.style,Ue=a.nodeType&&zl(a),xe=te.get(a,"fxshow");d.queue||(_=f._queueHooks(a,"fx"),_.unqueued==null&&(_.unqueued=0,P=_.empty.fire,_.empty.fire=function(){_.unqueued||P()}),_.unqueued++,V.always(function(){V.always(function(){_.unqueued--,f.queue(a,"fx").length||_.empty.fire()})}));for(p in l)if(m=l[p],BC.test(m)){if(delete l[p],y=y||m==="toggle",m===(Ue?"hide":"show"))if(m==="show"&&xe&&xe[p]!==void 0)Ue=!0;else continue;Y[p]=xe&&xe[p]||f.style(a,p)}if(R=!f.isEmptyObject(l),!(!R&&f.isEmptyObject(Y))){K&&a.nodeType===1&&(d.overflow=[Ie.overflow,Ie.overflowX,Ie.overflowY],O=xe&&xe.display,O==null&&(O=te.get(a,"display")),j=f.css(a,"display"),j==="none"&&(O?j=O:(uo([a],!0),O=a.style.display||O,j=f.css(a,"display"),uo([a]))),(j==="inline"||j==="inline-block"&&O!=null)&&f.css(a,"float")==="none"&&(R||(V.done(function(){Ie.display=O}),O==null&&(j=Ie.display,O=j==="none"?"":j)),Ie.display="inline-block")),d.overflow&&(Ie.overflow="hidden",V.always(function(){Ie.overflow=d.overflow[0],Ie.overflowX=d.overflow[1],Ie.overflowY=d.overflow[2]})),R=!1;for(p in Y)R||(xe?"hidden"in xe&&(Ue=xe.hidden):xe=te.access(a,"fxshow",{display:O}),y&&(xe.hidden=!Ue),Ue&&uo([a],!0),V.done(function(){Ue||uo([a]),te.remove(a,"fxshow");for(p in Y)f.style(a,p,Y[p])})),R=zv(Ue?xe[p]:0,p,V),p in xe||(xe[p]=R.start,Ue&&(R.end=R.start,R.start=0))}}function HC(a,l){var d,p,m,y,_;for(d in a)if(p=re(d),m=l[p],y=a[d],Array.isArray(y)&&(m=y[1],y=a[d]=y[0]),d!==p&&(a[p]=y,delete a[d]),_=f.cssHooks[p],_&&"expand"in _){y=_.expand(y),delete a[p];for(d in y)d in a||(a[d]=y[d],l[d]=m)}else l[p]=m}function ir(a,l,d){var p,m,y=0,_=ir.prefilters.length,P=f.Deferred().always(function(){delete R.elem}),R=function(){if(m)return!1;for(var K=fo||Bv(),V=Math.max(0,O.startTime+O.duration-K),Y=V/O.duration||0,Ie=1-Y,Ue=0,xe=O.tweens.length;Ue<xe;Ue++)O.tweens[Ue].run(Ie);return P.notifyWith(a,[O,Ie,V]),Ie<1&&xe?V:(xe||P.notifyWith(a,[O,1,0]),P.resolveWith(a,[O]),!1)},O=P.promise({elem:a,props:f.extend({},l),opts:f.extend(!0,{specialEasing:{},easing:f.easing._default},d),originalProperties:l,originalOptions:d,startTime:fo||Bv(),duration:d.duration,tweens:[],createTween:function(K,V){var Y=f.Tween(a,O.opts,K,V,O.opts.specialEasing[K]||O.opts.easing);return O.tweens.push(Y),Y},stop:function(K){var V=0,Y=K?O.tweens.length:0;if(m)return this;for(m=!0;V<Y;V++)O.tweens[V].run(1);return K?(P.notifyWith(a,[O,1,0]),P.resolveWith(a,[O,K])):P.rejectWith(a,[O,K]),this}}),j=O.props;for(HC(j,O.opts.specialEasing);y<_;y++)if(p=ir.prefilters[y].call(O,a,j,O.opts),p)return C(p.stop)&&(f._queueHooks(O.elem,O.opts.queue).stop=p.stop.bind(p)),p;return f.map(j,zv,O),C(O.opts.start)&&O.opts.start.call(a,O),O.progress(O.opts.progress).done(O.opts.done,O.opts.complete).fail(O.opts.fail).always(O.opts.always),f.fx.timer(f.extend(R,{elem:a,anim:O,queue:O.opts.queue})),O}f.Animation=f.extend(ir,{tweeners:{"*":[function(a,l){var d=this.createTween(a,l);return Av(d.elem,a,ds.exec(l),d),d}]},tweener:function(a,l){C(a)?(l=a,a=["*"]):a=a.match(wn);for(var d,p=0,m=a.length;p<m;p++)d=a[p],ir.tweeners[d]=ir.tweeners[d]||[],ir.tweeners[d].unshift(l)},prefilters:[qC],prefilter:function(a,l){l?ir.prefilters.unshift(a):ir.prefilters.push(a)}}),f.speed=function(a,l,d){var p=a&&typeof a=="object"?f.extend({},a):{complete:d||!d&&l||C(a)&&a,duration:a,easing:d&&l||l&&!C(l)&&l};return f.fx.off?p.duration=0:typeof p.duration!="number"&&(p.duration in f.fx.speeds?p.duration=f.fx.speeds[p.duration]:p.duration=f.fx.speeds._default),(p.queue==null||p.queue===!0)&&(p.queue="fx"),p.old=p.complete,p.complete=function(){C(p.old)&&p.old.call(this),p.queue&&f.dequeue(this,p.queue)},p},f.fn.extend({fadeTo:function(a,l,d,p){return this.filter(zl).css("opacity",0).show().end().animate({opacity:l},a,d,p)},animate:function(a,l,d,p){var m=f.isEmptyObject(a),y=f.speed(l,d,p),_=function(){var P=ir(this,f.extend({},a),y);(m||te.get(this,"finish"))&&P.stop(!0)};return _.finish=_,m||y.queue===!1?this.each(_):this.queue(y.queue,_)},stop:function(a,l,d){var p=function(m){var y=m.stop;delete m.stop,y(d)};return typeof a!="string"&&(d=l,l=a,a=void 0),l&&this.queue(a||"fx",[]),this.each(function(){var m=!0,y=a!=null&&a+"queueHooks",_=f.timers,P=te.get(this);if(y)P[y]&&P[y].stop&&p(P[y]);else for(y in P)P[y]&&P[y].stop&&zC.test(y)&&p(P[y]);for(y=_.length;y--;)_[y].elem===this&&(a==null||_[y].queue===a)&&(_[y].anim.stop(d),m=!1,_.splice(y,1));(m||!d)&&f.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var l,d=te.get(this),p=d[a+"queue"],m=d[a+"queueHooks"],y=f.timers,_=p?p.length:0;for(d.finish=!0,f.queue(this,a,[]),m&&m.stop&&m.stop.call(this,!0),l=y.length;l--;)y[l].elem===this&&y[l].queue===a&&(y[l].anim.stop(!0),y.splice(l,1));for(l=0;l<_;l++)p[l]&&p[l].finish&&p[l].finish.call(this);delete d.finish})}}),f.each(["toggle","show","hide"],function(a,l){var d=f.fn[l];f.fn[l]=function(p,m,y){return p==null||typeof p=="boolean"?d.apply(this,arguments):this.animate(Kl(l,!0),p,m,y)}}),f.each({slideDown:Kl("show"),slideUp:Kl("hide"),slideToggle:Kl("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,l){f.fn[a]=function(d,p,m){return this.animate(l,d,p,m)}}),f.timers=[],f.fx.tick=function(){var a,l=0,d=f.timers;for(fo=Date.now();l<d.length;l++)a=d[l],!a()&&d[l]===a&&d.splice(l--,1);d.length||f.fx.stop(),fo=void 0},f.fx.timer=function(a){f.timers.push(a),f.fx.start()},f.fx.interval=13,f.fx.start=function(){Wl||(Wl=!0,uf())},f.fx.stop=function(){Wl=null},f.fx.speeds={slow:600,fast:200,_default:400},f.fn.delay=function(a,l){return a=f.fx&&f.fx.speeds[a]||a,l=l||"fx",this.queue(l,function(d,p){var m=e.setTimeout(d,a);p.stop=function(){e.clearTimeout(m)}})},function(){var a=E.createElement("input"),l=E.createElement("select"),d=l.appendChild(E.createElement("option"));a.type="checkbox",S.checkOn=a.value!=="",S.optSelected=d.selected,a=E.createElement("input"),a.value="t",a.type="radio",S.radioValue=a.value==="t"}();var qv,Pa=f.expr.attrHandle;f.fn.extend({attr:function(a,l){return x(this,f.attr,a,l,arguments.length>1)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})}}),f.extend({attr:function(a,l,d){var p,m,y=a.nodeType;if(!(y===3||y===8||y===2)){if(typeof a.getAttribute>"u")return f.prop(a,l,d);if((y!==1||!f.isXMLDoc(a))&&(m=f.attrHooks[l.toLowerCase()]||(f.expr.match.bool.test(l)?qv:void 0)),d!==void 0){if(d===null){f.removeAttr(a,l);return}return m&&"set"in m&&(p=m.set(a,d,l))!==void 0?p:(a.setAttribute(l,d+""),d)}return m&&"get"in m&&(p=m.get(a,l))!==null?p:(p=f.find.attr(a,l),p??void 0)}},attrHooks:{type:{set:function(a,l){if(!S.radioValue&&l==="radio"&&z(a,"input")){var d=a.value;return a.setAttribute("type",l),d&&(a.value=d),l}}}},removeAttr:function(a,l){var d,p=0,m=l&&l.match(wn);if(m&&a.nodeType===1)for(;d=m[p++];)a.removeAttribute(d)}}),qv={set:function(a,l,d){return l===!1?f.removeAttr(a,d):a.setAttribute(d,d),d}},f.each(f.expr.match.bool.source.match(/\w+/g),function(a,l){var d=Pa[l]||f.find.attr;Pa[l]=function(p,m,y){var _,P,R=m.toLowerCase();return y||(P=Pa[R],Pa[R]=_,_=d(p,m,y)!=null?R:null,Pa[R]=P),_}});var WC=/^(?:input|select|textarea|button)$/i,KC=/^(?:a|area)$/i;f.fn.extend({prop:function(a,l){return x(this,f.prop,a,l,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[f.propFix[a]||a]})}}),f.extend({prop:function(a,l,d){var p,m,y=a.nodeType;if(!(y===3||y===8||y===2))return(y!==1||!f.isXMLDoc(a))&&(l=f.propFix[l]||l,m=f.propHooks[l]),d!==void 0?m&&"set"in m&&(p=m.set(a,d,l))!==void 0?p:a[l]=d:m&&"get"in m&&(p=m.get(a,l))!==null?p:a[l]},propHooks:{tabIndex:{get:function(a){var l=f.find.attr(a,"tabindex");return l?parseInt(l,10):WC.test(a.nodeName)||KC.test(a.nodeName)&&a.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),S.optSelected||(f.propHooks.selected={get:function(a){var l=a.parentNode;return l&&l.parentNode&&l.parentNode.selectedIndex,null},set:function(a){var l=a.parentNode;l&&(l.selectedIndex,l.parentNode&&l.parentNode.selectedIndex)}}),f.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){f.propFix[this.toLowerCase()]=this});function fs(a){var l=a.match(wn)||[];return l.join(" ")}function ps(a){return a.getAttribute&&a.getAttribute("class")||""}function lf(a){return Array.isArray(a)?a:typeof a=="string"?a.match(wn)||[]:[]}f.fn.extend({addClass:function(a){var l,d,p,m,y,_;return C(a)?this.each(function(P){f(this).addClass(a.call(this,P,ps(this)))}):(l=lf(a),l.length?this.each(function(){if(p=ps(this),d=this.nodeType===1&&" "+fs(p)+" ",d){for(y=0;y<l.length;y++)m=l[y],d.indexOf(" "+m+" ")<0&&(d+=m+" ");_=fs(d),p!==_&&this.setAttribute("class",_)}}):this)},removeClass:function(a){var l,d,p,m,y,_;return C(a)?this.each(function(P){f(this).removeClass(a.call(this,P,ps(this)))}):arguments.length?(l=lf(a),l.length?this.each(function(){if(p=ps(this),d=this.nodeType===1&&" "+fs(p)+" ",d){for(y=0;y<l.length;y++)for(m=l[y];d.indexOf(" "+m+" ")>-1;)d=d.replace(" "+m+" "," ");_=fs(d),p!==_&&this.setAttribute("class",_)}}):this):this.attr("class","")},toggleClass:function(a,l){var d,p,m,y,_=typeof a,P=_==="string"||Array.isArray(a);return C(a)?this.each(function(R){f(this).toggleClass(a.call(this,R,ps(this),l),l)}):typeof l=="boolean"&&P?l?this.addClass(a):this.removeClass(a):(d=lf(a),this.each(function(){if(P)for(y=f(this),m=0;m<d.length;m++)p=d[m],y.hasClass(p)?y.removeClass(p):y.addClass(p);else(a===void 0||_==="boolean")&&(p=ps(this),p&&te.set(this,"__className__",p),this.setAttribute&&this.setAttribute("class",p||a===!1?"":te.get(this,"__className__")||""))}))},hasClass:function(a){var l,d,p=0;for(l=" "+a+" ";d=this[p++];)if(d.nodeType===1&&(" "+fs(ps(d))+" ").indexOf(l)>-1)return!0;return!1}});var GC=/\r/g;f.fn.extend({val:function(a){var l,d,p,m=this[0];return arguments.length?(p=C(a),this.each(function(y){var _;this.nodeType===1&&(p?_=a.call(this,y,f(this).val()):_=a,_==null?_="":typeof _=="number"?_+="":Array.isArray(_)&&(_=f.map(_,function(P){return P==null?"":P+""})),l=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()],(!l||!("set"in l)||l.set(this,_,"value")===void 0)&&(this.value=_))})):m?(l=f.valHooks[m.type]||f.valHooks[m.nodeName.toLowerCase()],l&&"get"in l&&(d=l.get(m,"value"))!==void 0?d:(d=m.value,typeof d=="string"?d.replace(GC,""):d??"")):void 0}}),f.extend({valHooks:{option:{get:function(a){var l=f.find.attr(a,"value");return l??fs(f.text(a))}},select:{get:function(a){var l,d,p,m=a.options,y=a.selectedIndex,_=a.type==="select-one",P=_?null:[],R=_?y+1:m.length;for(y<0?p=R:p=_?y:0;p<R;p++)if(d=m[p],(d.selected||p===y)&&!d.disabled&&(!d.parentNode.disabled||!z(d.parentNode,"optgroup"))){if(l=f(d).val(),_)return l;P.push(l)}return P},set:function(a,l){for(var d,p,m=a.options,y=f.makeArray(l),_=m.length;_--;)p=m[_],(p.selected=f.inArray(f.valHooks.option.get(p),y)>-1)&&(d=!0);return d||(a.selectedIndex=-1),y}}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]={set:function(a,l){if(Array.isArray(l))return a.checked=f.inArray(f(a).val(),l)>-1}},S.checkOn||(f.valHooks[this].get=function(a){return a.getAttribute("value")===null?"on":a.value})});var xa=e.location,Hv={guid:Date.now()},cf=/\?/;f.parseXML=function(a){var l,d;if(!a||typeof a!="string")return null;try{l=new e.DOMParser().parseFromString(a,"text/xml")}catch{}return d=l&&l.getElementsByTagName("parsererror")[0],(!l||d)&&f.error("Invalid XML: "+(d?f.map(d.childNodes,function(p){return p.textContent}).join(`
`):a)),l};var Wv=/^(?:focusinfocus|focusoutblur)$/,Kv=function(a){a.stopPropagation()};f.extend(f.event,{trigger:function(a,l,d,p){var m,y,_,P,R,O,j,K,V=[d||E],Y=v.call(a,"type")?a.type:a,Ie=v.call(a,"namespace")?a.namespace.split("."):[];if(y=K=_=d=d||E,!(d.nodeType===3||d.nodeType===8)&&!Wv.test(Y+f.event.triggered)&&(Y.indexOf(".")>-1&&(Ie=Y.split("."),Y=Ie.shift(),Ie.sort()),R=Y.indexOf(":")<0&&"on"+Y,a=a[f.expando]?a:new f.Event(Y,typeof a=="object"&&a),a.isTrigger=p?2:3,a.namespace=Ie.join("."),a.rnamespace=a.namespace?new RegExp("(^|\\.)"+Ie.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,a.result=void 0,a.target||(a.target=d),l=l==null?[a]:f.makeArray(l,[a]),j=f.event.special[Y]||{},!(!p&&j.trigger&&j.trigger.apply(d,l)===!1))){if(!p&&!j.noBubble&&!D(d)){for(P=j.delegateType||Y,Wv.test(P+Y)||(y=y.parentNode);y;y=y.parentNode)V.push(y),_=y;_===(d.ownerDocument||E)&&V.push(_.defaultView||_.parentWindow||e)}for(m=0;(y=V[m++])&&!a.isPropagationStopped();)K=y,a.type=m>1?P:j.bindType||Y,O=(te.get(y,"events")||Object.create(null))[a.type]&&te.get(y,"handle"),O&&O.apply(y,l),O=R&&y[R],O&&O.apply&&ee(y)&&(a.result=O.apply(y,l),a.result===!1&&a.preventDefault());return a.type=Y,!p&&!a.isDefaultPrevented()&&(!j._default||j._default.apply(V.pop(),l)===!1)&&ee(d)&&R&&C(d[Y])&&!D(d)&&(_=d[R],_&&(d[R]=null),f.event.triggered=Y,a.isPropagationStopped()&&K.addEventListener(Y,Kv),d[Y](),a.isPropagationStopped()&&K.removeEventListener(Y,Kv),f.event.triggered=void 0,_&&(d[R]=_)),a.result}},simulate:function(a,l,d){var p=f.extend(new f.Event,d,{type:a,isSimulated:!0});f.event.trigger(p,null,l)}}),f.fn.extend({trigger:function(a,l){return this.each(function(){f.event.trigger(a,l,this)})},triggerHandler:function(a,l){var d=this[0];if(d)return f.event.trigger(a,l,d,!0)}});var QC=/\[\]$/,Gv=/\r?\n/g,XC=/^(?:submit|button|image|reset|file)$/i,YC=/^(?:input|select|textarea|keygen)/i;function hf(a,l,d,p){var m;if(Array.isArray(l))f.each(l,function(y,_){d||QC.test(a)?p(a,_):hf(a+"["+(typeof _=="object"&&_!=null?y:"")+"]",_,d,p)});else if(!d&&b(l)==="object")for(m in l)hf(a+"["+m+"]",l[m],d,p);else p(a,l)}f.param=function(a,l){var d,p=[],m=function(y,_){var P=C(_)?_():_;p[p.length]=encodeURIComponent(y)+"="+encodeURIComponent(P??"")};if(a==null)return"";if(Array.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,function(){m(this.name,this.value)});else for(d in a)hf(d,a[d],l,m);return p.join("&")},f.fn.extend({serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=f.prop(this,"elements");return a?f.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!f(this).is(":disabled")&&YC.test(this.nodeName)&&!XC.test(a)&&(this.checked||!Ra.test(a))}).map(function(a,l){var d=f(this).val();return d==null?null:Array.isArray(d)?f.map(d,function(p){return{name:l.name,value:p.replace(Gv,`\r
`)}}):{name:l.name,value:d.replace(Gv,`\r
`)}}).get()}});var JC=/%20/g,ZC=/#.*$/,eR=/([?&])_=[^&]*/,tR=/^(.*?):[ \t]*([^\r\n]*)$/mg,nR=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rR=/^(?:GET|HEAD)$/,iR=/^\/\//,Qv={},df={},Xv="*/".concat("*"),ff=E.createElement("a");ff.href=xa.href;function Yv(a){return function(l,d){typeof l!="string"&&(d=l,l="*");var p,m=0,y=l.toLowerCase().match(wn)||[];if(C(d))for(;p=y[m++];)p[0]==="+"?(p=p.slice(1)||"*",(a[p]=a[p]||[]).unshift(d)):(a[p]=a[p]||[]).push(d)}}function Jv(a,l,d,p){var m={},y=a===df;function _(P){var R;return m[P]=!0,f.each(a[P]||[],function(O,j){var K=j(l,d,p);if(typeof K=="string"&&!y&&!m[K])return l.dataTypes.unshift(K),_(K),!1;if(y)return!(R=K)}),R}return _(l.dataTypes[0])||!m["*"]&&_("*")}function pf(a,l){var d,p,m=f.ajaxSettings.flatOptions||{};for(d in l)l[d]!==void 0&&((m[d]?a:p||(p={}))[d]=l[d]);return p&&f.extend(!0,a,p),a}function sR(a,l,d){for(var p,m,y,_,P=a.contents,R=a.dataTypes;R[0]==="*";)R.shift(),p===void 0&&(p=a.mimeType||l.getResponseHeader("Content-Type"));if(p){for(m in P)if(P[m]&&P[m].test(p)){R.unshift(m);break}}if(R[0]in d)y=R[0];else{for(m in d){if(!R[0]||a.converters[m+" "+R[0]]){y=m;break}_||(_=m)}y=y||_}if(y)return y!==R[0]&&R.unshift(y),d[y]}function oR(a,l,d,p){var m,y,_,P,R,O={},j=a.dataTypes.slice();if(j[1])for(_ in a.converters)O[_.toLowerCase()]=a.converters[_];for(y=j.shift();y;)if(a.responseFields[y]&&(d[a.responseFields[y]]=l),!R&&p&&a.dataFilter&&(l=a.dataFilter(l,a.dataType)),R=y,y=j.shift(),y){if(y==="*")y=R;else if(R!=="*"&&R!==y){if(_=O[R+" "+y]||O["* "+y],!_){for(m in O)if(P=m.split(" "),P[1]===y&&(_=O[R+" "+P[0]]||O["* "+P[0]],_)){_===!0?_=O[m]:O[m]!==!0&&(y=P[0],j.unshift(P[1]));break}}if(_!==!0)if(_&&a.throws)l=_(l);else try{l=_(l)}catch(K){return{state:"parsererror",error:_?K:"No conversion from "+R+" to "+y}}}}return{state:"success",data:l}}f.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xa.href,type:"GET",isLocal:nR.test(xa.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xv,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":f.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,l){return l?pf(pf(a,f.ajaxSettings),l):pf(f.ajaxSettings,a)},ajaxPrefilter:Yv(Qv),ajaxTransport:Yv(df),ajax:function(a,l){typeof a=="object"&&(l=a,a=void 0),l=l||{};var d,p,m,y,_,P,R,O,j,K,V=f.ajaxSetup({},l),Y=V.context||V,Ie=V.context&&(Y.nodeType||Y.jquery)?f(Y):f.event,Ue=f.Deferred(),xe=f.Callbacks("once memory"),Ft=V.statusCode||{},Pt={},vr={},_r="canceled",be={readyState:0,getResponseHeader:function($e){var yt;if(R){if(!y)for(y={};yt=tR.exec(m);)y[yt[1].toLowerCase()+" "]=(y[yt[1].toLowerCase()+" "]||[]).concat(yt[2]);yt=y[$e.toLowerCase()+" "]}return yt==null?null:yt.join(", ")},getAllResponseHeaders:function(){return R?m:null},setRequestHeader:function($e,yt){return R==null&&($e=vr[$e.toLowerCase()]=vr[$e.toLowerCase()]||$e,Pt[$e]=yt),this},overrideMimeType:function($e){return R==null&&(V.mimeType=$e),this},statusCode:function($e){var yt;if($e)if(R)be.always($e[be.status]);else for(yt in $e)Ft[yt]=[Ft[yt],$e[yt]];return this},abort:function($e){var yt=$e||_r;return d&&d.abort(yt),gs(0,yt),this}};if(Ue.promise(be),V.url=((a||V.url||xa.href)+"").replace(iR,xa.protocol+"//"),V.type=l.method||l.type||V.method||V.type,V.dataTypes=(V.dataType||"*").toLowerCase().match(wn)||[""],V.crossDomain==null){P=E.createElement("a");try{P.href=V.url,P.href=P.href,V.crossDomain=ff.protocol+"//"+ff.host!=P.protocol+"//"+P.host}catch{V.crossDomain=!0}}if(V.data&&V.processData&&typeof V.data!="string"&&(V.data=f.param(V.data,V.traditional)),Jv(Qv,V,l,be),R)return be;O=f.event&&V.global,O&&f.active++===0&&f.event.trigger("ajaxStart"),V.type=V.type.toUpperCase(),V.hasContent=!rR.test(V.type),p=V.url.replace(ZC,""),V.hasContent?V.data&&V.processData&&(V.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(V.data=V.data.replace(JC,"+")):(K=V.url.slice(p.length),V.data&&(V.processData||typeof V.data=="string")&&(p+=(cf.test(p)?"&":"?")+V.data,delete V.data),V.cache===!1&&(p=p.replace(eR,"$1"),K=(cf.test(p)?"&":"?")+"_="+Hv.guid+++K),V.url=p+K),V.ifModified&&(f.lastModified[p]&&be.setRequestHeader("If-Modified-Since",f.lastModified[p]),f.etag[p]&&be.setRequestHeader("If-None-Match",f.etag[p])),(V.data&&V.hasContent&&V.contentType!==!1||l.contentType)&&be.setRequestHeader("Content-Type",V.contentType),be.setRequestHeader("Accept",V.dataTypes[0]&&V.accepts[V.dataTypes[0]]?V.accepts[V.dataTypes[0]]+(V.dataTypes[0]!=="*"?", "+Xv+"; q=0.01":""):V.accepts["*"]);for(j in V.headers)be.setRequestHeader(j,V.headers[j]);if(V.beforeSend&&(V.beforeSend.call(Y,be,V)===!1||R))return be.abort();if(_r="abort",xe.add(V.complete),be.done(V.success),be.fail(V.error),d=Jv(df,V,l,be),!d)gs(-1,"No Transport");else{if(be.readyState=1,O&&Ie.trigger("ajaxSend",[be,V]),R)return be;V.async&&V.timeout>0&&(_=e.setTimeout(function(){be.abort("timeout")},V.timeout));try{R=!1,d.send(Pt,gs)}catch($e){if(R)throw $e;gs(-1,$e)}}function gs($e,yt,Da,mf){var wr,Oa,Er,mi,yi,Wn=yt;R||(R=!0,_&&e.clearTimeout(_),d=void 0,m=mf||"",be.readyState=$e>0?4:0,wr=$e>=200&&$e<300||$e===304,Da&&(mi=sR(V,be,Da)),!wr&&f.inArray("script",V.dataTypes)>-1&&f.inArray("json",V.dataTypes)<0&&(V.converters["text script"]=function(){}),mi=oR(V,mi,be,wr),wr?(V.ifModified&&(yi=be.getResponseHeader("Last-Modified"),yi&&(f.lastModified[p]=yi),yi=be.getResponseHeader("etag"),yi&&(f.etag[p]=yi)),$e===204||V.type==="HEAD"?Wn="nocontent":$e===304?Wn="notmodified":(Wn=mi.state,Oa=mi.data,Er=mi.error,wr=!Er)):(Er=Wn,($e||!Wn)&&(Wn="error",$e<0&&($e=0))),be.status=$e,be.statusText=(yt||Wn)+"",wr?Ue.resolveWith(Y,[Oa,Wn,be]):Ue.rejectWith(Y,[be,Wn,Er]),be.statusCode(Ft),Ft=void 0,O&&Ie.trigger(wr?"ajaxSuccess":"ajaxError",[be,V,wr?Oa:Er]),xe.fireWith(Y,[be,Wn]),O&&(Ie.trigger("ajaxComplete",[be,V]),--f.active||f.event.trigger("ajaxStop")))}return be},getJSON:function(a,l,d){return f.get(a,l,d,"json")},getScript:function(a,l){return f.get(a,void 0,l,"script")}}),f.each(["get","post"],function(a,l){f[l]=function(d,p,m,y){return C(p)&&(y=y||m,m=p,p=void 0),f.ajax(f.extend({url:d,type:l,dataType:y,data:p,success:m},f.isPlainObject(d)&&d))}}),f.ajaxPrefilter(function(a){var l;for(l in a.headers)l.toLowerCase()==="content-type"&&(a.contentType=a.headers[l]||"")}),f._evalUrl=function(a,l,d){return f.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(p){f.globalEval(p,l,d)}})},f.fn.extend({wrapAll:function(a){var l;return this[0]&&(C(a)&&(a=a.call(this[0])),l=f(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&l.insertBefore(this[0]),l.map(function(){for(var d=this;d.firstElementChild;)d=d.firstElementChild;return d}).append(this)),this},wrapInner:function(a){return C(a)?this.each(function(l){f(this).wrapInner(a.call(this,l))}):this.each(function(){var l=f(this),d=l.contents();d.length?d.wrapAll(a):l.append(a)})},wrap:function(a){var l=C(a);return this.each(function(d){f(this).wrapAll(l?a.call(this,d):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){f(this).replaceWith(this.childNodes)}),this}}),f.expr.pseudos.hidden=function(a){return!f.expr.pseudos.visible(a)},f.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)},f.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var aR={0:200,1223:204},Na=f.ajaxSettings.xhr();S.cors=!!Na&&"withCredentials"in Na,S.ajax=Na=!!Na,f.ajaxTransport(function(a){var l,d;if(S.cors||Na&&!a.crossDomain)return{send:function(p,m){var y,_=a.xhr();if(_.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(y in a.xhrFields)_[y]=a.xhrFields[y];a.mimeType&&_.overrideMimeType&&_.overrideMimeType(a.mimeType),!a.crossDomain&&!p["X-Requested-With"]&&(p["X-Requested-With"]="XMLHttpRequest");for(y in p)_.setRequestHeader(y,p[y]);l=function(P){return function(){l&&(l=d=_.onload=_.onerror=_.onabort=_.ontimeout=_.onreadystatechange=null,P==="abort"?_.abort():P==="error"?typeof _.status!="number"?m(0,"error"):m(_.status,_.statusText):m(aR[_.status]||_.status,_.statusText,(_.responseType||"text")!=="text"||typeof _.responseText!="string"?{binary:_.response}:{text:_.responseText},_.getAllResponseHeaders()))}},_.onload=l(),d=_.onerror=_.ontimeout=l("error"),_.onabort!==void 0?_.onabort=d:_.onreadystatechange=function(){_.readyState===4&&e.setTimeout(function(){l&&d()})},l=l("abort");try{_.send(a.hasContent&&a.data||null)}catch(P){if(l)throw P}},abort:function(){l&&l()}}}),f.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return f.globalEval(a),a}}}),f.ajaxPrefilter("script",function(a){a.cache===void 0&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),f.ajaxTransport("script",function(a){if(a.crossDomain||a.scriptAttrs){var l,d;return{send:function(p,m){l=f("<script>").attr(a.scriptAttrs||{}).prop({charset:a.scriptCharset,src:a.url}).on("load error",d=function(y){l.remove(),d=null,y&&m(y.type==="error"?404:200,y.type)}),E.head.appendChild(l[0])},abort:function(){d&&d()}}}});var Zv=[],gf=/(=)\?(?=&|$)|\?\?/;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Zv.pop()||f.expando+"_"+Hv.guid++;return this[a]=!0,a}}),f.ajaxPrefilter("json jsonp",function(a,l,d){var p,m,y,_=a.jsonp!==!1&&(gf.test(a.url)?"url":typeof a.data=="string"&&(a.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&gf.test(a.data)&&"data");if(_||a.dataTypes[0]==="jsonp")return p=a.jsonpCallback=C(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,_?a[_]=a[_].replace(gf,"$1"+p):a.jsonp!==!1&&(a.url+=(cf.test(a.url)?"&":"?")+a.jsonp+"="+p),a.converters["script json"]=function(){return y||f.error(p+" was not called"),y[0]},a.dataTypes[0]="json",m=e[p],e[p]=function(){y=arguments},d.always(function(){m===void 0?f(e).removeProp(p):e[p]=m,a[p]&&(a.jsonpCallback=l.jsonpCallback,Zv.push(p)),y&&C(m)&&m(y[0]),y=m=void 0}),"script"}),S.createHTMLDocument=function(){var a=E.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",a.childNodes.length===2}(),f.parseHTML=function(a,l,d){if(typeof a!="string")return[];typeof l=="boolean"&&(d=l,l=!1);var p,m,y;return l||(S.createHTMLDocument?(l=E.implementation.createHTMLDocument(""),p=l.createElement("base"),p.href=E.location.href,l.head.appendChild(p)):l=E),m=Je.exec(a),y=!d&&[],m?[l.createElement(m[1])]:(m=Pv([a],l,y),y&&y.length&&f(y).remove(),f.merge([],m.childNodes))},f.fn.load=function(a,l,d){var p,m,y,_=this,P=a.indexOf(" ");return P>-1&&(p=fs(a.slice(P)),a=a.slice(0,P)),C(l)?(d=l,l=void 0):l&&typeof l=="object"&&(m="POST"),_.length>0&&f.ajax({url:a,type:m||"GET",dataType:"html",data:l}).done(function(R){y=arguments,_.html(p?f("<div>").append(f.parseHTML(R)).find(p):R)}).always(d&&function(R,O){_.each(function(){d.apply(this,y||[R.responseText,O,R])})}),this},f.expr.pseudos.animated=function(a){return f.grep(f.timers,function(l){return a===l.elem}).length},f.offset={setOffset:function(a,l,d){var p,m,y,_,P,R,O,j=f.css(a,"position"),K=f(a),V={};j==="static"&&(a.style.position="relative"),P=K.offset(),y=f.css(a,"top"),R=f.css(a,"left"),O=(j==="absolute"||j==="fixed")&&(y+R).indexOf("auto")>-1,O?(p=K.position(),_=p.top,m=p.left):(_=parseFloat(y)||0,m=parseFloat(R)||0),C(l)&&(l=l.call(a,d,f.extend({},P))),l.top!=null&&(V.top=l.top-P.top+_),l.left!=null&&(V.left=l.left-P.left+m),"using"in l?l.using.call(a,V):K.css(V)}},f.fn.extend({offset:function(a){if(arguments.length)return a===void 0?this:this.each(function(m){f.offset.setOffset(this,a,m)});var l,d,p=this[0];if(p)return p.getClientRects().length?(l=p.getBoundingClientRect(),d=p.ownerDocument.defaultView,{top:l.top+d.pageYOffset,left:l.left+d.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var a,l,d,p=this[0],m={top:0,left:0};if(f.css(p,"position")==="fixed")l=p.getBoundingClientRect();else{for(l=this.offset(),d=p.ownerDocument,a=p.offsetParent||d.documentElement;a&&(a===d.body||a===d.documentElement)&&f.css(a,"position")==="static";)a=a.parentNode;a&&a!==p&&a.nodeType===1&&(m=f(a).offset(),m.top+=f.css(a,"borderTopWidth",!0),m.left+=f.css(a,"borderLeftWidth",!0))}return{top:l.top-m.top-f.css(p,"marginTop",!0),left:l.left-m.left-f.css(p,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&f.css(a,"position")==="static";)a=a.offsetParent;return a||Hr})}}),f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,l){var d=l==="pageYOffset";f.fn[a]=function(p){return x(this,function(m,y,_){var P;if(D(m)?P=m:m.nodeType===9&&(P=m.defaultView),_===void 0)return P?P[l]:m[y];P?P.scrollTo(d?P.pageXOffset:_,d?_:P.pageYOffset):m[y]=_},a,p,arguments.length)}}),f.each(["top","left"],function(a,l){f.cssHooks[l]=Lv(S.pixelPosition,function(d,p){if(p)return p=ka(d,l),rf.test(p)?f(d).position()[l]+"px":p})}),f.each({Height:"height",Width:"width"},function(a,l){f.each({padding:"inner"+a,content:l,"":"outer"+a},function(d,p){f.fn[p]=function(m,y){var _=arguments.length&&(d||typeof m!="boolean"),P=d||(m===!0||y===!0?"margin":"border");return x(this,function(R,O,j){var K;return D(R)?p.indexOf("outer")===0?R["inner"+a]:R.document.documentElement["client"+a]:R.nodeType===9?(K=R.documentElement,Math.max(R.body["scroll"+a],K["scroll"+a],R.body["offset"+a],K["offset"+a],K["client"+a])):j===void 0?f.css(R,O,P):f.style(R,O,j,P)},l,_?m:void 0,_)}})}),f.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,l){f.fn[l]=function(d){return this.on(l,d)}}),f.fn.extend({bind:function(a,l,d){return this.on(a,null,l,d)},unbind:function(a,l){return this.off(a,null,l)},delegate:function(a,l,d,p){return this.on(l,a,d,p)},undelegate:function(a,l,d){return arguments.length===1?this.off(a,"**"):this.off(l,a||"**",d)},hover:function(a,l){return this.on("mouseenter",a).on("mouseleave",l||a)}}),f.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,l){f.fn[l]=function(d,p){return arguments.length>0?this.on(l,null,d,p):this.trigger(l)}});var uR=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;f.proxy=function(a,l){var d,p,m;if(typeof l=="string"&&(d=a[l],l=a,a=d),!!C(a))return p=s.call(arguments,2),m=function(){return a.apply(l||this,p.concat(s.call(arguments)))},m.guid=a.guid=a.guid||f.guid++,m},f.holdReady=function(a){a?f.readyWait++:f.ready(!0)},f.isArray=Array.isArray,f.parseJSON=JSON.parse,f.nodeName=z,f.isFunction=C,f.isWindow=D,f.camelCase=re,f.type=b,f.now=Date.now,f.isNumeric=function(a){var l=f.type(a);return(l==="number"||l==="string")&&!isNaN(a-parseFloat(a))},f.trim=function(a){return a==null?"":(a+"").replace(uR,"$1")};var lR=e.jQuery,cR=e.$;return f.noConflict=function(a){return e.$===f&&(e.$=cR),a&&e.jQuery===f&&(e.jQuery=lR),f},typeof n>"u"&&(e.jQuery=e.$=f),f})}(Ip)),Ip.exports}(function(t){(function(e){e(["jquery"],function(n){return function(){var r,i,s=0,o={error:"error",info:"info",success:"success",warning:"warning"},u={clear:C,remove:D,error:h,getContainer:g,info:v,options:{},subscribe:w,success:A,version:"2.1.4",warning:S},c;return u;function h(z,F,Te){return X({type:o.error,iconClass:f().iconClasses.error,message:z,optionsOverride:Te,title:F})}function g(z,F){return z||(z=f()),r=n("#"+z.containerId),r.length||F&&(r=k(z)),r}function v(z,F,Te){return X({type:o.info,iconClass:f().iconClasses.info,message:z,optionsOverride:Te,title:F})}function w(z){i=z}function A(z,F,Te){return X({type:o.success,iconClass:f().iconClasses.success,message:z,optionsOverride:Te,title:F})}function S(z,F,Te){return X({type:o.warning,iconClass:f().iconClasses.warning,message:z,optionsOverride:Te,title:F})}function C(z,F){var Te=f();r||g(Te),T(z,Te,F)||E(Te)}function D(z){var F=f();if(r||g(F),z&&n(":focus",z).length===0){ie(z);return}r.children().length&&r.remove()}function E(z){for(var F=r.children(),Te=F.length-1;Te>=0;Te--)T(n(F[Te]),z)}function T(z,F,Te){var ye=Te&&Te.force?Te.force:!1;return z&&(ye||n(":focus",z).length===0)?(z[F.hideMethod]({duration:F.hideDuration,easing:F.hideEasing,complete:function(){ie(z)}}),!0):!1}function k(z){return r=n("<div/>").attr("id",z.containerId).addClass(z.positionClass),r.appendTo(n(z.target)),r}function b(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1}}function q(z){i&&i(z)}function X(z){var F=f(),Te=z.iconClass||F.iconClass;if(typeof z.optionsOverride<"u"&&(F=n.extend(F,z.optionsOverride),Te=z.optionsOverride.iconClass||Te),yr(F,z))return;s++,r=g(F,!0);var ye=null,Z=n("<div/>"),qe=n("<div/>"),ht=n("<div/>"),wt=n("<div/>"),He=n(F.closeHtml),ne={intervalId:null,hideEta:null,maxHideTime:null},pe={toastId:s,state:"visible",startTime:new Date,options:F,map:z};return Ge(),un(),zn(),q(pe),F.debug&&console&&console.log(pe),Z;function we(Ne){return Ne==null&&(Ne=""),Ne.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ge(){qr(),rr(),ls(),cs(),wn(),io(),ln(),Je()}function Je(){var Ne="";switch(z.iconClass){case"toast-success":case"toast-info":Ne="polite";break;default:Ne="assertive"}Z.attr("aria-live",Ne)}function zn(){F.closeOnHover&&Z.hover(Bl,hs),!F.onclick&&F.tapToDismiss&&Z.click(Nn),F.closeButton&&He&&He.click(function(Ne){Ne.stopPropagation?Ne.stopPropagation():Ne.cancelBubble!==void 0&&Ne.cancelBubble!==!0&&(Ne.cancelBubble=!0),F.onCloseClick&&F.onCloseClick(Ne),Nn(!0)}),F.onclick&&Z.click(function(Ne){F.onclick(Ne),Nn()})}function un(){Z.hide(),Z[F.showMethod]({duration:F.showDuration,easing:F.showEasing,complete:F.onShown}),F.timeOut>0&&(ye=setTimeout(Nn,F.timeOut),ne.maxHideTime=parseFloat(F.timeOut),ne.hideEta=new Date().getTime()+ne.maxHideTime,F.progressBar&&(ne.intervalId=setInterval(so,10)))}function qr(){z.iconClass&&Z.addClass(F.toastClass).addClass(Te)}function ln(){F.newestOnTop?r.prepend(Z):r.append(Z)}function rr(){if(z.title){var Ne=z.title;F.escapeHtml&&(Ne=we(z.title)),qe.append(Ne).addClass(F.titleClass),Z.append(qe)}}function ls(){if(z.message){var Ne=z.message;F.escapeHtml&&(Ne=we(z.message)),ht.append(Ne).addClass(F.messageClass),Z.append(ht)}}function cs(){F.closeButton&&(He.addClass(F.closeClass).attr("role","button"),Z.prepend(He))}function wn(){F.progressBar&&(wt.addClass(F.progressClass),Z.prepend(wt))}function io(){F.rtl&&Z.addClass("rtl")}function yr(Ne,x){if(Ne.preventDuplicates){if(x.message===c)return!0;c=x.message}return!1}function Nn(Ne){var x=Ne&&F.closeMethod!==!1?F.closeMethod:F.hideMethod,M=Ne&&F.closeDuration!==!1?F.closeDuration:F.hideDuration,B=Ne&&F.closeEasing!==!1?F.closeEasing:F.hideEasing;if(!(n(":focus",Z).length&&!Ne))return clearTimeout(ne.intervalId),Z[x]({duration:M,easing:B,complete:function(){ie(Z),clearTimeout(ye),F.onHidden&&pe.state!=="hidden"&&F.onHidden(),pe.state="hidden",pe.endTime=new Date,q(pe)}})}function hs(){(F.timeOut>0||F.extendedTimeOut>0)&&(ye=setTimeout(Nn,F.extendedTimeOut),ne.maxHideTime=parseFloat(F.extendedTimeOut),ne.hideEta=new Date().getTime()+ne.maxHideTime)}function Bl(){clearTimeout(ye),ne.hideEta=0,Z.stop(!0,!0)[F.showMethod]({duration:F.showDuration,easing:F.showEasing})}function so(){var Ne=(ne.hideEta-new Date().getTime())/ne.maxHideTime*100;wt.width(Ne+"%")}}function f(){return n.extend({},b(),u.options)}function ie(z){r||(r=g()),!z.is(":visible")&&(z.remove(),z=null,r.children().length===0&&(r.remove(),c=void 0))}}()})})(function(e,n){t.exports?t.exports=n(GF()):window.toastr=n(window.jQuery)})})(kC);var QF=kC.exports;const Es=hE(QF),XF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAADmSURBVDiNlZO9TkJBEEbPtxB7X8GSwpJeDJZa8xCEmBAiD0DwL16VnmeAllIrWwtNKOxsSaA0YcdKvQHu3nHLnT1nJvl2hPNc2PmJYeOIWjfKnn/ugx+OU0B78JGvVZ2dJ6BlYN0caPSZr8sHswqsG0ON3jbfFAr+YFsG4vEuGKBSBhtqXOnxvajR1gSb8LXuC+EtQdc6hxV4AS0C4Wiou3kKBmeMbsGtHl4NToH9SHzqW7tWJtiZQs86TaEpifiSgv9Ikh/JI0kKPJJSAeSXSYsqqg+U/e6DK8ZLZTMRzgD7goN87RtzXHRG9egYsAAAAABJRU5ErkJggg==",YF=()=>{var w,A;const{data:t}=$.useContext(us),{currentUser:e}=$.useContext(zr),{controlSidebarAppearance:n,controlChatAppearance:r}=$.useContext($l),[i,s]=$.useState(!1),[o,u]=$.useState(""),[c,h]=$.useState(!1);$.useEffect(()=>{const S=window.localStorage.getItem("invitePending"),C=window.localStorage.getItem("gameInviteId");S!==null&&s(JSON.parse(S)),C!==null&&u(JSON.parse(C))},[]),$.useEffect(()=>{window.localStorage.setItem("invitePending",JSON.stringify(i)),window.localStorage.setItem("gameInviteId",JSON.stringify(o))},[i,o]);const g=async()=>{if(i)Es.error("Can't invite more than one person at a time!",{timeOut:2e3,extendedTimeOut:0,closeButton:!0,positionClass:"toast-top-right",tapToDismiss:!0,preventDuplicates:!0});else try{const S=await fa(ot(Ke,"presence",t.user.uid));if(S.exists()&&!S.data().online){Es.error("Can't invite an offline user!",{timeOut:1e3,extendedTimeOut:0,closeButton:!0,positionClass:"toast-top-right",tapToDismiss:!0,preventDuplicates:!0});return}await ul(ot(Ke,"gameInvitations",t.user.uid+e.uid),{id:t.user.uid+e.uid,userId:t.user.uid,senderId:e.uid,senderDisplayName:e.displayName,link:t.user.uid+e.uid,gameConcluded:!1,gameAccepted:""}),Es.success("Your invitation was successfully sent!",{timeOut:3e3,extendedTimeOut:0,closeButton:!0,positionClass:"toast-top-right",tapToDismiss:!0,preventDuplicates:!0}),s(!0),u(t.user.uid+e.uid)}catch(S){console.log(S)}};$.useEffect(()=>{let S;if(i&&o!==""){const C=ot(Ke,"gameInvitations",o);S=bs(C,D=>{const E=D.data();E&&E.gameAccepted==="true"?(window.open(`https://chess-game-fh3hl.ondigitalocean.app/white?code=${o}`,"_blank"),s(!1),u("")):E&&E.gameAccepted==="false"&&(Es.error("Your invitation was declined.",{timeOut:2e3,extendedTimeOut:0,closeButton:!0,positionClass:"toast-top-right",tapToDismiss:!0,preventDuplicates:!0}),u(""),s(!1))})}return()=>{S&&S()}},[i,o]),$.useEffect(()=>{let S;return i&&(S=setTimeout(async()=>{try{const C=ot(Ke,"gameInvitations",o);(await fa(C)).data().gameConcluded===!1&&(await gn(C,{gameConcluded:!0}),Es.error("Your invitation was not responded to within the specified time frame",{timeOut:6e3,extendedTimeOut:0,closeButton:!0,positionClass:"toast-top-right",tapToDismiss:!0,preventDuplicates:!0}),u(""),s(!1))}catch(C){console.log(C)}},1e4)),()=>{clearTimeout(S)}},[i,o]),$.useEffect(()=>{const S=()=>{window.innerWidth<940?h(!0):h(!1)};return window.addEventListener("resize",S),S(),()=>window.removeEventListener("resize",S)},[]);const v=()=>{r(!1),n(!0)};return W.jsxs("div",{className:"chat",children:[W.jsxs("div",{className:"chat-info",children:[W.jsxs("div",{className:"user-info",children:[t.chatId!=="null"&&c&&W.jsx("img",{src:XF,className:"backBtn",onClick:v}),t.chatId!=="null"&&W.jsx("img",{src:(w=t.user)==null?void 0:w.photoURL}),W.jsx("span",{children:(A=t.user)==null?void 0:A.displayName})]}),t.chatId!=="null"&&W.jsx("button",{onClick:g,children:"Play Chess"})]}),W.jsx(jF,{}),W.jsx(KF,{})]})},JF="/assets/msgSound-BMqGD3BS.mp3",ZF=()=>{const{currentUser:t}=$.useContext(zr),{controlSidebarAppearance:e,controlChatAppearance:n,showSidebar:r,showChat:i}=$.useContext($l),s=$.useRef();return $.useEffect(()=>{let o;const u=async()=>{try{const c=ot(Ke,"presence",t==null?void 0:t.uid),h=await fa(c);h.exists()&&h.data().hasShown===!1&&(o=setTimeout(async()=>{await gn(c,{hasShown:!0})},1500))}catch(c){console.error("Error fetching data:",c)}};return t.uid&&u(),()=>clearTimeout(o)},[]),$.useEffect(()=>{t.uid&&(bs($A(Tu(Ke,"gameInvitations"),BA("userId","==",t.uid)),o=>{o.forEach(u=>{u.exists()&&!u.data().gameConcluded&&Es.info(`${u.data().senderDisplayName} has invited you to play chess!`,"Game Invitation",{timeOut:9500,extendedTimeOut:0,progressBar:!0,closeButton:!0,positionClass:"toast-bottom-left",tapToDismiss:!1,preventDuplicates:!0,closeHtml:`<button onclick="acceptInvite('${u.data().link}', '${u.data().id}')">Accept</button><br /><button onclick="rejectInvite('${u.data().id}')">Reject</button>`})})}),window.acceptInvite=async(o,u)=>{try{const c=ot(Ke,"gameInvitations",u);await gn(c,{gameConcluded:!0,gameAccepted:"true"})}catch(c){console.log(c)}setTimeout(()=>{window.open(`https://chess-game-fh3hl.ondigitalocean.app/black?code=${o}`,"_blank")},500)},window.rejectInvite=async o=>{try{const u=ot(Ke,"gameInvitations",o);await gn(u,{gameConcluded:!0,gameAccepted:"false"})}catch(u){console.log(u)}})},[]),$.useEffect(()=>{if((t==null?void 0:t.uid)===void 0)return;const o=bs(Tu(Ke,"presence"),u=>{u.forEach(async c=>{const h=c.data();if(t.uid&&c.id!==t.uid&&!h.hasShown&&h.online)try{const g=ot(Ke,"presence",c.id);await gn(g,{hasShown:!0}),Es.info(`${h.name} has just logged in!`,{timeOut:8e3,extendedTimeOut:0,closeButton:!0,positionClass:"toast-top-right",tapToDismiss:!1,preventDuplicates:!0})}catch(g){console.log("updating presence error",g)}})});return()=>o()},[t.uid]),$.useEffect(()=>{t.uid&&bs(Tu(Ke,"chats"),o=>{o.forEach(u=>{var v,w;const c=u.data().messages.length,h=(v=u.data().messages[c-1])==null?void 0:v.receiverId,g=(w=u.data().messages[c-1])==null?void 0:w.fullDate.seconds;h===t.uid&&g===ze.now().seconds&&s.current.play()})})},[]),$.useEffect(()=>{const o=()=>{window.innerWidth<940?(n(!1),e(!0)):(n(!0),e(!0))};return window.addEventListener("resize",o),o(),()=>window.removeEventListener("resize",o)},[]),W.jsx("div",{className:"home",children:W.jsxs("div",{className:"container",children:[r&&W.jsx(UF,{}),i&&W.jsx(YF,{}),W.jsx("audio",{src:JF,ref:s})]})})};function e4(){const{currentUser:t}=$.useContext(zr),e=({children:n})=>t?n:W.jsx(y0,{to:"/login"});return W.jsx($x,{children:W.jsxs(bx,{children:[W.jsx(Ja,{path:"/",index:!0,element:W.jsx(e,{children:W.jsx(ZF,{})})}),W.jsx(Ja,{path:"register",element:W.jsx(kF,{})}),W.jsx(Ja,{path:"login",element:W.jsx(PF,{})}),W.jsx(Ja,{path:"*",element:W.jsx(y0,{to:"/"})})]})})}Sp.createRoot(document.getElementById("root")).render(W.jsx(aF,{children:W.jsx(NF,{children:W.jsx(OF,{children:W.jsx(e4,{})})})}));
